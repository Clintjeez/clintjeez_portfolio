"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7452],{54267:function(e,t,l){let n;l.r(t),l.d(t,{$createAutoLinkNode:function(){return tC},$createBlockNode:function(){return es},$createInlineBlockNode:function(){return o.d},$createLinkNode:function(){return tp},$createRelationshipNode:function(){return lD},$createUploadNode:function(){return nO},$isAutoLinkNode:function(){return tk},$isBlockNode:function(){return ed},$isInlineBlockNode:function(){return o.e},$isLinkNode:function(){return tf},$isRelationshipNode:function(){return lV},$isUploadNode:function(){return nA},AlignFeatureClient:function(){return U},AutoLinkNode:function(){return tx},BlockCollapsible:function(){return n8},BlockEditButton:function(){return n9},BlockNode:function(){return ea},BlockRemoveButton:function(){return oe},BlockquoteFeatureClient:function(){return q},BlocksFeatureClient:function(){return ep},BoldFeatureClient:function(){return eN},CAN_USE_DOM:function(){return d.a},ChecklistFeatureClient:function(){return tQ},DETAIL_TYPE_TO_DETAIL:function(){return lv},DOUBLE_LINE_BREAK:function(){return lc},DebugJsxConverterFeatureClient:function(){return l_},ELEMENT_FORMAT_TO_TYPE:function(){return lx},ELEMENT_TYPE_TO_FORMAT:function(){return lb},ENABLE_SLASH_MENU_COMMAND:function(){return d.i},EditorConfigProvider:function(){return u.a},FieldsDrawer:function(){return i.a},FixedToolbarFeatureClient:function(){return nl},HeadingFeatureClient:function(){return e$},HorizontalRuleFeatureClient:function(){return te},INSERT_BLOCK_COMMAND:function(){return eu},INSERT_INLINE_BLOCK_COMMAND:function(){return ec},IS_ALL_FORMATTING:function(){return ld},IndentFeatureClient:function(){return ti},InlineBlockContainer:function(){return n7},InlineBlockEditButton:function(){return n6},InlineBlockLabel:function(){return n4},InlineBlockNode:function(){return o.c},InlineBlockRemoveButton:function(){return n3},InlineCodeFeatureClient:function(){return eI},InlineToolbarFeatureClient:function(){return ns},ItalicFeatureClient:function(){return eM},LTR_REGEX:function(){return lm},LexicalPluginToLexicalFeatureClient:function(){return le},LinkFeatureClient:function(){return tK},LinkNode:function(){return tc},NON_BREAKING_SPACE:function(){return lu},NodeFormat:function(){return ls},OrderedListFeatureClient:function(){return t5},ParagraphFeatureClient:function(){return lr},Point:function(){return d.f},RTL_REGEX:function(){return lf},Rect:function(){return d.k},RelationshipFeatureClient:function(){return lX},RelationshipNode:function(){return lH},RichTextField:function(){return nJ},SlateToLexicalFeatureClient:function(){return ln},StrikethroughFeatureClient:function(){return eA},SubscriptFeatureClient:function(){return eP},SuperscriptFeatureClient:function(){return eH},TEXT_MODE_TO_TYPE:function(){return lC},TEXT_TYPE_TO_FORMAT:function(){return lg},TEXT_TYPE_TO_MODE:function(){return lk},TOGGLE_LINK_COMMAND:function(){return tm},TableFeatureClient:function(){return nE},TestRecorderFeatureClient:function(){return ek},TextStateFeatureClient:function(){return eW},ToolbarButton:function(){return lq},ToolbarDropdown:function(){return l7},TreeViewFeatureClient:function(){return ew},UnderlineFeatureClient:function(){return eV},UnorderedListFeatureClient:function(){return t7},UploadFeatureClient:function(){return nZ},UploadNode:function(){return nM},addSwipeDownListener:function(){return n5},addSwipeLeftListener:function(){return n0},addSwipeRightListener:function(){return n1},addSwipeUpListener:function(){return n2},createBlockNode:function(){return eJ},createClientFeature:function(){return Z},defaultColors:function(){return lF},defaultEditorLexicalConfig:function(){return nK},getDOMRangeRect:function(){return nn},getEnabledNodes:function(){return d.l},getRestPopulateFn:function(){return ot},getSelectedNode:function(){return ts},isHTMLElement:function(){return nX},isPoint:function(){return d.g},joinClasses:function(){return nY},sanitizeClientEditorConfig:function(){return nG},sanitizeClientFeatures:function(){return nU},setFloatingElemPosition:function(){return no},setFloatingElemPositionForLinkEditor:function(){return tO},slashMenuBasicGroupWithItems:function(){return V},toolbarAddDropdownGroupWithItems:function(){return e1},toolbarFeatureButtonsGroupWithItems:function(){return td},toolbarFormatGroupWithItems:function(){return ey},toolbarTextDropdownGroupWithItems:function(){return J},useBlockComponentContext:function(){return en},useEditorConfigContext:function(){return u.b},useInlineBlockComponentContext:function(){return o.a},useLexicalDocumentDrawer:function(){return s.a},useLexicalDrawer:function(){return a.a},useLexicalListDrawer:function(){return lz}});var o=l(84846),r=l(74209),i=l(56095),a=l(31567),s=l(68458),d=l(54135),u=l(28724),c=l(50429),h=l(57437),p=l(2265),f=l(83724),m=l(6346),g=l(46778),v=l(24958),b=l(89762),x=l(23521),C=l(64667),k=l(76578),w=l(60289),y=l(97308),_=l(16786),E=l(17433),T=l(20920),S=l(60605),L=l(49401),N=l(8022),j=l(22102),I=l(55021),F=l(63507),M=l(54887),O=l(62446),A=l(63725),R=l(26145),P=l(38831),B=l(38022),H=l(9535),D=l(32723);function V(e){return{items:e,key:"basic",label:e=>{let{i18n:t}=e;return t.t("lexical:general:slashMenuBasicGroupLabel")}}}var z=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M2.5 5H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M2.5 10H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M2.5 15H12.5",stroke:"currentColor",strokeWidth:"1.5"})]}),Z=e=>t=>{let l={clientFeatureProps:t};if("function"==typeof e)l.feature=l=>{let{config:n,featureClientImportMap:o,featureClientSchemaMap:r,featureProviderMap:i,field:a,resolvedFeatures:s,schemaPath:d,unSanitizedEditorConfig:u}=l,c=e({config:n,featureClientImportMap:o,featureClientSchemaMap:r,featureProviderMap:i,field:a,props:t,resolvedFeatures:s,schemaPath:d,unSanitizedEditorConfig:u});return null===c.sanitizedClientFeatureProps&&(c.sanitizedClientFeatureProps=t),c};else{let n={...e};n.sanitizedClientFeatureProps=t,l.feature=n}return l},K=[(n=[{ChildComponent:z,isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes()){if((0,c.F7b)(e)&&"left"===e.getFormatType())continue;let t=e.getParent();if(!((0,c.F7b)(t)&&"left"===t.getFormatType()))return!1}return!0},key:"alignLeft",label:e=>{let{i18n:t}=e;return t.t("lexical:align:alignLeftLabel")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.ROy,"left")},order:1},{ChildComponent:()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M2.5 5H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M2.5 10H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M5 15H15",stroke:"currentColor",strokeWidth:"1.5"})]}),isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes()){if((0,c.F7b)(e)&&"center"===e.getFormatType())continue;let t=e.getParent();if(!((0,c.F7b)(t)&&"center"===t.getFormatType()))return!1}return!0},key:"alignCenter",label:e=>{let{i18n:t}=e;return t.t("lexical:align:alignCenterLabel")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.ROy,"center")},order:2},{ChildComponent:()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M2.5 5H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M2.5 10H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M7.5 15H17.5",stroke:"currentColor",strokeWidth:"1.5"})]}),isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes()){if((0,c.F7b)(e)&&"right"===e.getFormatType())continue;let t=e.getParent();if(!((0,c.F7b)(t)&&"right"===t.getFormatType()))return!1}return!0},key:"alignRight",label:e=>{let{i18n:t}=e;return t.t("lexical:align:alignRightLabel")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.ROy,"right")},order:3},{ChildComponent:()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M2.5 5H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M2.5 10H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M2.5 15H17.5",stroke:"currentColor",strokeWidth:"1.5"})]}),isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes()){if((0,c.F7b)(e)&&"justify"===e.getFormatType())continue;let t=e.getParent();if(!((0,c.F7b)(t)&&"justify"===t.getFormatType()))return!1}return!0},key:"alignJustify",label:e=>{let{i18n:t}=e;return t.t("lexical:align:alignJustifyLabel")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.ROy,"justify")},order:4}],{type:"dropdown",ChildComponent:z,items:n,key:"align",order:30})],U=Z({toolbarFixed:{groups:K},toolbarInline:{groups:K}}),G=()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M13.5353 10.5725C13.5353 9.47709 11.0456 9.99991 11.0456 7.85883C11.0456 6.46464 12.1162 5.61816 13.361 5.61816C14.805 5.61816 16 6.86298 16 8.92937C16 11.2945 14.4564 13.7841 11.1203 14.3816L10.8216 13.1368C12.888 12.4895 13.5353 11.4937 13.5353 10.5725ZM6.71369 10.5725C6.71369 9.47709 4.22407 9.99991 4.22407 7.85883C4.22407 6.46464 5.29461 5.61816 6.53942 5.61816C7.9834 5.61816 9.17842 6.86298 9.17842 8.92937C9.17842 11.2945 7.63485 13.7841 4.29876 14.3816L4 13.1368C6.06639 12.4895 6.71369 11.4937 6.71369 10.5725Z",fill:"currentColor"})}),W=()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M11.708 14.5H7.79785V13.9414H8.01367C9.00391 13.9414 9.15625 13.9033 9.15625 13.6113V6.70508H8.07715C6.82031 6.70508 6.73145 7.08594 6.28711 8.67285H5.80469L5.91895 6.12109H13.5869L13.7012 8.67285H13.2188C12.7744 7.08594 12.6855 6.70508 11.4287 6.70508H10.3496V13.6113C10.3496 13.9033 10.502 13.9414 11.4922 13.9414H11.708V14.5Z",fill:"currentColor"})}),J=e=>({type:"dropdown",ChildComponent:W,items:e,key:"text",order:25}),X={type:"element",dependencies:[f.rT],export:(e,t)=>{if(!(0,f.O)(e))return null;let l=t(e).split("\n"),n=[];for(let e of l)n.push("> "+e);return n.join("\n")},regExp:/^>\s/,replace:(e,t,l,n)=>{if(n){let l=e.getPreviousSibling();if((0,f.O)(l)){l.splice(l.getChildrenSize(),0,[...t]),l.select(0,0),e.remove();return}}let o=(0,f.Z1)();o.append(...t),e.replace(o),o.select(0,0)}},Y=[J([{ChildComponent:G,isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes())if(!(0,f.O)(e)&&!(0,f.O)(e.getParent()))return!1;return!0},key:"blockquote",label:e=>{let{i18n:t}=e;return t.t("lexical:blockquote:label")},onSelect:e=>{let{editor:t}=e;t.update(()=>{let e=(0,c.dL7)();(0,m.Hz)(e,()=>(0,f.Z1)())})},order:20}])],q=Z({markdownTransformers:[X],nodes:[f.rT],slashMenu:{groups:[V([{Icon:G,key:"blockquote",keywords:["quote","blockquote"],label:e=>{let{i18n:t}=e;return t.t("lexical:blockquote:label")},onSelect:e=>{let{editor:t}=e;t.update(()=>{let e=(0,c.dL7)();(0,m.Hz)(e,()=>(0,f.Z1)())})}}])]},toolbarFixed:{groups:Y},toolbarInline:{groups:Y}}),$=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("rect",{height:"4",rx:"0.5",stroke:"currentColor",width:"4",x:"8",y:"5"}),(0,h.jsx)("rect",{height:"4",rx:"0.5",stroke:"currentColor",width:"4",x:"5",y:"11"}),(0,h.jsx)("rect",{height:"4",rx:"0.5",stroke:"currentColor",width:"4",x:"11",y:"11"})]}),Q=()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{clipRule:"evenodd",d:"M5.33333 6.5C5.11232 6.5 4.90036 6.5878 4.74408 6.74408C4.5878 6.90036 4.5 7.11232 4.5 7.33333V12.1667C4.5 12.3877 4.5878 12.5996 4.74408 12.7559C4.90036 12.9122 5.11232 13 5.33333 13H14.6667C14.8877 13 15.0996 12.9122 15.2559 12.7559C15.4122 12.5996 15.5 12.3877 15.5 12.1667V11.6667C15.5 11.3905 15.7239 11.1667 16 11.1667C16.2761 11.1667 16.5 11.3905 16.5 11.6667V12.1667C16.5 12.6529 16.3068 13.1192 15.963 13.463C15.6192 13.8068 15.1529 14 14.6667 14H5.33333C4.8471 14 4.38079 13.8068 4.03697 13.463C3.69315 13.1192 3.5 12.6529 3.5 12.1667V7.33333C3.5 6.8471 3.69315 6.38079 4.03697 6.03697C4.38079 5.69315 4.8471 5.5 5.33333 5.5H10.3333C10.6095 5.5 10.8333 5.72386 10.8333 6C10.8333 6.27614 10.6095 6.5 10.3333 6.5H5.33333ZM13 6.5C12.7239 6.5 12.5 6.27614 12.5 6C12.5 5.72386 12.7239 5.5 13 5.5H16C16.2761 5.5 16.5 5.72386 16.5 6V9C16.5 9.27614 16.2761 9.5 16 9.5C15.7239 9.5 15.5 9.27614 15.5 9V7.20711L13.3536 9.35355C13.1583 9.54882 12.8417 9.54882 12.6464 9.35355C12.4512 9.15829 12.4512 8.84171 12.6464 8.64645L14.7929 6.5H13ZM6.16699 8.33325C6.16699 8.05711 6.39085 7.83325 6.66699 7.83325H11.0003C11.2765 7.83325 11.5003 8.05711 11.5003 8.33325C11.5003 8.60939 11.2765 8.83325 11.0003 8.83325H6.66699C6.39085 8.83325 6.16699 8.60939 6.16699 8.33325ZM6.16699 10.9999C6.16699 10.7238 6.39085 10.4999 6.66699 10.4999H13.3337C13.6098 10.4999 13.8337 10.7238 13.8337 10.9999C13.8337 11.2761 13.6098 11.4999 13.3337 11.4999H6.66699C6.39085 11.4999 6.16699 11.2761 6.16699 10.9999Z",fill:"currentColor",fillRule:"evenodd"})});function ee(e,t){return e?()=>(0,h.jsx)("img",{alt:null!=t?t:"Block Image",className:"lexical-block-custom-image",src:e,style:{maxHeight:20,maxWidth:20}}):$}var et=class extends b.K{static clone(e){return new this({cacheBuster:e.__cacheBuster,fields:e.__fields,format:e.__format,key:e.__key})}static getType(){return"block"}static importDOM(){return{}}static importJSON(e){var t;1===e.version&&(e={...e,fields:{...e.fields.data},version:2});let l=new et({fields:{...t=e.fields,id:(null==t?void 0:t.id)||new v.default().toHexString()}});return l.setFormat(e.format),l}static isInline(){return!1}decorate(e,t){return null}exportDOM(){let e=document.createElement("div"),t=document.createTextNode(this.getTextContent());return e.append(t),{element:e}}exportJSON(){return{...super.exportJSON(),type:"block",fields:this.getFields(),version:2}}getCacheBuster(){return this.getLatest().__cacheBuster}getFields(){return this.getLatest().__fields}getTextContent(){return"Block Field"}setFields(e,t){let l=this.getWritable();l.__fields=e,t||l.__cacheBuster++}constructor({cacheBuster:e,fields:t,format:l,key:n}){super(l,n),this.__fields=t,this.__cacheBuster=e||0}},el=(0,p.createContext)({initialState:!1}),en=()=>p.use(el),eo=e=>{let t,l=(0,S.c)(13),{BlockDrawer:n,Collapsible:o,CustomBlock:r,EditButton:i,errorCount:a,formSchema:s,initialState:d,nodeKey:u,RemoveButton:c}=e,p=(0,x.useFormSubmitted)()&&a>0,f,m;return l[0]!==o||l[1]!==a||l[2]!==p?(m=e=>(0,h.jsx)(o,{editButton:e.editButton,errorCount:a,fieldHasErrors:p,Label:e.Label,removeButton:e.removeButton,children:e.children}),l[0]=o,l[1]=a,l[2]=p,l[3]=m):m=l[3],f=m,l[4]!==n||l[5]!==f||l[6]!==r||l[7]!==i||l[8]!==c||l[9]!==s||l[10]!==d||l[11]!==u?(t=r?(0,h.jsxs)(el,{value:{BlockCollapsible:f,EditButton:i,initialState:d,nodeKey:u,RemoveButton:c},children:[r,(0,h.jsx)(n,{})]}):(0,h.jsx)(f,{children:(0,h.jsx)(x.RenderFields,{fields:s,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:"",permissions:!0})}),l[4]=n,l[5]=f,l[6]=r,l[7]=i,l[8]=c,l[9]=s,l[10]=d,l[11]=u,l[12]=t):t=l[12],t},er="lexical-block",ei=e=>{var t,l,n,o,r,i,s,d,f,m,v,b,S,L,N,j;let{cacheBuster:I,formData:F,nodeKey:M}=e,O=(0,x.useFormSubmitted)(),{id:A,collectionSlug:R,globalSlug:P}=(0,x.useDocumentInfo)(),{fieldProps:{featureClientSchemaMap:B,field:H,initialLexicalFormState:D,permissions:V,readOnly:z,schemaPath:Z},uuid:K}=(0,u.b)(),{fields:U}=(0,x.useDocumentForm)(),G=(0,p.useRef)(new AbortController),W=(0,x.useEditDepth)(),[J,X]=p.useState(0),{config:Y}=(0,C.b)(),q=(0,x.formatDrawerSlug)({slug:"lexical-blocks-create-".concat(K,"-").concat(F.id),depth:W}),{toggleDrawer:$}=(0,a.a)(q),{getDocPreferences:Q,setDocFieldPreferences:ee}=(0,x.useDocumentInfo)(),[et]=(0,E.g)(),{getFormState:el}=(0,x.useServerFunctions)(),en="".concat(Z,".lexical_internal_feature.blocks.lexical_blocks.").concat(F.blockType,".fields"),[ei,ea]=p.useState(()=>{var e,t;return null!=D&&null!==(e=D[F.id])&&void 0!==e&&!!e.formState&&{...null==D?void 0:null===(t=D[F.id])||void 0===t?void 0:t.formState,blockName:{initialValue:F.blockName,passesCondition:!0,valid:!0,value:F.blockName}}}),es=(0,p.useRef)(!1),eu=(0,p.useRef)(I);(0,p.useEffect)(()=>{es.current?(eu.current!==I&&ea(!1),eu.current=I):es.current=!0},[I]);let[ec,eh]=p.useState(null==ei?void 0:null===(l=ei._components)||void 0===l?void 0:null===(t=l.customComponents)||void 0===t?void 0:t.BlockLabel),[ep,ef]=p.useState(null==ei?void 0:null===(o=ei._components)||void 0===o?void 0:null===(n=o.customComponents)||void 0===n?void 0:n.Block);(0,p.useEffect)(()=>{let e=new AbortController;return F&&!ei&&(async()=>{let{state:t}=await el({id:A,collectionSlug:R,data:F,docPermissions:{fields:!0},docPreferences:await Q(),documentFormState:(0,y.Kz)(U),globalSlug:P,initialBlockData:F,operation:"update",renderAllFields:!0,schemaPath:en,signal:e.signal});if(t){var l,n,o,r;t.blockName={initialValue:F.blockName,passesCondition:!0,valid:!0,value:F.blockName};let e=(0,_.Q)((0,y.Kz)(t),!0);et.update(()=>{let t=(0,c.gID)(M);t&&ed(t)&&(e.blockType=F.blockType,t.setFields(e,!0))}),ea(t),eh(null===(n=t._components)||void 0===n?void 0:null===(l=n.customComponents)||void 0===l?void 0:l.BlockLabel),ef(null===(r=t._components)||void 0===r?void 0:null===(o=r.customComponents)||void 0===o?void 0:o.Block)}})(),()=>{(0,w.jg)(e)}},[el,en,A,F,et,M,ei,R,P,Q,U]);let[em,eg]=p.useState(null!==(j=null==D?void 0:null===(r=D[F.id])||void 0===r?void 0:r.collapsed)&&void 0!==j&&j),ev="".concat(Z,".lexical_internal_feature.blocks.lexical_blocks.").concat(F.blockType),eb=null===(s=B.blocks)||void 0===s?void 0:null===(i=s[ev])||void 0===i?void 0:i[0],ex=eb.blockReferences?"string"==typeof(null==eb?void 0:null===(d=eb.blockReferences)||void 0===d?void 0:d[0])?Y.blocksMap[null==eb?void 0:null===(f=eb.blockReferences)||void 0===f?void 0:f[0]]:null==eb?void 0:null===(m=eb.blockReferences)||void 0===m?void 0:m[0]:null==eb?void 0:null===(v=eb.blocks)||void 0===v?void 0:v[0],{i18n:eC,t:ek}=(0,k.d)(),ew=(0,p.useCallback)(async e=>{let{formState:t,submit:l}=e;(0,w.jg)(G.current);let n=new AbortController;G.current=n;let{state:o}=await el({id:A,collectionSlug:R,docPermissions:{fields:!0},docPreferences:await Q(),documentFormState:(0,y.Kz)(U),formState:t,globalSlug:P,initialBlockFormState:t,operation:"update",renderAllFields:!!l,schemaPath:en,signal:n.signal});if(!o)return t;t.blockName&&(o.blockName=t.blockName);let r=(0,_.Q)(function(e){let{fields:t}=e;for(let e in t){let l=t[e];Array.isArray(null==l?void 0:l.rows)&&"value"in l&&(l.disableFormData=!0)}return t}({fields:(0,y.Kz)(o)}),!0);if(setTimeout(()=>{et.update(()=>{let e=(0,c.gID)(M);e&&ed(e)&&(r.blockType=F.blockType,e.setFields(r,!0))})},0),l){var i,a,s,d;eh(null===(a=o._components)||void 0===a?void 0:null===(i=a.customComponents)||void 0===i?void 0:i.BlockLabel),ef(null===(d=o._components)||void 0===d?void 0:null===(s=d.customComponents)||void 0===s?void 0:s.Block);let e=0;for(let t of Object.values(o))(null==t?void 0:t.valid)===!1&&e++;X(e)}return o},[el,A,R,Q,P,en,F.blockType,U,et,M]);(0,p.useEffect)(()=>()=>{(0,w.jg)(G.current)},[]);let ey=(0,p.useCallback)(()=>{et.update(()=>{var e;null===(e=(0,c.gID)(M))||void 0===e||e.remove()})},[et,M]),e_=(null==ex?void 0:null===(b=ex.labels)||void 0===b?void 0:b.singular)?(0,g.i)(ex.labels.singular,eC):null==ex?void 0:ex.slug,eE=(0,p.useCallback)(e=>{Q().then(t=>{var l,n;let o=null==t?void 0:null===(n=t.fields)||void 0===n?void 0:null===(l=n[H.name])||void 0===l?void 0:l.collapsed,r=o&&(null==o?void 0:o.length)?o:[];e?r.includes(F.id)||r.push(F.id):r.includes(F.id)&&r.splice(r.indexOf(F.id),1),ee(H.name,{collapsed:r,hello:"hi"})})},[Q,H.name,ee,F.id]),eT=(0,p.useMemo)(()=>()=>(0,h.jsx)(x.Button,{buttonStyle:"icon-label",className:"".concat(er,"__editButton"),disabled:z,el:"button",icon:"edit",onClick:e=>(e.preventDefault(),e.stopPropagation(),$(),!1),onMouseDown:e=>{e.preventDefault()},round:!0,size:"small",tooltip:ek("lexical:blocks:inlineBlocks:edit",{label:e_})}),[e_,z,ek,$]),eS=(0,p.useMemo)(()=>()=>{var e;return(0,h.jsx)(x.Button,{buttonStyle:"icon-label",className:"".concat(er,"__removeButton"),disabled:(null==H?void 0:null===(e=H.admin)||void 0===e?void 0:e.readOnly)||!1,icon:"x",onClick:e=>{e.preventDefault(),ey()},round:!0,tooltip:"Remove Block"})},[null==H?void 0:null===(S=H.admin)||void 0===S?void 0:S.readOnly,ey]),eL=(0,p.useMemo)(()=>e=>{var t,l;let{children:n,disableBlockName:o,editButton:r,errorCount:i,fieldHasErrors:a,Label:s,removeButton:d}=e;return(0,h.jsx)("div",{className:er+" "+er+"-"+F.blockType,children:(0,h.jsx)(x.Collapsible,{className:["".concat(er,"__row"),a?"".concat(er,"__row--has-errors"):"".concat(er,"__row--no-errors")].join(" "),collapsibleStyle:a?"error":"default",header:(0,h.jsxs)("div",{className:"".concat(er,"__block-header"),children:[(null!=s?s:ec)?null!=s?s:ec:(0,h.jsxs)("div",{children:[(0,h.jsx)(x.Pill,{className:"".concat(er,"__block-pill ").concat(er,"__block-pill-").concat(null==F?void 0:F.blockType),pillStyle:"white",size:"small",children:null!=e_?e_:null==F?void 0:F.blockType}),!o&&!(null==ex?void 0:null===(t=ex.admin)||void 0===t?void 0:t.disableBlockName)&&(0,h.jsx)(x.SectionTitle,{path:"blockName",readOnly:(null==H?void 0:null===(l=H.admin)||void 0===l?void 0:l.readOnly)||!1}),a&&(0,h.jsx)(x.ErrorPill,{count:null!=i?i:0,i18n:eC,withMessage:!0})]}),(0,h.jsxs)("div",{children:[ep&&!1!==r||!ep&&r?(0,h.jsx)(eT,{}):null,!1!==d&&et.isEditable()?(0,h.jsx)(eS,{}):null]})]}),isCollapsed:em,onToggle:e=>{eE(e),eg(e)},children:n},0)})},[ep,ec,eT,eS,e_,null==ex?void 0:null===(L=ex.admin)||void 0===L?void 0:L.disableBlockName,et,F.blockType,eC,em,eE,null==H?void 0:null===(N=H.admin)||void 0===N?void 0:N.readOnly]),eN=(0,p.useMemo)(()=>()=>{var e;return(0,h.jsx)(x.EditDepthProvider,{children:(0,h.jsx)(x.Drawer,{className:"",slug:q,title:ek("lexical:blocks:inlineBlocks:".concat((null==F?void 0:F.id)?"edit":"create"),{label:null!=e_?e_:ek("lexical:blocks:inlineBlocks:label")}),children:ei?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x.RenderFields,{fields:null!==(e=null==ex?void 0:ex.fields)&&void 0!==e?e:[],forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:en,permissions:!0,readOnly:!1}),(0,h.jsx)(x.FormSubmit,{programmaticSubmit:!0,children:ek("fields:saveChanges")})]}):null})})},[ei,q,e_,ek,null==ex?void 0:ex.fields,en,V]),ej=(0,p.useMemo)(()=>{var e,t;return ei?(0,h.jsx)(x.Form,{beforeSubmit:[async e=>{let{formState:t}=e;return await ew({formState:t,submit:!0})}],el:"div",fields:null!==(e=null==ex?void 0:ex.fields)&&void 0!==e?e:[],initialState:ei,onChange:[ew],onSubmit:(e,t)=>{t.blockType=F.blockType,et.update(()=>{let e=(0,c.gID)(M);e&&ed(e)&&e.setFields(t,!0)}),$()},submitted:O,uuid:(0,T.Z)(),children:(0,h.jsx)(eo,{baseClass:er,BlockDrawer:eN,Collapsible:eL,CustomBlock:ep,EditButton:eT,errorCount:J,formSchema:null!==(t=null==ex?void 0:ex.fields)&&void 0!==t?t:[],initialState:ei,nodeKey:M,RemoveButton:eS})}):null},[eL,eN,ep,null==ex?void 0:ex.fields,eS,eT,et,J,$,null==ex?void 0:ex.fields,ei,M,ew,O]);return ex?ej:(0,h.jsx)(eL,{disableBlockName:!0,fieldHasErrors:!0,children:(0,h.jsxs)("div",{className:"lexical-block-not-found",children:["Error: Block '",F.blockType,"' not found in the config but exists in the lexical data"]})})},ea=class extends et{static clone(e){return super.clone(e)}static getType(){return super.getType()}static importJSON(e){1===e.version&&(e={...e,fields:{...e.fields.data},version:2});let t=es(e.fields);return t.setFormat(e.format),t}decorate(e,t){return(0,h.jsx)(ei,{cacheBuster:this.getCacheBuster(),formData:this.getFields(),nodeKey:this.getKey()})}exportJSON(){return super.exportJSON()}};function es(e){return new ea({fields:{...e,id:(null==e?void 0:e.id)||new v.default().toHexString()}})}function ed(e){return e instanceof ea}var eu=(0,c.fAf)("INSERT_BLOCK_COMMAND"),ec=(0,c.fAf)("INSERT_INLINE_BLOCK_COMMAND"),eh=()=>{let e,t=(0,S.c)(12),[l]=(0,E.g)(),[n,r]=(0,p.useState)(null),{setCreatedInlineBlock:i,uuid:s}=(0,u.b)(),d=(0,x.useEditDepth)(),h="lexical-inlineBlocks-create-"+s,f;t[0]!==d||t[1]!==h?(f=(0,x.formatDrawerSlug)({slug:h,depth:d}),t[0]=d,t[1]=h,t[2]=f):f=t[2];let m=f,{toggleDrawer:g}=(0,a.a)(m,!0),v;return t[3]!==l||t[4]!==i||t[5]!==n?(v=()=>{if(!l.hasNodes([ea]))throw Error("BlocksPlugin: BlocksNode not registered on editor");return(0,L.qV)(l.registerCommand(eu,e=>(l.update(()=>{let t=(0,c.dL7)()||(0,c.DNT)();if((0,c.OPZ)(t)){let l=es(e),{focus:n}=t,o=n.getNode();(0,L.z8)(l),(0,c.Rlh)(o)&&!o.__first&&o.remove()}}),!0),c.VNZ),l.registerCommand(ec,e=>{if(n){let t=(0,c.gID)(n);return!!(t&&(0,o.e)(t))&&(t.setFields(e),r(null),!0)}let t=(0,o.d)(e);return null==i||i(t),(0,c.odo)([t]),(0,c._vQ)(t.getParentOrThrow())&&(0,L.JB)(t,c.BEw).selectEnd(),!0},c.VNZ))},t[3]=l,t[4]=i,t[5]=n,t[6]=v):v=t[6],t[7]!==l||t[8]!==i||t[9]!==n||t[10]!==g?(e=[l,i,n,g],t[7]=l,t[8]=i,t[9]=n,t[10]=g,t[11]=e):e=t[11],(0,p.useEffect)(v,e),null},ep=Z(e=>{let{config:t,featureClientSchemaMap:l,props:n,schemaPath:r}=e,i="".concat(r,".lexical_internal_feature.blocks.lexical_blocks"),a="".concat(r,".lexical_internal_feature.blocks.lexical_inline_blocks"),s=l.blocks;if(!s)return{};let d=Object.entries(s).filter(e=>{let[t]=e;return t.startsWith(i+".")&&!t.replace(i+".","").includes(".")}).map(e=>{let[,t]=e;return t[0]}),u=Object.entries(s).filter(e=>{let[t]=e;return t.startsWith(a+".")&&!t.replace(a+".","").includes(".")}).map(e=>{let[,t]=e;return t[0]}),c=d.map(e=>e.blockReferences?"string"==typeof e.blockReferences[0]?t.blocksMap[e.blockReferences[0]]:e.blockReferences[0]:e.blocks[0]).filter(e=>void 0!==e),h=u.map(e=>e.blockReferences?"string"==typeof e.blockReferences[0]?t.blocksMap[e.blockReferences[0]]:e.blockReferences[0]:e.blocks[0]).filter(e=>void 0!==e);return{nodes:[ea,o.c],plugins:[{Component:eh,position:"normal"}],sanitizedClientFeatureProps:n,slashMenu:{groups:[(null==c?void 0:c.length)?{items:c.map(e=>({Icon:ee(e.imageURL,e.imageAltText),key:"block-"+e.slug,keywords:["block","blocks",e.slug],label:t=>{var l;let{i18n:n}=t;return(null==e?void 0:null===(l=e.labels)||void 0===l?void 0:l.singular)?(0,g.i)(e.labels.singular,n):null==e?void 0:e.slug},onSelect:t=>{let{editor:l}=t;l.dispatchCommand(eu,{blockName:"",blockType:e.slug})}})),key:"blocks",label:e=>{let{i18n:t}=e;return t.t("lexical:blocks:label")}}:null,(null==h?void 0:h.length)?{items:h.map(e=>({Icon:Q,key:"inlineBlocks-"+e.slug,keywords:["inlineBlock","inline block",e.slug],label:t=>{var l;let{i18n:n}=t;return(null==e?void 0:null===(l=e.labels)||void 0===l?void 0:l.singular)?(0,g.i)(e.labels.singular,n):null==e?void 0:e.slug},onSelect:t=>{let{editor:l}=t;l.dispatchCommand(ec,{blockName:"",blockType:e.slug})}})),key:"inlineBlocks",label:e=>{let{i18n:t}=e;return t.t("lexical:blocks:inlineBlocks:label")}}:null].filter(Boolean)},toolbarFixed:{groups:[c.length?{type:"dropdown",ChildComponent:$,items:c.map((e,t)=>({ChildComponent:ee(e.imageURL,e.imageAltText),isActive:void 0,key:"block-"+e.slug,label:t=>{var l;let{i18n:n}=t;return(null==e?void 0:null===(l=e.labels)||void 0===l?void 0:l.singular)?(0,g.i)(e.labels.singular,n):null==e?void 0:e.slug},onSelect:t=>{let{editor:l}=t;l.dispatchCommand(eu,{blockName:"",blockType:e.slug})},order:t})),key:"blocks",order:20}:null,(null==h?void 0:h.length)?{type:"dropdown",ChildComponent:Q,items:h.map((e,t)=>({ChildComponent:e.imageURL?ee(e.imageURL,e.imageAltText):Q,isActive:void 0,key:"inlineBlock-"+e.slug,label:t=>{var l;let{i18n:n}=t;return(null==e?void 0:null===(l=e.labels)||void 0===l?void 0:l.singular)?(0,g.i)(e.labels.singular,n):null==e?void 0:e.slug},onSelect:t=>{let{editor:l}=t;l.dispatchCommand(ec,{blockName:"",blockType:e.slug})},order:t})),key:"inlineBlocks",order:25}:null].filter(Boolean)}}}),ef=d.a&&"documentMode"in document?document.documentMode:null,em=d.a&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);d.a&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),d.a&&"InputEvent"in window&&!ef&&new window.InputEvent("input"),d.a&&/Version\/[\d.].*Safari/.test(navigator.userAgent),d.a&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&window.MSStream,d.a&&/Android/.test(navigator.userAgent),d.a&&/Win/.test(navigator.platform),d.a&&/^(?=.*Chrome).*/i.test(navigator.userAgent),d.a&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent);var eg=e=>{var t,l;let n=document.createElement("textarea");n.value=e||"",n.style.position="absolute",n.style.opacity="0",null===(t=document.body)||void 0===t||t.appendChild(n),n.focus(),n.select();try{let e=document.execCommand("copy");console.log(e)}catch(e){console.error(e)}null===(l=document.body)||void 0===l||l.removeChild(n)},ev=(e,t)=>{var l,n;let o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t||"")),o.setAttribute("download",e),o.style.display="none",null===(l=document.body)||void 0===l||l.appendChild(o),o.click(),null===(n=document.body)||void 0===n||n.removeChild(o)},eb=e=>{let t=((e,t)=>{switch(e){case"click":return"      await page.mouse.click(".concat(t.x,", ").concat(t.y,");");case"keydown":return"      await page.keyboard.keydown('".concat(t,"');");case"keyup":return"      await page.keyboard.keyup('".concat(t,"');");case"press":return"      await page.keyboard.press('".concat(t,"');");case"selectAll":return"      await selectAll(page);";case"snapshot":return"      await assertHTMLSnapshot(page);\n      await assertSelection(page, {\n        anchorPath: [".concat(t.anchorPath.toString(),"],\n        anchorOffset: ").concat(t.anchorOffset,",\n        focusPath: [").concat(t.focusPath.toString(),"],\n        focusOffset: ").concat(t.focusOffset,",\n      });\n");case"type":return"      await page.keyboard.type('".concat(t,"');");default:return""}})(e.name,e.value);switch(e.count){case 1:return t;case 2:return[t,t].join("\n");default:return"      await repeat(".concat(e.count,", async () => {\n  ").concat(t,"\n      );")}};function ex(e,t){var l,n;let o=e,r=[];for(;o!==t;)null!=o&&r.unshift(Array.from(null!==(n=null==o?void 0:null===(l=o.parentNode)||void 0===l?void 0:l.childNodes)&&void 0!==n?n:[]).indexOf(o)),o=null==o?void 0:o.parentNode;return r}var eC=new Set(["ArrowDown","ArrowLeft","ArrowRight","ArrowUp","Backspace","Delete","Enter","Escape"]),ek=Z({plugins:[{Component:()=>{let e=(0,S.c)(3),[t]=(0,E.g)(),[l,n]=function(e){let[t,l]=(0,p.useState)([]),[n,o]=(0,p.useState)(!1),[,r]=(0,p.useState)(""),[i,a]=(0,p.useState)(""),s=(0,p.useRef)(null),d=(0,p.useRef)(!1),u=(0,p.useRef)(null),f=(0,p.useCallback)(()=>e,[e]),m=(0,p.useCallback)(()=>{let l=e.getRootElement(),n=(0,c.Inp)(e._window);return null!=l&&null!=n&&null!=n.anchorNode&&null!=n.focusNode&&l.contains(n.anchorNode)&&l.contains(n.focusNode)?"\nimport {\n  initializeE2E,\n  assertHTMLSnapshot,\n  assertSelection,\n  repeat,\n} from '../utils';\nimport {selectAll} from '../keyboardShortcuts';\nimport { RangeSelection } from 'lexical';\nimport { NodeSelection } from 'lexical';\n\ndescribe('Test case', () => {\n  initializeE2E((e2e) => {\n    it('Should pass this test', async () => {\n      const {page} = e2e;\n\n      await page.focus('div[contenteditable=\"true\"]');\n".concat(t.map(eb).join("\n"),"\n    });\n});\n    "):null},[e,t]),g=(0,p.useCallback)((e,n)=>{l(l=>{let o=t.length-1,r=t[o];if(r&&r.name===e){if("type"===e)return[...t.slice(0,o),{...r,value:r.value+n}];if(r.value===n)return[...t.slice(0,o),{...r,count:r.count+1}]}return[...l,{name:e,count:1,value:n}]})},[t,l]);(0,p.useLayoutEffect)(()=>{let t=e=>{if(!n)return;let t=e.key;"a"===e.key.toLowerCase()&&(em?e.metaKey:e.ctrlKey)?g("selectAll",""):eC.has(t)?g("press",e.key):[...t].length>1?g("keydown",e.key):g("type",e.key)},l=e=>{if(!n)return;let t=e.key;!eC.has(t)&&[...t].length>1&&g("keyup",e.key)};return e.registerRootListener((e,n)=>{null!==n&&(n.removeEventListener("keydown",t),n.removeEventListener("keyup",l)),null!==e&&(e.addEventListener("keydown",t),e.addEventListener("keyup",l))})},[e,n,g]),(0,p.useLayoutEffect)(()=>{u.current&&u.current.scrollTo(0,u.current.scrollHeight)},[m]),(0,p.useEffect)(()=>{if(t){let e=m();null!==e&&a(e),u.current&&u.current.scrollTo(0,u.current.scrollHeight)}},[m,t]),(0,p.useEffect)(()=>e.registerUpdateListener(t=>{let{dirtyElements:l,dirtyLeaves:o,editorState:r}=t;if(!n)return;let i=r._selection,u=s.current,h=d.current;if(u!==i){if(0===o.size&&0===l.size&&!h){let t=(0,c.Inp)(e._window);if(t&&(null==t.anchorNode||null==t.focusNode))return}s.current=i}d.current=!1;let p=m();null!==p&&a(p)}),[e,m,n,g]),(0,p.useEffect)(()=>n?e.registerUpdateListener(()=>{let t=e.getRootElement();null!==t&&r(null==t?void 0:t.innerHTML)}):void 0,[e,n]);let v=(0,p.useCallback)(e=>{n||(e.update(()=>{let e=(0,c.GvG)();e.clear();let t=(0,c.MXo)();e.append((0,c.BEw)().append(t)),t.select()}),l([])),o(e=>!e)},[n]),b=(0,p.useCallback)(()=>{let t;if(!n)return;let l=(0,c.Inp)(e._window);if(null===l||null==l.anchorNode||null==l.focusNode)return;let{anchorNode:o,anchorOffset:r,focusNode:i,focusOffset:a}=function(e){let{anchorNode:t,focusNode:l}=e,{anchorOffset:n,focusOffset:o}=e;return 0!==n&&n--,0!==o&&o--,{anchorNode:t,anchorOffset:n,focusNode:l,focusOffset:o}}(l),s=f().getRootElement(),d;null!==o&&(d=ex(o,s)),null!==i&&(t=ex(i,s)),g("snapshot",{anchorNode:o,anchorOffset:r,anchorPath:d,focusNode:i,focusOffset:a,focusPath:t})},[g,n,f]),x=(0,p.useCallback)(()=>{eg(m())},[m]),C=(0,p.useCallback)(()=>{ev("test.js",m())},[m]);return[(0,h.jsx)("button",{className:"editor-dev-button ".concat(n?"active":""),id:"test-recorder-button",onClick:e=>{v(f()),e.preventDefault()},title:n?"Disable test recorder":"Enable test recorder",type:"button",children:n?"Disable test recorder":"Enable test recorder"}),n?(0,h.jsxs)("div",{className:"test-recorder-output",children:[(0,h.jsxs)("div",{className:"test-recorder-toolbar",children:[(0,h.jsx)("button",{className:"test-recorder-button",id:"test-recorder-button-snapshot",onClick:e=>{b(),e.preventDefault()},title:"Insert snapshot",type:"button",children:"Insert Snapshot"}),(0,h.jsx)("button",{className:"test-recorder-button",id:"test-recorder-button-copy",onClick:e=>{x(),e.preventDefault()},title:"Copy to clipboard",type:"button",children:"Copy"}),(0,h.jsx)("button",{className:"test-recorder-button",id:"test-recorder-button-download",onClick:e=>{C(),e.preventDefault()},title:"Download as a file",type:"button",children:"Download"})]}),(0,h.jsx)("pre",{id:"test-recorder",ref:u,children:i})]}):null]}(t),o;return e[0]!==l||e[1]!==n?(o=(0,h.jsxs)(p.Fragment,{children:[(0,h.jsx)("p",{children:"HI"}),l,n,(0,h.jsx)("p",{children:"DONE"})]}),e[0]=l,e[1]=n,e[2]=o):o=e[2],o},position:"bottom"}]}),ew=Z({plugins:[{Component:()=>{let e=(0,S.c)(2),[t]=(0,E.g)(),l;return e[0]!==t?(l=(0,h.jsx)(N.L,{editor:t,timeTravelButtonClassName:"debug-timetravel-button",timeTravelPanelButtonClassName:"debug-timetravel-panel-button",timeTravelPanelClassName:"debug-timetravel-panel",timeTravelPanelSliderClassName:"debug-timetravel-panel-slider",treeTypeButtonClassName:"debug-treetype-button",viewClassName:"tree-view-output"}),e[0]=t,e[1]=l):l=e[1],l},position:"bottom"}]}),ey=e=>({type:"buttons",items:e,key:"format",order:40}),e_={type:"text-format",format:["bold","italic"],tag:"***"},eE={type:"text-format",format:["bold","italic"],intraword:!1,tag:"___"},eT={type:"text-format",format:["bold"],tag:"**"},eS={type:"text-format",format:["bold"],intraword:!1,tag:"__"},eL=[ey([{ChildComponent:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M10.6772 15H6.27017V5.718H10.4172C12.6792 5.718 13.8492 6.602 13.8492 8.292C13.8492 9.098 13.1992 9.982 12.4712 10.216C13.3812 10.476 14.1742 11.256 14.1742 12.322C14.1742 14.09 12.9002 15 10.6772 15ZM8.46717 9.501H10.3262C11.3012 9.501 11.7042 9.046 11.7042 8.409C11.7042 7.72 11.2362 7.317 10.3392 7.317H8.46717V9.501ZM8.46717 11.061V13.401H10.4822C11.4702 13.401 11.9642 12.959 11.9642 12.218C11.9642 11.49 11.4702 11.061 10.4822 11.061H8.46717Z",fill:"currentColor"})}),isActive:e=>{let{selection:t}=e;return!!((0,c.OPZ)(t)||(0,j.zO)(t))&&t.hasFormat("bold")},key:"bold",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.Ewg,"bold")},order:1}])],eN=Z(e=>{let{featureProviderMap:t}=e,l=[eT,eS];return t.get("italic")&&l.push(eE,e_),{enableFormats:["bold"],markdownTransformers:l,toolbarFixed:{groups:eL},toolbarInline:{groups:eL}}}),ej=[ey([{ChildComponent:()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M7.76465 6L3.76465 10L7.76465 14",stroke:"currentColor"}),(0,h.jsx)("path",{d:"M12.2354 6L16.2354 10L12.2354 14",stroke:"currentColor"})]}),isActive:e=>{let{selection:t}=e;return!!((0,c.OPZ)(t)||(0,j.zO)(t))&&t.hasFormat("code")},key:"inlineCode",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.Ewg,"code")},order:7}])],eI=Z({enableFormats:["code"],markdownTransformers:[{type:"text-format",format:["code"],tag:"`"}],toolbarFixed:{groups:ej},toolbarInline:{groups:ej}}),eF=[ey([{ChildComponent:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M11.311 14.2969L11.0327 15H6.18408L6.4624 14.2969C7.54639 14.2969 7.70752 14.209 7.83936 13.8721L10.8423 6.45996C10.8716 6.38672 10.8862 6.32812 10.8862 6.26953C10.8862 6.09375 10.6519 6.03516 9.80225 6.03516L10.0952 5.33203H14.9438L14.6509 6.03516C13.5669 6.03516 13.4204 6.12305 13.2886 6.45996L10.2856 13.8721C10.2563 13.9453 10.2271 14.0039 10.2271 14.0625C10.2271 14.2383 10.4614 14.2969 11.311 14.2969Z",fill:"currentColor"})}),isActive:e=>{let{selection:t}=e;return!!((0,c.OPZ)(t)||(0,j.zO)(t))&&t.hasFormat("italic")},key:"italic",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.Ewg,"italic")},order:2}])],eM=Z({enableFormats:["italic"],markdownTransformers:[{type:"text-format",format:["italic"],tag:"*"},{type:"text-format",format:["italic"],intraword:!1,tag:"_"}],toolbarFixed:{groups:eF},toolbarInline:{groups:eF}}),eO=[ey([{ChildComponent:()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M5.50756 12.76H7.42756C7.56256 14.215 8.82256 14.71 10.1576 14.71C11.4326 14.71 12.4226 14.14 12.4226 13.06C12.4226 12.28 11.9576 11.845 10.6676 11.605L8.70256 11.245C7.12756 10.96 5.85256 10.21 5.85256 8.335C5.85256 6.43 7.53256 5.11 9.87256 5.11C12.4226 5.11 13.9526 6.22 14.1626 8.23H12.2876C12.1526 7.18 11.2226 6.595 9.88756 6.595C8.59756 6.595 7.78756 7.27 7.78756 8.215C7.78756 9.1 8.34256 9.385 9.49756 9.61L11.5676 10.015C13.3226 10.345 14.3726 11.215 14.3726 12.94C14.3726 14.89 12.5876 16.18 10.2176 16.18C7.66756 16.18 5.70256 15.115 5.50756 12.76Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M4.99756 11.44H15.0026V12.19H4.99756V11.44Z",fill:"currentColor"})]}),isActive:e=>{let{selection:t}=e;return!!((0,c.OPZ)(t)||(0,j.zO)(t))&&t.hasFormat("strikethrough")},key:"strikethrough",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.Ewg,"strikethrough")},order:4}])],eA=Z({enableFormats:["strikethrough"],markdownTransformers:[{type:"text-format",format:["strikethrough"],tag:"~~"}],toolbarFixed:{groups:eO},toolbarInline:{groups:eO}}),eR=[ey([{ChildComponent:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M10.167 15L7.45002 11.36L4.73302 15H2.91302L6.55302 10.177L3.23802 5.718H5.20102L7.54102 8.89L9.89402 5.718H11.714L8.43802 10.06L12.13 15H10.167ZM16.7768 13.258C16.7768 14.155 16.1398 14.532 15.2038 15C14.5538 15.325 14.2808 15.546 14.2418 15.78H16.7898V16.82H12.7208V16.339C12.7208 15.286 13.5918 14.675 14.3588 14.233C15.0868 13.83 15.4378 13.635 15.4378 13.232C15.4378 12.894 15.2038 12.686 14.8268 12.686C14.3848 12.686 14.1248 13.024 14.1118 13.427H12.7468C12.8248 12.426 13.5528 11.633 14.8398 11.633C15.9448 11.633 16.7768 12.257 16.7768 13.258Z",fill:"currentColor"})}),isActive:e=>{let{selection:t}=e;return!!((0,c.OPZ)(t)||(0,j.zO)(t))&&t.hasFormat("subscript")},key:"subscript",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.Ewg,"subscript")},order:5}])],eP=Z({enableFormats:["subscript"],toolbarFixed:{groups:eR},toolbarInline:{groups:eR}}),eB=[ey([{ChildComponent:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M10.167 15L7.45002 11.36L4.73302 15H2.91302L6.55302 10.177L3.23802 5.718H5.20102L7.54102 8.89L9.89402 5.718H11.714L8.43802 10.06L12.13 15H10.167ZM16.7768 7.252C16.7768 8.149 16.1398 8.526 15.2038 8.994C14.5538 9.319 14.2808 9.54 14.2418 9.774H16.7898V10.814H12.7208V10.333C12.7208 9.28 13.5918 8.669 14.3588 8.227C15.0868 7.824 15.4378 7.629 15.4378 7.226C15.4378 6.888 15.2038 6.68 14.8268 6.68C14.3848 6.68 14.1248 7.018 14.1118 7.421H12.7468C12.8248 6.42 13.5528 5.627 14.8398 5.627C15.9448 5.627 16.7768 6.251 16.7768 7.252Z",fill:"currentColor"})}),isActive:e=>{let{selection:t}=e;return!!((0,c.OPZ)(t)||(0,j.zO)(t))&&t.hasFormat("superscript")},key:"superscript",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.Ewg,"superscript")},order:6}])],eH=Z({enableFormats:["superscript"],toolbarFixed:{groups:eB},toolbarInline:{groups:eB}}),eD=[ey([{ChildComponent:()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"currentColor",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M13.9656 11.256C13.9656 13.791 12.5096 15.156 10.0006 15.156C7.50461 15.156 6.03561 13.791 6.03561 11.23V5.718H7.76461V11.243C7.76461 12.868 8.50561 13.778 10.0006 13.778C11.4956 13.778 12.2496 12.868 12.2496 11.243V5.718H13.9656V11.256Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M5.09961 16.3H14.9016V16.95H5.09961V16.3Z",fill:"currentColor"})]}),isActive:e=>{let{selection:t}=e;return!!((0,c.OPZ)(t)||(0,j.zO)(t))&&t.hasFormat("underline")},key:"underline",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.Ewg,"underline")},order:3}])],eV=Z({enableFormats:["underline"],toolbarFixed:{groups:eD},toolbarInline:{groups:eD}}),ez=e=>{let{css:t}=e,l=t?Object.fromEntries(Object.entries(t).map(e=>{let[t,l]=e;return[t.replace(/-([a-z])/g,(e,t)=>t.toUpperCase()),l]})):{};return(0,h.jsx)("span",{style:{...l,alignItems:"center",borderRadius:"4px",display:"flex",fontSize:"16px",height:"20px",justifyContent:"center",width:"20px"},children:"A"})},eZ=new Map;function eK(e,t,l){e.update(()=>{(0,m.jt)(e=>{let n=eZ.get(t);if(!n)throw Error("State config for ".concat(t," not found"));(0,c.IFy)(e,n.stateConfig,l)})})}function eU(){let[e]=(0,E.g)();return(0,p.useEffect)(()=>e.registerMutationListener(c.R2r,t=>{e.getEditorState().read(()=>{for(let[l,n]of t){if("destroyed"===n)continue;let t=(0,c.gID)(l),o=e.getElementByKey(l);if(!t||!o)continue;let r=Object.create(null);eZ.forEach((e,l)=>{var n;let i=(0,c.$At)(t,e.stateConfig);if(!i){delete o.dataset[l];return}o.dataset[l]=i;let a=null===(n=e.stateValues[i])||void 0===n?void 0:n.css;a&&Object.assign(r,a)}),o.style.cssText="",Object.assign(o.style,r)}})}),[e]),null}var eG=e=>{let t=[];for(let l in e.state){let n=e.state[l];for(let e in n){let o=n[e];t.push({ChildComponent:()=>(0,h.jsx)(ez,{css:o.css}),key:e,label:o.label,onSelect:t=>{let{editor:n}=t;eK(n,l,e)}})}}return[{type:"dropdown",ChildComponent:()=>(0,h.jsx)(ez,{css:{color:"var(--theme-elevation-600)"}}),items:[{ChildComponent:()=>(0,h.jsx)(ez,{}),key:"clear-style",label:"Default style",onSelect:t=>{let{editor:l}=t;for(let t in e.state)eK(l,t,void 0)},order:1},...t],key:"textState",order:30}]},eW=Z(e=>{let{props:t}=e;return function(e){for(let t in e){let l=e[t],n=(0,c.eK8)(t,{parse:e=>"string"==typeof e&&Object.keys(l).includes(e)?e:void 0});eZ.set(t,{stateConfig:n,stateValues:l})}}(t.state),{plugins:[{Component:eU,position:"normal"}],toolbarFixed:{groups:eG(t)},toolbarInline:{groups:eG(t)}}}),eJ=e=>(t,l,n)=>{let o=e(n);o&&(o.append(...l),t.replace(o),o.select(0,0))},eX=e=>{let t=new RegExp("^(".concat(e.map(e=>Number(e.slice(1))).map(e=>"#{".concat(e,"}")).join("|"),")\\s"));return{type:"element",dependencies:[f.c2],export:(e,t)=>{if(!(0,f.rc)(e))return null;let l=Number(e.getTag().slice(1));return"#".repeat(l)+" "+t(e)},regExp:t,replace:eJ(e=>{var t;let l="h"+(null===(t=e[1])||void 0===t?void 0:t.length);return(0,f.V1)(l)})}},eY=e=>{let t=(0,c.dL7)();(0,m.Hz)(t,()=>(0,f.V1)(e))},eq={h1:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M4.639 13.5V7.074H6.196V9.648H9.076V7.074H10.642V13.5H9.076V10.836H6.196V13.5H4.639ZM11.5656 9.045V8.019C12.6636 8.019 13.1316 7.731 13.2846 7.065H14.4006V13.5H12.8436V9.045H11.5656Z",fill:"currentColor"})}),h2:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M4.139 13.5V7.074H5.696V9.648H8.576V7.074H10.142V13.5H8.576V10.836H5.696V13.5H4.139ZM15.9796 8.973C15.9796 10.116 15.1696 10.656 14.0356 11.232C13.2256 11.646 12.8206 11.943 12.7846 12.294H15.9886V13.5H11.0566V12.951C11.0566 11.601 12.1636 10.845 13.1176 10.287C14.0356 9.756 14.5126 9.486 14.5126 8.946C14.5126 8.46 14.2156 8.145 13.6306 8.145C13.0186 8.145 12.6586 8.613 12.6226 9.198H11.1196C11.2186 7.947 12.1006 6.966 13.6396 6.966C15.0346 6.966 15.9796 7.785 15.9796 8.973Z",fill:"currentColor"})}),h3:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M4.139 13.5V7.074H5.696V9.648H8.576V7.074H10.142V13.5H8.576V10.836H5.696V13.5H4.139ZM16.1146 11.745C16.1146 12.744 15.2236 13.608 13.6126 13.608C12.0736 13.608 11.0926 12.762 10.9846 11.547H12.4696C12.5146 12.114 13.0006 12.456 13.6126 12.456C14.2876 12.456 14.6746 12.132 14.6746 11.619C14.6746 11.061 14.2426 10.836 13.6216 10.836H12.9826V9.738H13.6036C14.1526 9.738 14.5486 9.486 14.5486 8.937C14.5486 8.46 14.2156 8.127 13.6486 8.127C13.0366 8.127 12.6586 8.514 12.6226 9.045H11.1916C11.2726 7.929 12.1276 6.966 13.6666 6.966C15.1876 6.966 15.9706 7.848 15.9706 8.865C15.9706 9.603 15.5026 10.143 14.8186 10.269C15.6196 10.404 16.1146 10.971 16.1146 11.745Z",fill:"currentColor"})}),h4:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M3.639 13.5V7.074H5.196V9.648H8.076V7.074H9.642V13.5H8.076V10.836H5.196V13.5H3.639ZM15.1736 7.074V10.854H16.3706V12.033H15.1736V13.5H13.6796V12.033H10.5116V10.845L13.4996 7.074H15.1736ZM13.6796 8.46L11.8256 10.854H13.6796V8.46Z",fill:"currentColor"})}),h5:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M3.639 13.5V7.074H5.196V9.648H8.076V7.074H9.642V13.5H8.076V10.836H5.196V13.5H3.639ZM13.1576 10.269C12.6896 10.269 12.3746 10.494 12.2216 10.737H10.8176L11.1956 7.074H15.2546V8.28H12.3206L12.1856 9.549C12.4016 9.351 12.8516 9.126 13.4636 9.126C14.7866 9.126 15.6596 10.053 15.6596 11.358C15.6596 12.609 14.7326 13.608 13.1756 13.608C11.5826 13.608 10.6556 12.753 10.5566 11.511H12.1136C12.1586 12.06 12.5456 12.465 13.1576 12.465C13.8236 12.465 14.1746 11.97 14.1746 11.376C14.1746 10.764 13.8416 10.269 13.1576 10.269Z",fill:"currentColor"})}),h6:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M3.639 13.5V7.074H5.196V9.648H8.076V7.074H9.642V13.5H8.076V10.836H5.196V13.5H3.639ZM13.3646 8.127C12.5456 8.127 12.0416 8.937 12.0416 9.999C12.3296 9.54 12.8246 9.207 13.5536 9.207C14.8586 9.207 15.8036 10.134 15.8036 11.376C15.8036 12.645 14.8226 13.608 13.3196 13.608C11.7266 13.608 10.6196 12.393 10.6196 10.395C10.6196 8.316 11.7716 6.966 13.4186 6.966C14.7056 6.966 15.5786 7.749 15.7316 8.829H14.3186C14.2016 8.415 13.9226 8.127 13.3646 8.127ZM13.3106 12.51C13.9586 12.51 14.3816 12.042 14.3816 11.385C14.3816 10.737 13.9586 10.278 13.3106 10.278C12.6536 10.278 12.2126 10.737 12.2126 11.385C12.2126 12.042 12.6536 12.51 13.3106 12.51Z",fill:"currentColor"})})},e$=Z(e=>{let{props:t}=e,{enabledHeadingSizes:l=["h1","h2","h3","h4","h5","h6"]}=t,n=[J(l.map((e,t)=>({ChildComponent:eq[e],isActive:t=>{let{selection:l}=t;if(!(0,c.OPZ)(l))return!1;for(let t of l.getNodes()){if((0,f.rc)(t)&&t.getTag()===e)continue;let l=t.getParent();if(!((0,f.rc)(l)&&l.getTag()===e))return!1}return!0},key:e,label:t=>{let{i18n:l}=t;return l.t("lexical:heading:label",{headingLevel:e.charAt(1)})},onSelect:t=>{let{editor:l}=t;l.update(()=>{eY(e)})},order:t+2})))];return{markdownTransformers:[eX(l)],nodes:[f.c2],sanitizedClientFeatureProps:t,slashMenu:{groups:(null==l?void 0:l.length)?[V(l.map(e=>({Icon:eq[e],key:"heading-".concat(e.charAt(1)),keywords:["heading",e],label:t=>{let{i18n:l}=t;return l.t("lexical:heading:label",{headingLevel:e.charAt(1)})},onSelect:t=>{let{editor:l}=t;l.update(()=>{eY(e)})}})))]:[]},toolbarFixed:{groups:(null==l?void 0:l.length)?n:[]},toolbarInline:{groups:(null==l?void 0:l.length)?n:[]}}}),eQ=()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("rect",{fill:"currentColor",height:"1",width:"12",x:"4",y:"9.5"})}),e0=()=>(0,h.jsxs)("svg",{fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M5 10h10",stroke:"currentColor"}),(0,h.jsx)("path",{d:"M10 15V5",stroke:"currentColor"})]}),e1=e=>({type:"dropdown",ChildComponent:e0,items:e,key:"add",order:10}),e2=(0,c.fAf)("INSERT_HORIZONTAL_RULE_COMMAND"),e5=class extends c.Ijf{static clone(e){return new this(e.__key)}static getType(){return"horizontalrule"}static importDOM(){return{hr:()=>({conversion:e6,priority:0})}}static importJSON(e){return e3()}createDOM(e){let t=document.createElement("hr");return(0,L.Yo)(t,e.theme.hr),t}decorate(){return null}exportDOM(){return{element:document.createElement("hr")}}exportJSON(){return{type:"horizontalrule",version:1}}getTextContent(){return"\n"}isInline(){return!1}updateDOM(){return!1}};function e6(){return{node:e3()}}function e3(){return(0,c.U2B)(new e5)}var e4=class extends e5{static clone(e){return super.clone(e)}static getType(){return super.getType()}static importJSON(e){return e7()}decorate(){return null}exportJSON(){return super.exportJSON()}};function e7(){return(0,c.U2B)(new e4)}function e8(e){return e instanceof e4}function e9(e){let t=(0,c.dL7)();if(!(0,c.OPZ)(t))return!1;if(null!==t.focus.getNode()){let e=e7();(0,L.z8)(e)}return!0}var te=Z({markdownTransformers:[{type:"element",dependencies:[e4],export:(e,t)=>e8(e)?"---":null,regExp:/^---\s*$/,replace:e=>{let t=e7();t&&e.replace(t)}}],nodes:[e4],plugins:[{Component:()=>{let e=(0,S.c)(3),[t]=(0,E.g)(),l,n;return e[0]!==t?(l=()=>t.registerCommand(e2,e9,c.VNZ),n=[t],e[0]=t,e[1]=l,e[2]=n):(l=e[1],n=e[2]),(0,p.useEffect)(l,n),null},position:"normal"}],slashMenu:{groups:[V([{Icon:eQ,key:"horizontalRule",keywords:["hr","horizontal rule","line","separator"],label:e=>{let{i18n:t}=e;return t.t("lexical:horizontalRule:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(e2,void 0)}}])]},toolbarFixed:{groups:[e1([{ChildComponent:eQ,isActive:e=>{let{selection:t}=e;return!!(0,c.iOo)(t)&&!!t.getNodes().length&&e8(t.getNodes()[0])},key:"horizontalRule",label:e=>{let{i18n:t}=e;return t.t("lexical:horizontalRule:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(e2,void 0)}}])]}}),tt=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M2.5 5H10.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M2.5 10H10.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M2.5 15H17.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M12.25 7.25L17.25 3.75V10.75L12.25 7.25Z",fill:"currentColor"})]}),tl=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M17.5 5H9.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M17.5 10H9.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M17.5 15H2.5",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M7.75 7.25L2.75 3.75V10.75L7.75 7.25Z",fill:"currentColor"})]}),tn=e=>{let{clientProps:t}=e,[l]=(0,E.g)(),{disabledNodes:n,disableTabNode:o}=t;return(0,p.useEffect)(()=>{if(!(!l||!(null==n?void 0:n.length)))return(0,L.qV)(l.registerCommand(c.PUH,()=>(function(e){let t=(0,c.dL7)();if(!(0,c.OPZ)(t))return!1;let l=new Set,n=t.getNodes();for(let t=0;t<n.length;t++){let o=n[t],r=o.getKey();if(l.has(r))continue;let i=(0,L.$s)(o,e=>(0,c.F7b)(e)&&!e.isInline());if(null===i)continue;let a=i.getKey();i.canIndent()&&!l.has(a)&&(l.add(a),e(i))}return l.size>0})(e=>{if(!n.includes(e.getType())){let t=e.getIndent();e.setIndent(t+1)}}),c.KB),l.registerUpdateListener(e=>{let{dirtyElements:t,editorState:o}=e;l.update(()=>{for(let[e]of t){let t=o._nodeMap.get(e);(0,c.F7b)(t)&&n.includes(t.getType())&&t.getIndent()>0&&t.setIndent(0)}})}))},[l,n]),(0,p.useEffect)(()=>{if(!(!l||!o))return(0,L.qV)(l.registerCommand(c.dB,e=>(e.preventDefault(),l.dispatchCommand(e.shiftKey?c.czB:c.PUH,void 0)),c.KB),l.registerNodeTransform(c.B9u,e=>{e.remove()}))},[l,o]),(0,h.jsx)(I.u,{})},to=e=>({type:"buttons",items:e,key:"indent",order:35}),tr=e=>{let{disabledNodes:t}=e;return[to([{ChildComponent:tt,isActive:()=>!1,isEnabled:e=>{var t;let{selection:l}=e,n=null!==(t=null==l?void 0:l.getNodes())&&void 0!==t?t:[],o=e=>ta(e)&&e.getIndent()>0;return n.some(e=>o(e)||!!(0,L.$s)(e,o))},key:"indentDecrease",label:e=>{let{i18n:t}=e;return t.t("lexical:indent:decreaseLabel")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.czB,void 0)},order:1},{ChildComponent:tl,isActive:()=>!1,isEnabled:e=>{var l;let{selection:n}=e,o=null!==(l=null==n?void 0:n.getNodes())&&void 0!==l?l:[],r=e=>ta(e)&&!(null!=t?t:[]).includes(e.getType());return o.some(e=>r(e)||!!(0,L.$s)(e,r))},key:"indentIncrease",label:e=>{let{i18n:t}=e;return t.t("lexical:indent:increaseLabel")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(c.PUH,void 0)},order:2}])]},ti=Z(e=>{var t;let{props:l}=e,n=null!==(t=l.disabledNodes)&&void 0!==t?t:[];return{plugins:[{Component:tn,position:"normal"}],sanitizedClientFeatureProps:l,toolbarFixed:{groups:tr({disabledNodes:n})},toolbarInline:{groups:tr({disabledNodes:n})}}}),ta=e=>(0,c.F7b)(e)&&e.canIndent();function ts(e){let{anchor:t}=e,{focus:l}=e,n=e.anchor.getNode(),o=e.focus.getNode();return n===o?n:e.isBackward()?(0,m.P4)(l)?n:o:(0,m.P4)(t)?n:o}var td=e=>({type:"buttons",items:e,key:"features",order:50}),tu=new Set(["http:","https:","mailto:","sms:","tel:"]),tc=class e extends c.HX${static clone(t){return new e({id:t.__id,fields:t.__fields,key:t.__key})}static getType(){return"link"}static importDOM(){return{a:e=>({conversion:th,priority:1})}}static importJSON(e){var t,l,n,o,r;let i=tp({}).updateFromJSON(e);return 1===e.version&&"object"==typeof(null===(l=e.fields)||void 0===l?void 0:null===(t=l.doc)||void 0===t?void 0:t.value)&&(null===(r=e.fields)||void 0===r?void 0:null===(o=r.doc)||void 0===o?void 0:null===(n=o.value)||void 0===n?void 0:n.id)&&(e.fields.doc.value=e.fields.doc.value.id,e.version=2),2!==e.version||e.id||(e.id=new v.default().toHexString(),e.version=3),i}canBeEmpty(){return!1}canInsertTextAfter(){return!1}canInsertTextBefore(){return!1}createDOM(e){var t,l,n,o,r,i;let a=document.createElement("a");return(null===(t=this.__fields)||void 0===t?void 0:t.linkType)==="custom"&&(a.href=this.sanitizeUrl(null!==(r=this.__fields.url)&&void 0!==r?r:"")),null!==(i=null===(l=this.__fields)||void 0===l?void 0:l.newTab)&&void 0!==i&&i&&(a.target="_blank"),(null===(n=this.__fields)||void 0===n?void 0:n.newTab)===!0&&(null===(o=this.__fields)||void 0===o?void 0:o.linkType)==="custom"&&(a.rel=tv(a.rel,"add","noopener")),(0,L.Yo)(a,e.theme.link),a}exportJSON(){let e=this.getFields();(null==e?void 0:e.linkType)==="internal"?delete e.url:(null==e?void 0:e.linkType)==="custom"&&delete e.doc;let t={...super.exportJSON(),type:"link",fields:e,version:3},l=this.getID();return l&&(t.id=l),t}extractWithChild(e,t,l){if(!(0,c.OPZ)(t))return!1;let n=t.anchor.getNode(),o=t.focus.getNode();return this.isParentOf(n)&&this.isParentOf(o)&&t.getTextContent().length>0}getFields(){return this.getLatest().__fields}getID(){return this.getLatest().__id}insertNewAfter(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=this.getParentOrThrow().insertNewAfter(e,t);if((0,c.F7b)(l)){let e=tp({fields:this.__fields});return l.append(e),e}return null}isInline(){return!0}sanitizeUrl(e){try{let t=new URL(e);if(!tu.has(t.protocol))return"about:blank"}catch(e){return"https://"}return e}setFields(e){let t=this.getWritable();return t.__fields=e,t}setID(e){let t=this.getWritable();return t.__id=e,t}updateDOM(e,t,l){var n,o,r,i,a,s,d,u;let c=null===(n=this.__fields)||void 0===n?void 0:n.url,h=null===(o=this.__fields)||void 0===o?void 0:o.newTab;return null!=c&&c!==(null===(r=e.__fields)||void 0===r?void 0:r.url)&&(null===(i=this.__fields)||void 0===i?void 0:i.linkType)==="custom"&&(t.href=c),(null===(a=this.__fields)||void 0===a?void 0:a.linkType)==="internal"&&(null===(s=e.__fields)||void 0===s?void 0:s.linkType)==="custom"&&t.removeAttribute("href"),null==t.rel&&(t.rel=""),h!==(null===(d=e.__fields)||void 0===d?void 0:d.newTab)&&(null!=h&&h?(t.target="_blank",(null===(u=this.__fields)||void 0===u?void 0:u.linkType)==="custom"&&(t.rel=tv(t.rel,"add","noopener"))):(t.removeAttribute("target"),t.rel=tv(t.rel,"remove","noopener"))),!1}updateFromJSON(e){return super.updateFromJSON(e).setFields(e.fields).setID(e.id)}constructor({id:e,fields:t={linkType:"custom",newTab:!1},key:l}){super(l),this.__fields=t,this.__id=e}};function th(e){let t=null;if((0,c.bgD)(e)){var l;let n=e.textContent;null!==n&&""!==n&&(t=tp({id:new v.default().toHexString(),fields:{doc:null,linkType:"custom",newTab:"_blank"===e.getAttribute("target"),url:null!==(l=e.getAttribute("href"))&&void 0!==l?l:""}}))}return{node:t}}function tp(e){let{id:t,fields:l}=e;return(0,c.U2B)(new tc({id:null!=t?t:new v.default().toHexString(),fields:l}))}function tf(e){return e instanceof tc}var tm=(0,c.fAf)("TOGGLE_LINK_COMMAND");function tg(e){var t;let l=(0,c.dL7)();if(!(0,c.OPZ)(l)&&(null===e||!(null===(t=e.selectedNodes)||void 0===t?void 0:t.length)))return;let n=(0,c.OPZ)(l)?l.extract():null===e?[]:e.selectedNodes;if(null===e){null==n||n.forEach(e=>{let t=e.getParent();tf(t)&&(t.getChildren().forEach(e=>{t.insertBefore(e)}),t.remove())});return}if((null==n?void 0:n.length)===1){let t=n[0],l=tf(t)?t:function(e,t){let l=e;for(;null!==l&&!(null===(l=l.getParent())||t(l)););return l}(t,e=>tf(e));if(null!==l){l.setFields(e.fields),null!=e.text&&e.text!==l.getTextContent()&&(l.append((0,c.MXo)(e.text)),l.getChildren().forEach(e=>{e!==l.getLastChild()&&e.remove()}));return}}let o=null,r=null;null==n||n.forEach(t=>{let l=t.getParent();if(!(l===r||null===l||(0,c.F7b)(t)&&!t.isInline())){if(tf(l)){r=l,l.setFields(e.fields),null!=e.text&&e.text!==l.getTextContent()&&(l.append((0,c.MXo)(e.text)),l.getChildren().forEach(e=>{e!==l.getLastChild()&&e.remove()}));return}if(l.is(o)||(o=l,r=tp({fields:e.fields}),tf(l)?null===t.getPreviousSibling()?l.insertBefore(r):l.insertAfter(r):t.insertBefore(r)),tf(t)){if(t.is(r))return;if(null!==r){let e=t.getChildren();r.append(...e)}t.remove();return}null!==r&&r.append(t)}})}function tv(e,t,l){let n,o="".concat(e);if("add"===t){if(o.includes(l)){let e=RegExp(l,"g");o=o.replace(e,"").trim()}n=0===(o=o.trim()).length?"".concat(l):"".concat(o," ").concat(l)}else{let e=RegExp(l,"g");n=o.replace(e,"").trim()}return n}var tb={type:"text-match",dependencies:[tc],export:(e,t)=>{if(!tf(e))return null;let{url:l}=e.getFields();return"[".concat(t(e),"](").concat(l,")")},importRegExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)/,regExp:/\[([^[]+)\]\(([^()\s]+)(?:\s"((?:[^"]*\\")*[^"]*)"\s*)?\)$/,replace:(e,t)=>{let[,l,n]=t,o=tp({fields:{doc:null,linkType:"custom",newTab:!1,url:n}}),r=(0,c.MXo)(l);return r.setFormat(e.getFormat()),o.append(r),e.replace(o),r},trigger:")"},tx=class e extends tc{static clone(t){return new e({id:"",fields:t.__fields,key:t.__key})}static getType(){return"autolink"}static importDOM(){return null}static importJSON(e){var t,l,n,o,r;let i=tC({}).updateFromJSON(e);return 1===e.version&&"object"==typeof(null===(l=e.fields)||void 0===l?void 0:null===(t=l.doc)||void 0===t?void 0:t.value)&&(null===(r=e.fields)||void 0===r?void 0:null===(o=r.doc)||void 0===o?void 0:null===(n=o.value)||void 0===n?void 0:n.id)&&(e.fields.doc.value=e.fields.doc.value.id,e.version=2),i}exportJSON(){let e=super.exportJSON();return{type:"autolink",children:e.children,direction:e.direction,fields:e.fields,format:e.format,indent:e.indent,version:2}}insertNewAfter(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=this.getParentOrThrow().insertNewAfter(e,t);if((0,c.F7b)(l)){let e=tC({fields:this.__fields});return l.append(e),e}return null}updateFromJSON(e){return super.updateFromJSON(e).setFields(e.fields)}};function tC(e){let{fields:t}=e;return(0,c.U2B)(new tx({id:"",fields:t}))}function tk(e){return e instanceof tx}function tw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e;return l=>{let n=e.exec(l);return null===n?null:{index:n.index,length:n[0].length,text:n[0],url:t(n[0])}}}function ty(e,t){for(let l of t){let t=l(e);if(null!=t)return t}return null}var t_=/[.,;\s]/;function tE(e){return void 0!==e&&t_.test(e)}function tT(e){return tE(e[e.length-1])}function tS(e){let t=e.getPreviousSibling();return(0,c.F7b)(t)&&(t=t.getLastDescendant()),null===t||(0,c.A3A)(t)||(0,c.Gg4)(t)&&tT(t.getTextContent())}function tL(e){let t=e.getNextSibling();return(0,c.F7b)(t)&&(t=t.getFirstDescendant()),null===t||(0,c.A3A)(t)||(0,c.Gg4)(t)&&tE(t.getTextContent()[0])}function tN(e,t,l){var n,o,r,i,a,s,d;let u=e.getChildren(),h=u.length;for(let t=0;t<h;t++){let n=u[t];if(!(0,c.Gg4)(n)||!n.isSimpleText()){tj(e),l(null,null!==(r=null===(o=e.getFields())||void 0===o?void 0:o.url)&&void 0!==r?r:null);return}}let p=e.getTextContent(),f=ty(p,t);if(null===f||f.text!==p){tj(e),l(null,null!==(a=null===(i=e.getFields())||void 0===i?void 0:i.url)&&void 0!==a?a:null);return}if(!tS(e)||!tL(e)){tj(e),l(null,null!==(d=null===(s=e.getFields())||void 0===s?void 0:s.url)&&void 0!==d?d:null);return}let m=null===(n=e.getFields())||void 0===n?void 0:n.url;if(m!==(null==f?void 0:f.url)){let t=e.getFields();t.url=null==f?void 0:f.url,e.setFields(t),l(f.url,null!=m?m:null)}}function tj(e){let t=e.getChildren(),l=t.length;for(let n=l-1;n>=0;n--)e.insertAfter(t[n]);return e.remove(),t.map(e=>e.getLatest())}var tI=[tw(RegExp("((https?:\\/\\/(www\\.)?)|(www\\.))[-\\w@:%.+~#=]{1,256}\\.[a-zA-Z\\d()]{1,6}\\b([-\\w()@:%+.~#?&/=]*)(?<![-.+():%])"),e=>e.startsWith("http")?e:"https://".concat(e)),tw(/(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\])|(([a-z\-\d]+\.)+[a-z]{2,}))/i,e=>"mailto:".concat(e))],tF=()=>{var e;let t,l,n,[o]=(0,E.g)();return(t=(0,S.c)(5))[0]!==o||t[1]!==tI||void 0!==t[2]?(l=()=>{if(!o.hasNodes([tx]))throw Error("LexicalAutoLinkPlugin: AutoLinkNode not registered on editor");let t=(t,l)=>{null==e||e(t,l)};return(0,L.qV)(o.registerNodeTransform(c.R2r,e=>{let l=e.getParentOrThrow(),n=e.getPreviousSibling();tk(l)?tN(l,tI,t):tf(l)||(e.isSimpleText()&&(tE(e.getTextContent()[0])||!tk(n))&&function(e,t,l){let n=[...e],o=n.map(e=>e.getTextContent()).join(""),r=o,i,a=0;for(;null!=(i=ty(r,t))&&null!==i;){var s,d,u;let e=i.index,t=e+i.length;if(s=a+e,d=a+t,u=n,(s>0?!!tE(o[s-1]):!!tS(u[0]))&&(d<o.length?tE(o[d]):tL(u[u.length-1]))){let[o,,r,s]=function(e,t,l){let n=[],o=[],r=[],i=0,a=0,s=[...e];for(;s.length>0;){let e=s[0],d=e.getTextContent().length,u=a;a+d<=t?(n.push(e),i+=d):u>=l?r.push(e):o.push(e),a+=d,s.shift()}return[i,n,o,r]}(n,a+e,a+t),d=function(e,t,l,n){let o=tC({fields:{linkType:"custom",url:n.url,...n.fields}});if(1===e.length){let r=e[0],i;if(0===t?[i]=r.splitText(l):[,i]=r.splitText(t,l),i){let e=(0,c.MXo)(n.text);e.setFormat(i.getFormat()),e.setDetail(i.getDetail()),e.setStyle(i.getStyle()),o.append(e),i.replace(o)}return r}if(e.length>1){let n=e[0],r=n.getTextContent().length,i;0===t?i=n:[,i]=n.splitText(t);let a=[],s;if(e.forEach(e=>{let t=e.getTextContent().length,n=r,o=r+t;if(n<l){if(o<=l)a.push(e);else{let[t,o]=e.splitText(l-n);t&&a.push(t),s=o}}r+=t}),i){let e=(0,c.dL7)(),t=e?e.getNodes().find(c.Gg4):void 0,l=(0,c.MXo)(i.getTextContent());return l.setFormat(i.getFormat()),l.setDetail(i.getDetail()),l.setStyle(i.getStyle()),o.append(l,...a),t&&t===i&&((0,c.OPZ)(e)?l.select(e.anchor.offset,e.focus.offset):(0,c.iOo)(e)&&l.select(0,l.getTextContent().length)),i.replace(o),s}}}(r,a+e-o,a+t-o,i);n=d?[d,...s]:s,l(i.url,null),a=0}else a+=t;r=r.substring(t)}}(function(e){let t=[e],l=e.getNextSibling();for(;null!==l&&(0,c.Gg4)(l)&&l.isSimpleText()&&(t.push(l),!/\s/.test(l.getTextContent()));)l=l.getNextSibling();return t}(e),tI,t),function(e,t,l){var n,o,r,i,a,s,d,u;let c=e.getPreviousSibling(),h=e.getNextSibling(),p=e.getTextContent();if(tk(c)){let n=null!==(o=c.getFields())&&void 0!==o&&!!o.url&&null!==(s=null===(i=c.getFields())||void 0===i?void 0:null===(r=i.url)||void 0===r?void 0:r.startsWith("mailto:"))&&void 0!==s&&s;(!tE(p[0])||(n?/^\.[a-z]{2,}/i.test(p):/^\.[a-z0-9]+/i.test(p)))&&(c.append(e),tN(c,t,l),l(null,null!==(d=null===(a=c.getFields())||void 0===a?void 0:a.url)&&void 0!==d?d:null))}tk(h)&&!tT(p)&&(tj(h),tN(h,t,l),l(null,null!==(u=null===(n=h.getFields())||void 0===n?void 0:n.url)&&void 0!==u?u:null))}(e,tI,t))}))},n=[o,tI,e],t[0]=o,t[1]=tI,t[2]=e,t[3]=l,t[4]=n):(l=t[3],n=t[4]),(0,p.useEffect)(l,n),null},tM=()=>(0,h.jsx)(F.T,{});function tO(e,t,l){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:5,r=l.parentElement;if(null===e||null==r){t.style.opacity="0",t.style.transform="translate(-10000px, -10000px)";return}let i=t.getBoundingClientRect(),a=l.getBoundingClientRect(),s=r.getBoundingClientRect(),d=e.top-n,u=e.left-o;d<s.top&&(d+=i.height+e.height+2*n),u+i.width>s.right&&(u=s.right-i.width-o),d-=a.top,u-=a.left,t.style.opacity="1",t.style.transform="translate(".concat(u,"px, ").concat(d,"px)")}var tA=(0,c.fAf)("TOGGLE_LINK_WITH_MODAL_COMMAND");function tR(e){e.preventDefault()}function tP(e){let{anchorElem:t}=e,[l]=(0,E.g)(),[n,o]=(0,p.useState)(),r=(0,p.useRef)(null),[s,d]=(0,p.useState)(null),[f,m]=(0,p.useState)(null),{fieldProps:{schemaPath:v},uuid:b}=(0,u.b)(),{config:y,getEntityConfig:_}=(0,C.b)(),{i18n:T,t:S}=(0,k.d)(),[N,j]=(0,p.useState)(),I=(0,x.useEditDepth)(),[F,M]=(0,p.useState)(!1),[O,A]=(0,p.useState)([]),R=(0,x.useLocale)(),[P,B]=(0,p.useState)(!1),H=(0,x.formatDrawerSlug)({slug:"lexical-rich-text-link-"+b,depth:I}),{toggleDrawer:D}=(0,a.a)(H),V=(0,p.useCallback)(()=>{M(!1),r&&r.current&&(r.current.style.opacity="0",r.current.style.transform="translate(-10000px, -10000px)"),B(!1),d(null),m(null),A([]),j(void 0)},[M,d,m,A]),z=(0,p.useCallback)(()=>{var e,n,i,a,s,u,h,p,f;let v=(0,c.dL7)(),b;if(!(0,c.OPZ)(v)||!v){V();return}let x=ts(v);b=null===(e=l.getElementByKey(x.getKey()))||void 0===e?void 0:e.getBoundingClientRect();let C=(0,L.$s)(x,tf),k=v.getNodes().filter(e=>!(0,c.A3A)(e)).find(e=>{let t=(0,L.$s)(e,tf);return C&&!C.is(t)||t&&!t.is(C)});if(null==C||k){V();return}o(C);let E=C.getFields(),N={...E,id:C.getID(),text:C.getTextContent()};if((null==E?void 0:E.linkType)==="custom")d(null!==(n=null==E?void 0:E.url)&&void 0!==n?n:null),m(null);else{d("".concat("/"===y.routes.admin?"":y.routes.admin,"/collections/").concat(null==E?void 0:null===(i=E.doc)||void 0===i?void 0:i.relationTo,"/").concat(null==E?void 0:null===(a=E.doc)||void 0===a?void 0:a.value));let e=(null==E?void 0:null===(s=E.doc)||void 0===s?void 0:s.relationTo)?_({collectionSlug:null==E?void 0:null===(u=E.doc)||void 0===u?void 0:u.relationTo}):void 0;if(e){let t="object"==typeof(null===(h=E.doc)||void 0===h?void 0:h.value)?E.doc.value.id:null===(p=E.doc)||void 0===p?void 0:p.value,l=null===(f=E.doc)||void 0===f?void 0:f.relationTo;if(!t||!l)throw Error("Focus link parent is missing doc.value or doc.relationTo");m(S("fields:linkedTo",{label:"".concat((0,g.i)(e.labels.singular,T)," - ").concat(S("lexical:link:loadingWithEllipsis",T))}).replace(/<[^>]*>?/g,"")),w.E7.get("".concat(y.serverURL).concat(y.routes.api,"/").concat(l,"/").concat(t),{headers:{"Accept-Language":T.language},params:{depth:0,locale:null==R?void 0:R.code}}).then(async t=>{var l;if(!t.ok)throw Error("HTTP error! Status: ".concat(t.status));let n=(await t.json())[(null==e?void 0:null===(l=e.admin)||void 0===l?void 0:l.useAsTitle)||"id"];m(S("fields:linkedTo",{label:"".concat((0,g.i)(e.labels.singular,T)," - ").concat(n)}).replace(/<[^>]*>?/g,""))}).catch(()=>{m(S("fields:linkedTo",{label:"".concat((0,g.i)(e.labels.singular,T)," - ").concat(S("general:untitled",T)," - ID: ").concat(t)}).replace(/<[^>]*>?/g,""))})}else m((null==E?void 0:E.label)?String(null==E?void 0:E.label):null),d((null==E?void 0:E.url)?String(null==E?void 0:E.url):null)}j(N),M(!0),A(v?null==v?void 0:v.getNodes():[]),tk(C)?B(!0):B(!1);let I=r.current,F=(0,c.Inp)(l._window),{activeElement:O}=document;if(null===I)return;let P=l.getRootElement();return null!==F&&null!==P&&P.contains(F.anchorNode)?(b||(b=F.getRangeAt(0).getBoundingClientRect()),null!=b&&(b.y+=40,tO(b,I,t))):(null==O||"link-input"!==O.className)&&(null!==P&&tO(null,I,t),d(null),m(null)),!0},[l,V,y.routes.admin,y.routes.api,y.serverURL,_,S,T,null==R?void 0:R.code,t]);return(0,p.useEffect)(()=>(0,L.qV)(l.registerCommand(tA,e=>(l.dispatchCommand(tm,e),z(),D(),!0),c.KB)),[l,z,D,H]),(0,p.useEffect)(()=>{let e=t.parentElement,n=()=>{l.getEditorState().read(()=>{z()})};return window.addEventListener("resize",n),null==e||e.addEventListener("scroll",n),()=>{window.removeEventListener("resize",n),null==e||e.removeEventListener("scroll",n)}},[t.parentElement,l,z]),(0,p.useEffect)(()=>(0,L.qV)(l.registerUpdateListener(e=>{let{editorState:t}=e;t.read(()=>{z()})}),l.registerCommand(c.ojF,()=>(z(),!0),c.KB),l.registerCommand(c.ZqX,()=>!!F&&(V(),!0),c.Eot)),[l,z,F,V]),(0,p.useEffect)(()=>{l.getEditorState().read(()=>{z()})},[l,z]),(0,h.jsxs)(p.Fragment,{children:[(0,h.jsx)("div",{className:"link-editor",ref:r,children:(0,h.jsxs)("div",{className:"link-input",children:[s&&s.length>0?(0,h.jsxs)("a",{href:s,rel:"noopener noreferrer",target:"_blank",children:[(null==n?void 0:n.__fields.newTab)?(0,h.jsx)(x.ExternalLinkIcon,{}):null,null!=f&&f.length>0?f:s]}):null!=f&&f.length>0?(0,h.jsxs)(h.Fragment,{children:[(null==n?void 0:n.__fields.newTab)?(0,h.jsx)(x.ExternalLinkIcon,{}):null,(0,h.jsx)("span",{className:"link-input__label-pure",children:f})]}):null,l.isEditable()&&(0,h.jsxs)(p.Fragment,{children:[(0,h.jsx)("button",{"aria-label":"Edit link",className:"link-edit",onClick:e=>{e.preventDefault(),D()},onMouseDown:tR,tabIndex:0,type:"button",children:(0,h.jsx)(x.EditIcon,{})}),!P&&(0,h.jsx)("button",{"aria-label":"Remove link",className:"link-trash",onClick:()=>{l.dispatchCommand(tm,null)},onMouseDown:tR,tabIndex:0,type:"button",children:(0,h.jsx)(x.CloseMenuIcon,{})})]})]})}),(0,h.jsx)(i.a,{className:"lexical-link-edit-drawer",data:N,drawerSlug:H,drawerTitle:S("fields:editLink"),featureKey:"link",handleDrawerSubmit:(e,t)=>{let n={...t};delete n.text,l.update(()=>{var e,t;let l=(0,c.dL7)(),o=null;if((0,c.OPZ)(l)?o=ts(l).getParent():O.length&&(o=null!==(t=null===(e=O[0])||void 0===e?void 0:e.getParent())&&void 0!==t?t:null),o&&tk(o)){let e=tp({fields:n});o.replace(e,!0)}}),l.dispatchCommand(tm,{fields:n,selectedNodes:O,text:t.text})},schemaPath:v,schemaPathSuffix:"fields"})]})}var tB=e=>{let{anchorElem:t=document.body}=e;return(0,M.createPortal)((0,h.jsx)(tP,{anchorElem:t}),t)},tH=/^(?:[a-zA-Z][a-zA-Z\d+.-]*:(?:\/\/)?(?:[-;:&=+$,\w]+@)?[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|www\.[A-Za-z\d]+(?:\.[A-Za-z\d]+)+|(?:tel|mailto):[\w+.-]+)(?:\/[+~%/\w-]*)?(?:\?[-;&=%\w]*)?(?:#\w+)?$/,tD=/^(?:\/[\w\-./]*(?:#\w[\w-]*)?|#[\w\-]+)$/,tV=e=>{let t=(0,S.c)(5),{clientProps:l}=e,[n]=(0,E.g)(),o,r;return t[0]!==l.defaultLinkType||t[1]!==l.defaultLinkURL||t[2]!==n?(o=()=>{if(!n.hasNodes([tc]))throw Error("LinkPlugin: LinkNode not registered on editor");return(0,L.qV)(n.registerCommand(tm,e=>{var t,n;return null===e?tg(null):((null===(t=e.fields)||void 0===t?void 0:t.linkType)||(e.fields.linkType=l.defaultLinkType),(null===(n=e.fields)||void 0===n?void 0:n.url)||(e.fields.url=l.defaultLinkURL),tg(e)),!0},c.KB),n.registerCommand(c.A1,e=>{let t=(0,c.dL7)();if(!(0,c.OPZ)(t)||t.isCollapsed()||!(e instanceof ClipboardEvent)||null==e.clipboardData)return!1;let l=e.clipboardData.getData("text");return!!function(e){if(!e)return!1;if("https://"===e||tH.test(e)||tD.test(e))return!0;try{return new URL(e),!0}catch(e){}return!1}(l)&&!t.getNodes().some(tz)&&(n.dispatchCommand(tm,{fields:{doc:null,linkType:"custom",newTab:!1,url:l},text:null}),e.preventDefault(),!0)},c.KB))},r=[l.defaultLinkType,l.defaultLinkURL,n],t[0]=l.defaultLinkType,t[1]=l.defaultLinkURL,t[2]=n,t[3]=o,t[4]=r):(o=t[3],r=t[4]),(0,p.useEffect)(o,r),null};function tz(e){return(0,c.F7b)(e)}var tZ=[td([{ChildComponent:()=>(0,h.jsx)("svg",{"aria-hidden":"true",className:"icon",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{d:"M8.5 11.5L11.5 8.5M8.5 7L9.625 5.875C10.868 4.633 12.882 4.633 14.125 5.875C15.368 7.118 15.368 9.133 14.125 10.375L13 11.5M7 8.5L5.746 9.754C4.56 10.94 4.519 12.85 5.652 14.087C6.814 15.354 8.78 15.449 10.058 14.298L11.5 13",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),isActive:e=>{let{selection:t}=e;if((0,c.OPZ)(t)){let e=ts(t);return null!=(0,L.$s)(e,tf)}return!1},isEnabled:e=>{var t,l;let{selection:n}=e;return!!((0,c.OPZ)(n)&&(null===(l=(0,c.dL7)())||void 0===l?void 0:null===(t=l.getTextContent())||void 0===t?void 0:t.length))},key:"link",label:e=>{let{i18n:t}=e;return t.t("lexical:link:label")},onSelect:e=>{let{editor:t,isActive:l}=e;if(l)t.dispatchCommand(tm,null);else{let e,l=[];if(t.getEditorState().read(()=>{var t,n,o;e=null===(t=(0,c.dL7)())||void 0===t?void 0:t.getTextContent(),l=null!==(o=null===(n=(0,c.dL7)())||void 0===n?void 0:n.getNodes())&&void 0!==o?o:[]}),!(null==e?void 0:e.length))return;t.dispatchCommand(tA,{fields:{doc:null},selectedNodes:l,text:e})}},order:1}])],tK=Z(e=>{let{props:t}=e;return{markdownTransformers:[tb],nodes:[tc,(null==t?void 0:t.disableAutoLinks)===!0?null:tx].filter(Boolean),plugins:[{Component:tV,position:"normal"},(null==t?void 0:t.disableAutoLinks)===!0||(null==t?void 0:t.disableAutoLinks)==="creationOnly"?null:{Component:tF,position:"normal"},{Component:tM,position:"normal"},{Component:tB,position:"floatingAnchorElem"}].filter(Boolean),sanitizedClientFeatureProps:t,toolbarFixed:{groups:tZ},toolbarInline:{groups:tZ}}}),tU=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("rect",{height:"13",rx:"1.5",stroke:"currentColor",width:"13",x:"3.5",y:"3.5"}),(0,h.jsx)("path",{d:"M7 10L9 12.5L13 7.5",stroke:"currentColor",strokeWidth:"1.5"})]}),tG=()=>(0,h.jsx)(A.B,{});function tW(e){return{items:e,key:"lists",label:e=>{let{i18n:t}=e;return t.t("lexical:general:slashMenuListGroupLabel")}}}var tJ=e=>(t,l,n)=>{let o=t.getPreviousSibling(),r=t.getNextSibling(),i=(0,O.oU)("check"===e?"x"===n[3]:void 0);if((0,O.I3)(r)&&r.getListType()===e){let e=r.getFirstChild();null!==e?e.insertBefore(i):r.append(i),t.remove()}else if((0,O.I3)(o)&&o.getListType()===e)o.append(i),t.remove();else{let l=(0,O.FH)(e,"number"===e?Number(n[2]):void 0);l.append(i),t.replace(l)}i.append(...l),i.select(0,0);let a=Math.floor(n[1].length/4);a&&i.setIndent(a)},tX=(e,t,l)=>{let n=[],o=e.getChildren(),r=0;for(let i of o)if((0,O.QG)(i)){if(1===i.getChildrenSize()){let e=i.getFirstChild();if((0,O.I3)(e)){n.push(tX(e,t,l+1));continue}}let o=" ".repeat(4*l),a=e.getListType(),s="number"===a?"".concat(e.getStart()+r,". "):"check"===a?"- [".concat(i.getChecked()?"x":" ","] "):"- ";n.push(o+s+t(i)),r++}return n.join("\n")},tY={type:"element",dependencies:[O.EG,O.NK],export:(e,t)=>(0,O.I3)(e)?tX(e,t,0):null,regExp:/^(\s*)(?:-\s)?\s?(\[(\s|x)?\])\s/i,replace:tJ("check")},tq=()=>(0,h.jsx)(R.E,{}),t$=[J([{ChildComponent:tU,isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes()){if((0,O.I3)(e)&&"check"===e.getListType())continue;let t=e.getParent();if((0,O.I3)(t)&&"check"===t.getListType())continue;let l=null==t?void 0:t.getParent();if(!((0,O.I3)(l)&&"check"===l.getListType()))return!1}return!0},key:"checklist",label:e=>{let{i18n:t}=e;return t.t("lexical:checklist:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(O.d1,void 0)},order:12}])],tQ=Z(e=>{let{featureProviderMap:t}=e,l=[{Component:tq,position:"normal"}];return t.has("unorderedList")||t.has("orderedList")||l.push({Component:tG,position:"normal"}),{markdownTransformers:[tY],nodes:t.has("unorderedList")||t.has("orderedList")?[]:[O.EG,O.NK],plugins:l,slashMenu:{groups:[tW([{Icon:tU,key:"checklist",keywords:["check list","check","checklist","cl"],label:e=>{let{i18n:t}=e;return t.t("lexical:checklist:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(O.d1,void 0)}}])]},toolbarFixed:{groups:t$},toolbarInline:{groups:t$}}}),t0=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M5.89284 12.479C5.89284 13.368 5.26284 13.788 4.38084 14.236C3.75084 14.558 3.43584 14.789 3.40784 15.062H5.89984V16H2.06384V15.573C2.06384 14.523 2.92484 13.935 3.66684 13.501C4.38084 13.088 4.75184 12.878 4.75184 12.458C4.75184 12.08 4.52084 11.835 4.06584 11.835C3.58984 11.835 3.30984 12.199 3.28184 12.654H2.11284C2.18984 11.681 2.87584 10.918 4.07284 10.918C5.15784 10.918 5.89284 11.555 5.89284 12.479Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M2.68608 4.535V3.737C3.54008 3.737 3.90408 3.513 4.02308 2.995H4.89108V8H3.68008L3.68008 4.535H2.68608Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M8 15L17 15",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M8 10L17 10",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M8 5L17 5",stroke:"currentColor",strokeWidth:"1.5"})]}),t1={type:"element",dependencies:[O.EG,O.NK],export:(e,t)=>(0,O.I3)(e)?tX(e,t,0):null,regExp:/^(\s*)(\d+)\.\s/,replace:tJ("number")},t2=[J([{ChildComponent:t0,isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes()){if((0,O.I3)(e)&&"number"===e.getListType())continue;let t=e.getParent();if((0,O.I3)(t)&&"number"===t.getListType())continue;let l=null==t?void 0:t.getParent();if(!((0,O.I3)(l)&&"number"===l.getListType()))return!1}return!0},key:"orderedList",label:e=>{let{i18n:t}=e;return t.t("lexical:orderedList:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(O.B3,void 0)},order:10}])],t5=Z(e=>{let{featureProviderMap:t}=e;return{markdownTransformers:[t1],nodes:t.has("orderedList")?[]:[O.EG,O.NK],plugins:t.has("orderedList")?[]:[{Component:tG,position:"normal"}],slashMenu:{groups:[tW([{Icon:t0,key:"orderedList",keywords:["ordered list","ol"],label:e=>{let{i18n:t}=e;return t.t("lexical:orderedList:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(O.B3,void 0)}}])]},toolbarFixed:{groups:t2},toolbarInline:{groups:t2}}}),t6=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("circle",{cx:"4",cy:"5",fill:"currentColor",r:"1.15",stroke:"currentColor",strokeWidth:"0.3"}),(0,h.jsx)("circle",{cx:"4",cy:"10",fill:"currentColor",r:"1.15",stroke:"currentColor",strokeWidth:"0.3"}),(0,h.jsx)("circle",{cx:"4",cy:"15",fill:"currentColor",r:"1.15",stroke:"currentColor",strokeWidth:"0.3"}),(0,h.jsx)("path",{d:"M17 5H7",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M17 10H7",stroke:"currentColor",strokeWidth:"1.5"}),(0,h.jsx)("path",{d:"M17 15H7",stroke:"currentColor",strokeWidth:"1.5"})]}),t3={type:"element",dependencies:[O.EG,O.NK],export:(e,t)=>(0,O.I3)(e)?tX(e,t,0):null,regExp:/^(\s*)[-*+]\s/,replace:tJ("bullet")},t4=[J([{ChildComponent:t6,isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes()){if((0,O.I3)(e)&&"bullet"===e.getListType())continue;let t=e.getParent();if((0,O.I3)(t)&&"bullet"===t.getListType())continue;let l=null==t?void 0:t.getParent();if(!((0,O.I3)(l)&&"bullet"===l.getListType()))return!1}return!0},key:"unorderedList",label:e=>{let{i18n:t}=e;return t.t("lexical:unorderedList:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(O.A3,void 0)},order:11}])],t7=Z({markdownTransformers:[t3],nodes:[O.EG,O.NK],plugins:[{Component:tG,position:"normal"}],slashMenu:{groups:[tW([{Icon:t6,key:"unorderedList",keywords:["unordered list","ul"],label:e=>{let{i18n:t}=e;return t.t("lexical:unorderedList:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(O.A3,void 0)}}])]},toolbarFixed:{groups:t4},toolbarInline:{groups:t4}}),t8=p.lazy(()=>l.e(7839).then(l.bind(l,37839)).then(e=>({default:e.UnknownConvertedNodeComponent}))),t9=class e extends c.Ijf{static clone(t){return new e({data:t.__data,key:t.__key})}static getType(){return"unknownConverted"}static importJSON(e){return function(e){let{data:t}=e;return new t9({data:t})}({data:e.data})}canInsertTextAfter(){return!0}canInsertTextBefore(){return!0}createDOM(e){let t=document.createElement("span");return(0,L.Yo)(t,"unknownConverted"),t}decorate(){return(0,h.jsx)(t8,{data:this.__data})}exportJSON(){return{type:this.getType(),data:this.__data,version:1}}isInline(){return!0}updateDOM(e,t){return!1}constructor({data:e,key:t}){super(t),this.__data=e}},le=Z(()=>({nodes:[t9]})),lt=p.lazy(()=>l.e(893).then(l.bind(l,30893)).then(e=>({default:e.UnknownConvertedNodeComponent}))),ll=class e extends c.Ijf{static clone(t){return new e({data:t.__data,key:t.__key})}static getType(){return"unknownConverted"}static importJSON(e){return function(e){let{data:t}=e;return new ll({data:t})}({data:e.data})}canInsertTextAfter(){return!0}canInsertTextBefore(){return!0}createDOM(e){let t=document.createElement("span");return(0,L.Yo)(t,"unknownConverted"),t}decorate(){return(0,h.jsx)(lt,{data:this.__data})}exportJSON(){return{type:this.getType(),data:this.__data,version:1}}isInline(){return!0}updateDOM(e,t){return!1}constructor({data:e,key:t}){super(t),this.__data=e}},ln=Z(()=>({nodes:[ll]})),lo=[J([{ChildComponent:W,isActive:e=>{let{selection:t}=e;if(!(0,c.OPZ)(t))return!1;for(let e of t.getNodes())if(!(0,c.Rlh)(e)&&!(0,c.Rlh)(e.getParent()))return!1;return!0},key:"paragraph",label:e=>{let{i18n:t}=e;return t.t("lexical:paragraph:label2")},onSelect:e=>{let{editor:t}=e;t.update(()=>{let e=(0,c.dL7)();(0,m.Hz)(e,()=>(0,c.BEw)())})},order:1}])],lr=Z({slashMenu:{groups:[V([{Icon:W,key:"paragraph",keywords:["normal","paragraph","p","text"],label:e=>{let{i18n:t}=e;return t.t("lexical:paragraph:label")},onSelect:e=>{let{editor:t}=e;t.update(()=>{let e=(0,c.dL7)();(0,m.Hz)(e,()=>(0,c.BEw)())})}}])]},toolbarFixed:{groups:lo},toolbarInline:{groups:lo}}),li={horizontalrule:(0,h.jsx)("hr",{})},la={linebreak:(0,h.jsx)("br",{})},ls={DOM_ELEMENT_TYPE:1,DOM_TEXT_TYPE:3,NO_DIRTY_NODES:0,HAS_DIRTY_NODES:1,FULL_RECONCILE:2,IS_NORMAL:0,IS_TOKEN:1,IS_SEGMENTED:2,IS_INERT:3,IS_BOLD:1,IS_ITALIC:2,IS_STRIKETHROUGH:4,IS_UNDERLINE:8,IS_CODE:16,IS_SUBSCRIPT:32,IS_SUPERSCRIPT:64,IS_HIGHLIGHT:128,IS_DIRECTIONLESS:1,IS_UNMERGEABLE:2,IS_ALIGN_LEFT:1,IS_ALIGN_CENTER:2,IS_ALIGN_RIGHT:3,IS_ALIGN_JUSTIFY:4,IS_ALIGN_START:5,IS_ALIGN_END:6},ld=ls.IS_BOLD|ls.IS_ITALIC|ls.IS_STRIKETHROUGH|ls.IS_UNDERLINE|ls.IS_CODE|ls.IS_SUBSCRIPT|ls.IS_SUPERSCRIPT|ls.IS_HIGHLIGHT,lu="\xa0",lc="\n\n",lh="֑-߿יִ-﷽ﹰ-ﻼ",lp="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",lf=RegExp("^[^"+lp+"]*["+lh+"]"),lm=RegExp("^[^"+lh+"]*["+lp+"]"),lg={bold:ls.IS_BOLD,code:ls.IS_CODE,highlight:ls.IS_HIGHLIGHT,italic:ls.IS_ITALIC,strikethrough:ls.IS_STRIKETHROUGH,subscript:ls.IS_SUBSCRIPT,superscript:ls.IS_SUPERSCRIPT,underline:ls.IS_UNDERLINE},lv={directionless:ls.IS_DIRECTIONLESS,unmergeable:ls.IS_UNMERGEABLE},lb={center:ls.IS_ALIGN_CENTER,end:ls.IS_ALIGN_END,justify:ls.IS_ALIGN_JUSTIFY,left:ls.IS_ALIGN_LEFT,right:ls.IS_ALIGN_RIGHT,start:ls.IS_ALIGN_START},lx={[ls.IS_ALIGN_CENTER]:"center",[ls.IS_ALIGN_END]:"end",[ls.IS_ALIGN_JUSTIFY]:"justify",[ls.IS_ALIGN_LEFT]:"left",[ls.IS_ALIGN_RIGHT]:"right",[ls.IS_ALIGN_START]:"start"},lC={normal:ls.IS_NORMAL,segmented:ls.IS_SEGMENTED,token:ls.IS_TOKEN},lk={[ls.IS_NORMAL]:"normal",[ls.IS_SEGMENTED]:"segmented",[ls.IS_TOKEN]:"token"},lw={paragraph:e=>{let{node:t,nodesToJSX:l}=e,n=l({nodes:t.children});return(null==n?void 0:n.length)?(0,h.jsx)("p",{children:n}):(0,h.jsx)("p",{children:(0,h.jsx)("br",{})})},text:e=>{let{node:t}=e,l=t.text;return t.format&ls.IS_BOLD&&(l=(0,h.jsx)("strong",{children:l})),t.format&ls.IS_ITALIC&&(l=(0,h.jsx)("em",{children:l})),t.format&ls.IS_STRIKETHROUGH&&(l=(0,h.jsx)("span",{style:{textDecoration:"line-through"},children:l})),t.format&ls.IS_UNDERLINE&&(l=(0,h.jsx)("span",{style:{textDecoration:"underline"},children:l})),t.format&ls.IS_CODE&&(l=(0,h.jsx)("code",{children:l})),t.format&ls.IS_SUBSCRIPT&&(l=(0,h.jsx)("sub",{children:l})),t.format&ls.IS_SUPERSCRIPT&&(l=(0,h.jsx)("sup",{children:l})),l},...la,quote:e=>{let{node:t,nodesToJSX:l}=e,n=l({nodes:t.children});return(0,h.jsx)("blockquote",{children:n})},table:e=>{let{node:t,nodesToJSX:l}=e,n=l({nodes:t.children});return(0,h.jsx)("div",{className:"lexical-table-container",children:(0,h.jsx)("table",{className:"lexical-table",style:{borderCollapse:"collapse"},children:(0,h.jsx)("tbody",{children:n})})})},tablecell:e=>{let{node:t,nodesToJSX:l}=e,n=l({nodes:t.children}),o=t.headerState>0?"th":"td",r="lexical-table-cell-header-".concat(t.headerState),i={backgroundColor:t.backgroundColor||void 0,border:"1px solid #ccc",padding:"8px"},a=t.colSpan&&t.colSpan>1?t.colSpan:void 0,s=t.rowSpan&&t.rowSpan>1?t.rowSpan:void 0;return(0,h.jsx)(o,{className:"lexical-table-cell ".concat(r),colSpan:a,rowSpan:s,style:i,children:n})},tablerow:e=>{let{node:t,nodesToJSX:l}=e,n=l({nodes:t.children});return(0,h.jsx)("tr",{className:"lexical-table-row",children:n})},heading:e=>{let{node:t,nodesToJSX:l}=e,n=l({nodes:t.children}),o=t.tag;return(0,h.jsx)(o,{children:n})},...li,list:e=>{let{node:t,nodesToJSX:l}=e,n=l({nodes:t.children}),o=t.tag;return(0,h.jsx)(o,{className:"list-".concat(null==t?void 0:t.listType),children:n})},listitem:e=>{let{node:t,nodesToJSX:l,parent:n}=e,o=t.children.some(e=>"list"===e.type),r=l({nodes:t.children});if(!("listType"in n)||(null==n?void 0:n.listType)!=="check")return(0,h.jsx)("li",{className:"".concat(o?"nestedListItem":""),style:o?{listStyleType:"none"}:void 0,value:null==t?void 0:t.value,children:r});{let e=(0,T.Z)();return(0,h.jsx)("li",{"aria-checked":t.checked?"true":"false",className:"list-item-checkbox".concat(t.checked?" list-item-checkbox-checked":" list-item-checkbox-unchecked").concat(o?" nestedListItem":""),role:"checkbox",style:{listStyleType:"none"},tabIndex:-1,value:null==t?void 0:t.value,children:o?r:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("input",{checked:t.checked,id:e,readOnly:!0,type:"checkbox"}),(0,h.jsx)("label",{htmlFor:e,children:r}),(0,h.jsx)("br",{})]})})}},...(e=>{let{internalDocToHref:t}=e;return{autolink:e=>{let{node:t,nodesToJSX:l}=e,n=l({nodes:t.children}),o=t.fields.newTab?"noopener noreferrer":void 0,r=t.fields.newTab?"_blank":void 0;return(0,h.jsx)("a",{href:t.fields.url,rel:o,target:r,children:n})},link:e=>{var l;let{node:n,nodesToJSX:o}=e,r=o({nodes:n.children}),i=n.fields.newTab?"noopener noreferrer":void 0,a=n.fields.newTab?"_blank":void 0,s=null!==(l=n.fields.url)&&void 0!==l?l:"";return"internal"===n.fields.linkType&&(t?s=t({linkNode:n}):(console.error("Lexical => JSX converter: Link converter: found internal link, but internalDocToHref is not provided"),s="#")),(0,h.jsx)("a",{href:s,rel:i,target:a,children:r})}}})({}),upload:e=>{let{node:t}=e;if("object"!=typeof t.value)return null;let l=t.value,n=l.url;if(!l.mimeType.startsWith("image"))return(0,h.jsx)("a",{href:n,rel:"noopener noreferrer",children:l.filename});if(!l.sizes||!Object.keys(l.sizes).length)return(0,h.jsx)("img",{alt:l.filename,height:l.height,src:n,width:l.width});let o=[];for(let e in l.sizes){let t=l.sizes[e];if(!t||!t.width||!t.height||!t.mimeType||!t.filesize||!t.filename||!t.url)continue;let n=null==t?void 0:t.url;o.push((0,h.jsx)("source",{media:"(max-width: ".concat(t.width,"px)"),srcSet:n,type:t.mimeType},e))}return o.push((0,h.jsx)("img",{alt:null==l?void 0:l.filename,height:null==l?void 0:l.height,src:n,width:null==l?void 0:l.width},"image")),(0,h.jsx)("picture",{children:o})},tab:"	"},ly=e=>{let{className:t,converters:l,data:n,disableContainer:o,disableIndent:r,disableTextAlign:i}=e;if(!n)return null;let a={};a=l?"function"==typeof l?l({defaultConverters:lw}):l:lw;let s=n&&!Array.isArray(n)&&"object"==typeof n&&"root"in n&&function(e){var t;let{converters:l,data:n,disableIndent:o,disableTextAlign:r}=e;return!function(e){var t,l,n,o,r,i,a,s,d,u;let c=!!(null==e?void 0:null===(l=e.root)||void 0===l?void 0:null===(t=l.children)||void 0===t?void 0:t.length),h=!1;if((null==e?void 0:null===(o=e.root)||void 0===o?void 0:null===(n=o.children)||void 0===n?void 0:n.length)===1&&(null==e?void 0:null===(i=e.root)||void 0===i?void 0:null===(r=i.children[0])||void 0===r?void 0:r.type)==="paragraph"){let t=null==e?void 0:null===(a=e.root)||void 0===a?void 0:a.children[0];if((null==t?void 0:t.children)&&(null==t?void 0:null===(s=t.children)||void 0===s?void 0:s.length)!==0){if((null==t?void 0:null===(d=t.children)||void 0===d?void 0:d.length)===1){let e=null==t?void 0:t.children[0];(null==e?void 0:e.type)==="text"&&((null==e?void 0:null===(u=e.text)||void 0===u?void 0:u.length)||(h=!0))}}else h=!0}return!(!c||h)}(n)?(0,h.jsx)(h.Fragment,{}):function e(t){let{converters:l,disableIndent:n,disableTextAlign:o,nodes:r,parent:i}=t,a=l.unknown;return r.map((t,r)=>{var s,d,u,c,f,m,g,v;let b;"block"===t.type?(b=null==l?void 0:null===(d=l.blocks)||void 0===d?void 0:d[null==t?void 0:null===(s=t.fields)||void 0===s?void 0:s.blockType])||a||console.error("Lexical => JSX converter: Blocks converter: found ".concat(null==t?void 0:null===(u=t.fields)||void 0===u?void 0:u.blockType," block, but no converter is provided")):"inlineBlock"===t.type?(b=null==l?void 0:null===(f=l.inlineBlocks)||void 0===f?void 0:f[null==t?void 0:null===(c=t.fields)||void 0===c?void 0:c.blockType])||a||console.error("Lexical => JSX converter: Inline Blocks converter: found ".concat(null==t?void 0:null===(m=t.fields)||void 0===m?void 0:m.blockType," inline block, but no converter is provided")):b=l[t.type];try{let s;!b&&a&&(b=a),s=b?"function"==typeof b?b({childIndex:r,converters:l,node:t,nodesToJSX:r=>{var a,s,d,u;return e({converters:null!==(a=r.converters)&&void 0!==a?a:l,disableIndent:null!==(s=r.disableIndent)&&void 0!==s?s:n,disableTextAlign:null!==(d=r.disableTextAlign)&&void 0!==d?d:o,nodes:r.nodes,parent:null!==(u=r.parent)&&void 0!==u?u:{...t,parent:i}})},parent:i}):b:(0,h.jsx)("span",{children:"unknown node"},r);let d={};if(!o&&(!Array.isArray(o)||!(null==o?void 0:o.includes(t.type)))&&"format"in t&&t.format)switch(t.format){case"center":d.textAlign="center";break;case"end":case"right":d.textAlign="right";break;case"justify":d.textAlign="justify";break;case"left":break;case"start":d.textAlign="left"}if(!n&&(!Array.isArray(n)||!(null==n?void 0:n.includes(t.type)))&&"indent"in t&&t.indent&&"listitem"!==t.type&&(d.paddingInlineStart="".concat(2*Number(t.indent),"em")),p.isValidElement(s)){if(d.textAlign||d.paddingInlineStart){let e={...d,...null!==(v=null==s?void 0:null===(g=s.props)||void 0===g?void 0:g.style)&&void 0!==v?v:{}};return p.cloneElement(s,{key:r,style:e})}return p.cloneElement(s,{key:r})}return s}catch(e){return console.error("Error converting lexical node to JSX:",e,"node:",t),null}}).filter(Boolean)}({converters:l,disableIndent:o,disableTextAlign:r,nodes:null==n?void 0:null===(t=n.root)||void 0===t?void 0:t.children,parent:null==n?void 0:n.root})}({converters:a,data:n,disableIndent:r,disableTextAlign:i});return o?(0,h.jsx)(h.Fragment,{children:s}):(0,h.jsx)("div",{className:null!=t?t:"payload-richtext",children:s})},l_=Z({plugins:[{Component:function(){let e,t=(0,S.c)(7),[l]=(0,E.g)(),n;t[0]!==l?(n=l.getEditorState().toJSON(),t[0]=l,t[1]=n):n=t[1];let[o,r]=(0,p.useState)(n),i,a;return t[2]!==l?(i=()=>l.registerUpdateListener(e=>{let{editorState:t}=e;r(t.toJSON())}),a=[l],t[2]=l,t[3]=i,t[4]=a):(i=t[3],a=t[4]),(0,p.useEffect)(i,a),t[5]!==o?(e=(0,h.jsx)(ly,{converters:lw,data:o}),t[5]=o,t[6]=e):e=t[6],e},position:"bottom"}]}),lE={50:"oklch(0.97 0.014 254.604)",100:"oklch(0.932 0.032 255.585)",200:"oklch(0.882 0.059 254.128)",300:"oklch(0.809 0.105 251.813)",400:"oklch(0.707 0.165 254.624)",500:"oklch(0.623 0.214 259.815)",600:"oklch(0.546 0.245 262.881)",700:"oklch(0.488 0.243 264.376)",800:"oklch(0.424 0.199 265.638)",900:"oklch(0.379 0.146 265.522)",950:"oklch(0.282 0.091 267.935)"},lT={50:"oklch(0.982 0.018 155.826)",100:"oklch(0.962 0.044 156.743)",200:"oklch(0.925 0.084 155.995)",300:"oklch(0.871 0.15 154.449)",400:"oklch(0.792 0.209 151.711)",500:"oklch(0.723 0.219 149.579)",600:"oklch(0.627 0.194 149.214)",700:"oklch(0.527 0.154 150.069)",800:"oklch(0.448 0.119 151.328)",900:"oklch(0.393 0.095 152.535)",950:"oklch(0.266 0.065 152.934)"},lS={50:"oklch(0.98 0.016 73.684)",100:"oklch(0.954 0.038 75.164)",200:"oklch(0.901 0.076 70.697)",300:"oklch(0.837 0.128 66.29)",400:"oklch(0.75 0.183 55.934)",500:"oklch(0.705 0.213 47.604)",600:"oklch(0.646 0.222 41.116)",700:"oklch(0.553 0.195 38.402)",800:"oklch(0.47 0.157 37.304)",900:"oklch(0.408 0.123 38.172)",950:"oklch(0.266 0.079 36.259)"},lL={50:"oklch(0.971 0.014 343.198)",100:"oklch(0.948 0.028 342.258)",200:"oklch(0.899 0.061 343.231)",300:"oklch(0.823 0.12 346.018)",400:"oklch(0.718 0.202 349.761)",500:"oklch(0.656 0.241 354.308)",600:"oklch(0.592 0.249 0.584)",700:"oklch(0.525 0.223 3.958)",800:"oklch(0.459 0.187 3.815)",900:"oklch(0.408 0.153 2.432)",950:"oklch(0.284 0.109 3.907)"},lN={50:"oklch(0.977 0.014 308.299)",100:"oklch(0.946 0.033 307.174)",200:"oklch(0.902 0.063 306.703)",300:"oklch(0.827 0.119 306.383)",400:"oklch(0.714 0.203 305.504)",500:"oklch(0.627 0.265 303.9)",600:"oklch(0.558 0.288 302.321)",700:"oklch(0.496 0.265 301.924)",800:"oklch(0.438 0.218 303.724)",900:"oklch(0.381 0.176 304.987)",950:"oklch(0.291 0.149 302.717)"},lj={50:"oklch(0.971 0.013 17.38)",100:"oklch(0.936 0.032 17.717)",200:"oklch(0.885 0.062 18.334)",300:"oklch(0.808 0.114 19.571)",400:"oklch(0.704 0.191 22.216)",500:"oklch(0.637 0.237 25.331)",600:"oklch(0.577 0.245 27.325)",700:"oklch(0.505 0.213 27.518)",800:"oklch(0.444 0.177 26.899)",900:"oklch(0.396 0.141 25.723)",950:"oklch(0.258 0.092 26.042)"},lI={50:"oklch(0.987 0.026 102.212)",100:"oklch(0.973 0.071 103.193)",200:"oklch(0.945 0.129 101.54)",300:"oklch(0.905 0.182 98.111)",400:"oklch(0.852 0.199 91.936)",500:"oklch(0.795 0.184 86.047)",600:"oklch(0.681 0.162 75.834)",700:"oklch(0.554 0.135 66.442)",800:"oklch(0.476 0.114 61.907)",900:"oklch(0.421 0.095 57.708)",950:"oklch(0.286 0.066 53.813)"},lF={text:{"text-red":{css:{color:"light-dark(".concat(lj[600],", ").concat(lj[400],")")},label:"Red"},"text-orange":{css:{color:"light-dark(".concat(lS[600],", ").concat(lS[400],")")},label:"Orange"},"text-yellow":{css:{color:"light-dark(".concat(lI[700],", ").concat(lI[300],")")},label:"Yellow"},"text-green":{css:{color:"light-dark(".concat(lT[700],", ").concat(lT[400],")")},label:"Green"},"text-blue":{css:{color:"light-dark(".concat(lE[600],", ").concat(lE[400],")")},label:"Blue"},"text-purple":{css:{color:"light-dark(".concat(lN[600],", ").concat(lN[400],")")},label:"Purple"},"text-pink":{css:{color:"light-dark(".concat(lL[600],", ").concat(lL[400],")")},label:"Pink"}},background:{"bg-red":{css:{"background-color":"light-dark(".concat(lj[400],", ").concat(lj[600],")")},label:"Red"},"bg-orange":{css:{"background-color":"light-dark(".concat(lS[400],", ").concat(lS[600],")")},label:"Orange"},"bg-yellow":{css:{"background-color":"light-dark(".concat(lI[300],", ").concat(lI[700],")")},label:"Yellow"},"bg-green":{css:{"background-color":"light-dark(".concat(lT[400],", ").concat(lT[700],")")},label:"Green"},"bg-blue":{css:{"background-color":"light-dark(".concat(lE[400],", ").concat(lE[600],")")},label:"Blue"},"bg-purple":{css:{"background-color":"light-dark(".concat(lN[400],", ").concat(lN[600],")")},label:"Purple"},"bg-pink":{css:{"background-color":"light-dark(".concat(lL[400],", ").concat(lL[600],")")},label:"Pink"}}},lM=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("g",{clipPath:"url(#clip0_4397_10817)",children:(0,h.jsx)("path",{d:"M7.75 12.25L15.25 4.75M15.25 4.75H11.5M15.25 4.75V8.5M13 11.5V13.75C13 14.5784 12.3284 15.25 11.5 15.25H6.25C5.42157 15.25 4.75 14.5784 4.75 13.75V8.5C4.75 7.67157 5.42157 7 6.25 7H8.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,h.jsx)("defs",{children:(0,h.jsx)("clipPath",{id:"clip0_4397_10817",children:(0,h.jsx)("rect",{fill:"currentColor",height:"12",transform:"translate(4 4)",width:"12"})})})]});function lO(e){let t=e.getAttribute("data-lexical-relationship-id"),l=e.getAttribute("data-lexical-relationship-relationTo");return null!=t&&null!=l?{node:lR({relationTo:l,value:t})}:null}var lA=class extends b.K{static clone(e){return new this({data:e.__data,format:e.__format,key:e.__key})}static getType(){return"relationship"}static importDOM(){return{div:e=>e.hasAttribute("data-lexical-relationship-relationTo")&&e.hasAttribute("data-lexical-relationship-id")?{conversion:lO,priority:2}:null}}static importJSON(e){var t;1===e.version&&(null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.id)&&(e.value=e.value.id);let l=lR({relationTo:e.relationTo,value:e.value});return l.setFormat(e.format),l}static isInline(){return!1}decorate(e,t){return null}exportDOM(){var e,t,l,n,o;let r=document.createElement("div");r.setAttribute("data-lexical-relationship-id",String("object"==typeof(null===(e=this.__data)||void 0===e?void 0:e.value)?null===(l=this.__data)||void 0===l?void 0:null===(t=l.value)||void 0===t?void 0:t.id:null===(n=this.__data)||void 0===n?void 0:n.value)),r.setAttribute("data-lexical-relationship-relationTo",null===(o=this.__data)||void 0===o?void 0:o.relationTo);let i=document.createTextNode(this.getTextContent());return r.append(i),{element:r}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"relationship",version:2}}getData(){return this.getLatest().__data}getTextContent(){var e,t,l,n,o;return"".concat(null===(e=this.__data)||void 0===e?void 0:e.relationTo," relation to ").concat("object"==typeof(null===(t=this.__data)||void 0===t?void 0:t.value)?null===(n=this.__data)||void 0===n?void 0:null===(l=n.value)||void 0===l?void 0:l.id:null===(o=this.__data)||void 0===o?void 0:o.value)}setData(e){this.getWritable().__data=e}constructor({data:e,format:t,key:l}){super(t,l),this.__data=e}};function lR(e){return new lA({data:e})}var lP=p.lazy(()=>l.e(8962).then(l.bind(l,88962)).then(e=>({default:e.RelationshipComponent})));function lB(e){let t=e.getAttribute("data-lexical-relationship-id"),l=e.getAttribute("data-lexical-relationship-relationTo");return null!=t&&null!=l?{node:lD({relationTo:l,value:t})}:null}var lH=class extends lA{static clone(e){return super.clone(e)}static getType(){return super.getType()}static importDOM(){return{div:e=>e.hasAttribute("data-lexical-relationship-relationTo")&&e.hasAttribute("data-lexical-relationship-id")?{conversion:lB,priority:2}:null}}static importJSON(e){var t;1===e.version&&(null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.id)&&(e.value=e.value.id);let l=lD({relationTo:e.relationTo,value:e.value});return l.setFormat(e.format),l}decorate(e,t){var l;return(0,h.jsx)(lP,{className:null!==(l=t.theme.relationship)&&void 0!==l?l:"LexicalEditorTheme__relationship",data:this.__data,format:this.__format,nodeKey:this.getKey()})}exportJSON(){return super.exportJSON()}};function lD(e){return new lH({data:e})}function lV(e){return e instanceof lH}var lz=e=>{let t,l,n,o=(0,S.c)(23),[r]=(0,E.g)(),[i,a]=(0,p.useState)(null),[s,d]=(0,p.useState)(!1),[u,f,m]=(0,x.useListDrawer)(e),{closeDrawer:g,drawerSlug:v,isDrawerOpen:b,openDrawer:C}=m,{modalState:k}=(0,x.useModal)(),w;o[0]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{var e;a(null!==(e=(0,c.dL7)())&&void 0!==e?e:(0,c.DNT)())},o[0]=w):w=o[0];let y=w,_;o[1]!==r||o[2]!==i?(_=()=>{i&&r.update(()=>{if((0,c.OPZ)(i)){let{anchor:e,focus:t}=i;(0,c.gID)(e.key)&&(0,c.gID)(t.key)&&(0,c.oqs)(i.clone())}else(0,c.GvG)().selectEnd()},{discrete:!0,skipTransforms:!0})},o[1]=r,o[2]=i,o[3]=_):_=o[3];let T=_,L;o[4]!==g?(L=()=>{g()},o[4]=g,o[5]=L):L=o[5];let N=L,j,I;return o[6]!==v||o[7]!==k||o[8]!==T||o[9]!==s?(j=()=>{if(!s)return;let e=k[v];!e||(null==e?void 0:e.isOpen)||(d(!1),setTimeout(()=>{T()},1))},I=[k,v,T,s],o[6]=v,o[7]=k,o[8]=T,o[9]=s,o[10]=j,o[11]=I):(j=o[10],I=o[11]),(0,p.useEffect)(j,I),o[12]!==f?(t=e=>(0,h.jsx)(f,{...e,onClick:()=>{y()}}),o[12]=f,o[13]=t):t=o[13],o[14]!==C?(l=()=>{y(),C(),d(!0)},o[14]=C,o[15]=l):l=o[15],o[16]!==u||o[17]!==N||o[18]!==b||o[19]!==v||o[20]!==t||o[21]!==l?(n={closeListDrawer:N,isListDrawerOpen:b,ListDrawer:u,listDrawerSlug:v,ListDrawerToggler:t,openListDrawer:l},o[16]=u,o[17]=N,o[18]=b,o[19]=v,o[20]=t,o[21]=l,o[22]=n):n=o[22],n},lZ=e=>{let{editor:t,relationTo:l,replaceNodeKey:n,value:o}=e;n?t.update(()=>{let e=(0,c.gID)(n);e&&e.replace(lD({relationTo:l,value:o}))}):t.dispatchCommand(lG,{relationTo:l,value:o})},lK=e=>{let t,l=(0,S.c)(16),{enabledCollectionSlugs:n}=e,[o]=(0,E.g)(),i;l[0]!==(null==n?void 0:n[0])?(i=()=>null==n?void 0:n[0],l[0]=null==n?void 0:n[0],l[1]=i):i=l[1];let[a]=(0,p.useState)(i),[s,d]=(0,p.useState)(null),u=n||void 0,f;l[2]!==a||l[3]!==u?(f={collectionSlugs:u,selectedCollection:a},l[2]=a,l[3]=u,l[4]=f):f=l[4];let{closeListDrawer:m,ListDrawer:g,openListDrawer:v}=lz(f),b,x;l[5]!==o||l[6]!==v?(b=()=>o.registerCommand(r.a,e=>(d((null==e?void 0:e.replace)?null==e?void 0:e.replace.nodeKey:null),v(),!0),c.VNZ),x=[o,v],l[5]=o,l[6]=v,l[7]=b,l[8]=x):(b=l[7],x=l[8]),(0,p.useEffect)(b,x),l[9]!==m||l[10]!==o||l[11]!==s?(t=e=>{let{collectionSlug:t,doc:l}=e;lZ({editor:o,relationTo:t,replaceNodeKey:s,value:l.id}),m()},l[9]=m,l[10]=o,l[11]=s,l[12]=t):t=l[12];let C=t,k;return l[13]!==g||l[14]!==C?(k=(0,h.jsx)(g,{onSelect:C}),l[13]=g,l[14]=C,l[15]=k):k=l[15],k},lU=e=>{var t,l;return(null!==(l=null==e?void 0:null===(t=e.enabledCollectionSlugs)||void 0===t?void 0:t.length)&&void 0!==l?l:-1)>0?(0,h.jsx)(lK,{...e}):(0,h.jsx)(i.b,{...e,children:(0,h.jsx)(lK,{...e})})},lG=(0,c.fAf)("INSERT_RELATIONSHIP_COMMAND");function lW(e){let{slug:t}=e;return t}function lJ(e){let t=(0,c.dL7)()||(0,c.DNT)();if((0,c.OPZ)(t)){let l=lD(e),{focus:n}=t,o=n.getNode();(0,L.z8)(l),(0,c.Rlh)(o)&&!o.__first&&o.remove()}return!0}var lX=Z({nodes:[lH],plugins:[{Component:e=>{let t,l,n,o=(0,S.c)(10),{clientProps:r}=e,[i]=(0,E.g)(),{config:a}=(0,C.b)(),{collections:s}=a,d=null;if(null==r?void 0:r.enabledCollections)d=null==r?void 0:r.enabledCollections;else if(null==r?void 0:r.disabledCollections){let e;if(o[0]!==(null==r?void 0:r.disabledCollections)||o[1]!==s){let t;o[3]!==(null==r?void 0:r.disabledCollections)?(t=e=>{var t;let{slug:l}=e;return!(null==r?void 0:null===(t=r.disabledCollections)||void 0===t?void 0:t.includes(l))},o[3]=null==r?void 0:r.disabledCollections,o[4]=t):t=o[4],e=s.filter(t).map(lW),o[0]=null==r?void 0:r.disabledCollections,o[1]=s,o[2]=e}else e=o[2];d=e}return o[5]!==i?(t=()=>{if(!i.hasNodes([lH]))throw Error("RelationshipPlugin: RelationshipNode not registered on editor");return i.registerCommand(lG,lJ,c.VNZ)},l=[i],o[5]=i,o[6]=t,o[7]=l):(t=o[6],l=o[7]),(0,p.useEffect)(t,l),o[8]!==d?(n=(0,h.jsx)(lU,{enabledCollectionSlugs:d}),o[8]=d,o[9]=n):n=o[9],n},position:"normal"}],slashMenu:{groups:[V([{Icon:lM,key:"relationship",keywords:["relationship","relation","rel"],label:e=>{let{i18n:t}=e;return t.t("lexical:relationship:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(r.a,{replace:!1})}}])]},toolbarFixed:{groups:[e1([{ChildComponent:lM,isActive:e=>{let{selection:t}=e;return!!(0,c.iOo)(t)&&!!t.getNodes().length&&lV(t.getNodes()[0])},key:"relationship",label:e=>{let{i18n:t}=e;return t.t("lexical:relationship:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(r.a,{replace:!1})}}])]}}),lY="toolbar-popup__button",lq=e=>{let t,l,n=(0,S.c)(22),{children:o,editor:r,item:i}=e,a;n[0]===Symbol.for("react.memo_cache_sentinel")?(a={active:!1,enabled:!0},n[0]=a):a=n[0];let[s,f]=(0,p.useState)(a),m=(0,p.useDeferredValue)(s),g=(0,u.b)(),v,b=m.enabled?"":"disabled",x=m.active?"active":"",C=i.key?"".concat(lY,"-").concat(i.key):"",k;n[1]!==b||n[2]!==x||n[3]!==C?(k=[lY,b,x,C].filter(Boolean),n[1]=b,n[2]=x,n[3]=C,n[4]=k):k=n[4],v=k.join(" "),n[5]!==r||n[6]!==g||n[7]!==i?(t=()=>{r.getEditorState().read(()=>{let e=(0,c.dL7)();if(!e)return;let t=!!i.isActive&&i.isActive({editor:r,editorConfigContext:g,selection:e}),l=!i.isEnabled||i.isEnabled({editor:r,editorConfigContext:g,selection:e});f(e=>e.active===t&&e.enabled===l?e:{active:t,enabled:l})})},n[5]=r,n[6]=g,n[7]=i,n[8]=t):t=n[8];let w=t,y=(0,d.b)(),_,E;n[9]!==r||n[10]!==y||n[11]!==w?(_=()=>{let e=()=>y(w),t=(0,L.qV)(r.registerUpdateListener(e));return document.addEventListener("mouseup",e),()=>{t(),document.removeEventListener("mouseup",e)}},E=[r,y,w],n[9]=r,n[10]=y,n[11]=w,n[12]=_,n[13]=E):(_=n[12],E=n[13]),(0,p.useEffect)(_,E),n[14]!==s||n[15]!==r||n[16]!==i?(l=()=>{s.enabled&&r.focus(()=>{var e;r.update(l$),null===(e=i.onSelect)||void 0===e||e.call(i,{editor:r,isActive:s.active})})},n[14]=s,n[15]=r,n[16]=i,n[17]=l):l=n[17];let T=l,N;return n[18]!==o||n[19]!==v||n[20]!==T?(N=(0,h.jsx)("button",{className:v,onClick:T,onMouseDown:lQ,type:"button",children:o}),n[18]=o,n[19]=v,n[20]=T,n[21]=N):N=n[21],N};function l$(){(0,c.U32)("toolbar")}function lQ(e){e.preventDefault()}var l0="toolbar-popup__dropdown-item",l1=p.createContext(null);function l2(e){let{active:t,children:l,editor:n,enabled:o,Icon:r,item:i,tooltip:a}=e,s=(0,p.useMemo)(()=>[l0,!1===o?"disabled":"",t?"active":"",(null==i?void 0:i.key)?"".concat(l0,"-").concat(i.key):""].filter(Boolean).join(" "),[o,t,i.key]),d=(0,p.useRef)(null),u=p.use(l1);if(null===u)throw Error("DropDownItem must be used within a DropDown");let{registerItem:f}=u;return(0,p.useEffect)(()=>{(null==d?void 0:d.current)!=null&&f(d)},[d,f]),(0,h.jsx)(x.Button,{"aria-label":a,buttonStyle:"none",className:s,disabled:!1===o,icon:r,iconPosition:"left",iconStyle:"none",onClick:()=>{!1!==o&&n.focus(()=>{var e;n.update(()=>{(0,c.U32)("toolbar")}),null===(e=i.onSelect)||void 0===e||e.call(i,{editor:n,isActive:t})})},onMouseDown:e=>{e.preventDefault()},ref:d,tooltip:a,type:"button",children:l})}function l5(e){let{children:t,dropDownRef:l,itemsContainerClassNames:n,onClose:o}=e,[r,i]=(0,p.useState)(),[a,s]=(0,p.useState)(),d=(0,p.useCallback)(e=>{i(t=>null!=t?[...t,e]:[e])},[i]),u=(0,p.useMemo)(()=>({registerItem:d}),[d]);return(0,p.useEffect)(()=>{null!=r&&null==a&&s(r[0]),null!=a&&(null==a?void 0:a.current)!=null&&a.current.focus()},[r,a]),(0,h.jsx)(l1,{value:u,children:(0,h.jsx)("div",{className:(null!=n?n:["toolbar-popup__dropdown-items"]).join(" "),onKeyDown:e=>{if(null==r)return;let{key:t}=e;["ArrowDown","ArrowUp","Escape","Tab"].includes(t)&&e.preventDefault(),"Escape"===t||"Tab"===t?o():"ArrowUp"===t?s(e=>{if(null==e)return r[0];let t=r.indexOf(e)-1;return r[-1===t?r.length-1:t]}):"ArrowDown"===t&&s(e=>null==e?r[0]:r[r.indexOf(e)+1])},ref:l,children:t})})}function l6(e){let{buttonAriaLabel:t,buttonClassName:l,children:n,disabled:o=!1,Icon:r,itemsContainerClassNames:i,label:a,stopCloseOnClickSelf:s}=e,d=(0,p.useRef)(null),u=(0,p.useRef)(null),[f,m]=(0,p.useState)(!1);(0,p.useEffect)(()=>{let e=u.current,t=d.current;if(f&&null!==e&&null!==t){let{left:l,top:n}=e.getBoundingClientRect(),o=window.scrollY||document.documentElement.scrollTop;t.style.top="".concat(n+o+e.offsetHeight+5,"px"),t.style.left="".concat(Math.min(l-5,window.innerWidth-t.offsetWidth-20),"px")}},[d,u,f]),(0,p.useEffect)(()=>{let e=u.current;if(null!==e&&f){let t=t=>{let l=t.target;(0,c.uFG)(l)&&(s&&d.current&&d.current.contains(l)||e.contains(l)||m(!1))};return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}}},[d,u,f,s]);let g=(0,M.createPortal)((0,h.jsx)(l5,{dropDownRef:d,itemsContainerClassNames:i,onClose:()=>{m(!1),(null==u?void 0:u.current)!=null&&u.current.focus()},children:n}),document.body);return(0,h.jsxs)(p.Fragment,{children:[(0,h.jsxs)("button",{"aria-label":t,className:l+(f?" active":""),disabled:o,onClick:e=>{e.preventDefault(),m(!f)},onMouseDown:e=>{e.preventDefault()},ref:u,type:"button",children:[r&&(0,h.jsx)(r,{}),a&&(0,h.jsx)("span",{className:"toolbar-popup__dropdown-label",children:a}),(0,h.jsx)("i",{className:"toolbar-popup__dropdown-caret"})]}),f&&(0,h.jsx)(p.Fragment,{children:g})]})}var l3="toolbar-popup__dropdown",l4=p.memo(e=>{let t,l=(0,S.c)(18),{active:n,anchorElem:o,editor:r,enabled:i,item:a}=e,{i18n:s}=(0,k.d)(),{fieldProps:d}=(0,u.b)(),{featureClientSchemaMap:c,schemaPath:p}=d;if(a.Component){let e;return l[0]!==n||l[1]!==o||l[2]!==r||l[3]!==i||l[4]!==a?(e=(null==a?void 0:a.Component)&&(0,h.jsx)(a.Component,{active:n,anchorElem:o,editor:r,enabled:i,item:a},a.key),l[0]=n,l[1]=o,l[2]=r,l[3]=i,l[4]=a,l[5]=e):e=l[5],e}let f=a.key,m;if(a.label){let e;l[6]!==c||l[7]!==s||l[8]!==a||l[9]!==p?(e="function"==typeof a.label?a.label({featureClientSchemaMap:c,i18n:s,schemaPath:p}):a.label,l[6]=c,l[7]=s,l[8]=a,l[9]=p,l[10]=e):e=l[10],f=e}return m=f.length>25?f.substring(0,25)+"...":f,l[11]!==n||l[12]!==m||l[13]!==r||l[14]!==i||l[15]!==a||l[16]!==f?(t=(0,h.jsx)(l2,{active:n,editor:r,enabled:i,Icon:(null==a?void 0:a.ChildComponent)?(0,h.jsx)(a.ChildComponent,{}):void 0,item:a,tooltip:f,children:(0,h.jsx)("span",{className:"text",children:m})},a.key),l[11]=n,l[12]=m,l[13]=r,l[14]=i,l[15]=a,l[16]=f,l[17]=t):t=l[17],t}),l7=e=>{let{anchorElem:t,classNames:l,editor:n,group:o,Icon:r,itemsContainerClassNames:i,label:a,maxActiveItems:s,onActiveChange:f}=e,[m,g]=p.useState({activeItemKeys:[],enabledGroup:!0,enabledItemKeys:[]}),v=(0,p.useDeferredValue)(m),b=(0,u.b)(),{items:x,key:C}=o,k=(0,d.b)(),w=(0,p.useCallback)(()=>{n.getEditorState().read(()=>{let e=(0,c.dL7)();if(!e)return;let t=[],l=[],r=[];for(let o of x)o.isActive&&(!s||t.length<s)&&o.isActive({editor:n,editorConfigContext:b,selection:e})&&(t.push(o.key),l.push(o)),o.isEnabled?o.isEnabled({editor:n,editorConfigContext:b,selection:e})&&r.push(o.key):r.push(o.key);g({activeItemKeys:t,enabledGroup:!o.isEnabled||o.isEnabled({editor:n,editorConfigContext:b,selection:e}),enabledItemKeys:r}),f&&f({activeItems:l})})},[n,b,o,x,s,f]);(0,p.useEffect)(()=>(0,L.qV)(n.registerUpdateListener(async()=>{await k(w)})),[n,k,w]);let y=(0,p.useMemo)(()=>(null==x?void 0:x.length)?x.map(e=>(0,h.jsx)(l4,{active:v.activeItemKeys.includes(e.key),anchorElem:t,editor:n,enabled:v.enabledItemKeys.includes(e.key),item:e},e.key)):null,[x,v,t,n]);return(0,h.jsx)(l6,{buttonAriaLabel:"".concat(C," dropdown"),buttonClassName:[l3,"".concat(l3,"-").concat(C),...l||[]].filter(Boolean).join(" "),disabled:!v.enabledGroup,Icon:r,itemsContainerClassNames:["".concat(l3,"-items"),...i||[]],label:a,children:y},C)};function l8(e){let{anchorElem:t,editor:l,item:n}=e;return n.Component?(null==n?void 0:n.Component)&&(0,h.jsx)(n.Component,{anchorElem:t,editor:l,item:n},n.key):n.ChildComponent?(0,h.jsx)(lq,{editor:l,item:n,children:(0,h.jsx)(n.ChildComponent,{})},n.key):null}function l9(e){var t,l,n,o,r;let i,a;let s=(0,S.c)(23),{anchorElem:d,editor:c,editorConfig:f,group:m,index:g}=e,{i18n:v}=(0,k.d)(),{fieldProps:b}=(0,u.b)(),{featureClientSchemaMap:x,schemaPath:C}=b,[w,y]=p.useState(void 0),[_,E]=p.useState(void 0),T;s[0]!==m.ChildComponent||s[1]!==m.items||s[2]!==m.type?(T=()=>{(null==m?void 0:m.type)==="dropdown"&&m.items.length&&m.ChildComponent?E(()=>m.ChildComponent):E(void 0)},s[0]=m.ChildComponent,s[1]=m.items,s[2]=m.type,s[3]=T):T=s[3],s[4]!==m?(i=[m],s[4]=m,s[5]=i):i=s[5],p.useEffect(T,i),s[6]!==x||s[7]!==m.ChildComponent||s[8]!==m.items||s[9]!==m.type||s[10]!==v||s[11]!==C?(a=e=>{let{activeItems:t}=e;if(!t.length){(null==m?void 0:m.type)==="dropdown"&&m.items.length&&m.ChildComponent?E(()=>m.ChildComponent):E(void 0),y(void 0);return}let l=t[0],n=l.key;l.label&&(n="function"==typeof l.label?l.label({featureClientSchemaMap:x,i18n:v,schemaPath:C}):l.label),n.length>25&&(n=n.substring(0,25)+"..."),1===t.length?(y(n),E(()=>l.ChildComponent)):(y(v.t("lexical:general:toolbarItemsActive",{count:t.length})),(null==m?void 0:m.type)==="dropdown"&&m.items.length&&m.ChildComponent?E(()=>m.ChildComponent):E(void 0))},s[6]=x,s[7]=m.ChildComponent,s[8]=m.items,s[9]=m.type,s[10]=v,s[11]=C,s[12]=a):a=s[12];let L=a,N="fixed-toolbar__group fixed-toolbar__group-".concat(m.key),j;return s[13]!==_||s[14]!==d||s[15]!==w||s[16]!==c||s[17]!==(null===(t=f.features.toolbarFixed)||void 0===t?void 0:t.groups.length)||s[18]!==m||s[19]!==g||s[20]!==L||s[21]!==N?(j=(0,h.jsxs)("div",{className:N,children:["dropdown"===m.type&&m.items.length?_?(0,h.jsx)(l7,{anchorElem:d,editor:c,group:m,Icon:_,itemsContainerClassNames:["fixed-toolbar__dropdown-items"],label:w,maxActiveItems:null!==(o=m.maxActiveItems)&&void 0!==o?o:1,onActiveChange:L}):(0,h.jsx)(l7,{anchorElem:d,editor:c,group:m,itemsContainerClassNames:["fixed-toolbar__dropdown-items"],label:w,maxActiveItems:null!==(r=m.maxActiveItems)&&void 0!==r?r:1,onActiveChange:L}):null,"buttons"===m.type&&m.items.length?m.items.map(e=>(0,h.jsx)(l8,{anchorElem:d,editor:c,item:e},e.key)):null,g<(null===(l=f.features.toolbarFixed)||void 0===l?void 0:l.groups.length)-1&&(0,h.jsx)("div",{className:"divider"})]},m.key),s[13]=_,s[14]=d,s[15]=w,s[16]=c,s[17]=null===(n=f.features.toolbarFixed)||void 0===n?void 0:n.groups.length,s[18]=m,s[19]=g,s[20]=L,s[21]=N,s[22]=j):j=s[22],j}function ne(e){var t,l;let{anchorElem:n,clientProps:o,editor:r,editorConfig:i,parentWithFixedToolbar:a}=e,s=p.useRef(null),{y:d}=(0,x.useScrollInfo)(),u=(0,p.useMemo)(()=>{if(!a||(null==o?void 0:o.disableIfParentHasFixedToolbar))return null;let e=a.editorContainerRef.current.previousElementSibling;for(;e;){if(e.classList.contains("fixed-toolbar"))return e;e=e.previousElementSibling}return null},[null==o?void 0:o.disableIfParentHasFixedToolbar,a]);return(0,x.useThrottledEffect)(()=>{if(!u)return;let e=s.current;if(!e)return;let t=e.getBoundingClientRect(),l=u.getBoundingClientRect();if(t.bottom<l.top||t.top>l.bottom){if(!e.classList.contains("fixed-toolbar--overlapping"))return;e.classList.remove("fixed-toolbar--overlapping"),e.classList.add("fixed-toolbar"),u.classList.remove("fixed-toolbar--hide"),u.classList.add("fixed-toolbar")}else e.classList.remove("fixed-toolbar"),e.classList.add("fixed-toolbar","fixed-toolbar--overlapping"),u.classList.remove("fixed-toolbar"),u.classList.add("fixed-toolbar","fixed-toolbar--hide")},50,[s,u,d]),(0,h.jsx)("div",{className:"fixed-toolbar",onFocus:e=>{e.stopPropagation()},ref:s,children:r.isEditable()&&(0,h.jsx)(p.Fragment,{children:(null==i?void 0:i.features)&&(null===(l=i.features)||void 0===l?void 0:null===(t=l.toolbarFixed)||void 0===t?void 0:t.groups.map((e,t)=>(0,h.jsx)(l9,{anchorElem:n,editor:r,editorConfig:i,group:e,index:t},e.key)))})})}var nt=e=>{var t,l;if(null===(t=e.parentEditor)||void 0===t?void 0:t.editorConfig){if(null===(l=e.parentEditor)||void 0===l?void 0:l.editorConfig.resolvedFeatureMap.has("toolbarFixed"))return e.parentEditor;if(e.parentEditor)return nt(e.parentEditor)}return!1},nl=Z({plugins:[{Component:e=>{var t,l,n,o,r;let i=(0,S.c)(6),{clientProps:a}=e,[s]=(0,E.g)(),d=(0,u.b)(),{editorConfig:c}=d,p=a.applyToFocusedEditor&&(null===(t=d.focusedEditor)||void 0===t?void 0:t.editor)||s,f=a.applyToFocusedEditor&&(null===(l=d.focusedEditor)||void 0===l?void 0:l.editorConfig)||c,m,g;if(i[0]!==a.disableIfParentHasFixedToolbar||i[1]!==p||i[2]!==f||i[3]!==d){g=Symbol.for("react.early_return_sentinel");e:{let e=nt(d);if((null==a?void 0:a.disableIfParentHasFixedToolbar)&&e||!(null==f?void 0:null===(r=f.features)||void 0===r?void 0:null===(o=r.toolbarFixed)||void 0===o?void 0:null===(n=o.groups)||void 0===n?void 0:n.length)){g=null;break e}m=(0,h.jsx)(ne,{anchorElem:document.body,editor:p,editorConfig:f,parentWithFixedToolbar:e})}i[0]=a.disableIfParentHasFixedToolbar,i[1]=p,i[2]=f,i[3]=d,i[4]=m,i[5]=g}else m=i[4],g=i[5];return g!==Symbol.for("react.early_return_sentinel")?g:m},position:"aboveContainer"}]});function nn(e,t){let l=e.getRangeAt(0),n;if(e.anchorNode===t){let e=t;for(;null!=e.firstElementChild;)e=e.firstElementChild;n=e.getBoundingClientRect()}else n=l.getBoundingClientRect();return n}function no(e){let{alwaysDisplayOnTop:t=!1,anchorElem:l,anchorFlippedOffset:n=0,floatingElem:o,horizontalOffset:r=32,horizontalPosition:i="left",specialHandlingForCaret:a=!1,targetRect:s,verticalGap:d=10}=e,u=l.parentElement;if(null===s||null==u){o.style.opacity="0",o.style.transform="translate(-10000px, -10000px)";return}let c=o.getBoundingClientRect(),h=l.getBoundingClientRect(),p=u.getBoundingClientRect(),f=s.top-c.height-d,m=s.left-r;"center"===i&&(m=s.left+s.width/2-c.width/2);let g=0;return t||!(f<p.top)||a||(f+=g=c.height+s.height+2*d),"center"===i?m+c.width>p.right?m=p.right-c.width-r:m<p.left&&(m=p.left+r):m+c.width>p.right&&(m=p.right-c.width-r),m-=h.left,o.style.opacity="1",a&&0!==n?(f-=h.bottom-n+c.height-3,o.style.transform="translate(".concat(m,"px, ").concat(f,"px) rotate(180deg)")):(f-=h.top,o.style.transform="translate(".concat(m,"px, ").concat(f,"px)")),g}function nr(e){let{anchorElem:t,editor:l,item:n}=e;return n.Component?(null==n?void 0:n.Component)&&(0,h.jsx)(n.Component,{anchorElem:t,editor:l,item:n},n.key):n.ChildComponent?(0,h.jsx)(lq,{editor:l,item:n,children:(0,h.jsx)(n.ChildComponent,{})},n.key):null}function ni(e){var t,l,n,o,r;let i,a;let s=(0,S.c)(19),{anchorElem:d,editor:c,group:f,index:m}=e,{editorConfig:g}=(0,u.b)(),[v,b]=p.useState(),x;s[0]!==f.ChildComponent||s[1]!==f.items||s[2]!==f.type?(x=()=>{(null==f?void 0:f.type)==="dropdown"&&f.items.length&&f.ChildComponent?b(()=>f.ChildComponent):b(void 0)},s[0]=f.ChildComponent,s[1]=f.items,s[2]=f.type,s[3]=x):x=s[3],s[4]!==f?(i=[f],s[4]=f,s[5]=i):i=s[5],p.useEffect(x,i),s[6]!==f.ChildComponent||s[7]!==f.items||s[8]!==f.type?(a=e=>{let{activeItems:t}=e;if(!t.length){(null==f?void 0:f.type)==="dropdown"&&f.items.length&&f.ChildComponent?b(()=>f.ChildComponent):b(void 0);return}let l=t[0];b(()=>null==l?void 0:l.ChildComponent)},s[6]=f.ChildComponent,s[7]=f.items,s[8]=f.type,s[9]=a):a=s[9];let C=a,k="inline-toolbar-popup__group inline-toolbar-popup__group-".concat(f.key),w;return s[10]!==v||s[11]!==d||s[12]!==c||s[13]!==(null===(t=g.features.toolbarInline)||void 0===t?void 0:t.groups.length)||s[14]!==f||s[15]!==m||s[16]!==C||s[17]!==k?(w=(0,h.jsxs)("div",{className:k,children:["dropdown"===f.type&&f.items.length?v?(0,h.jsx)(l7,{anchorElem:d,editor:c,group:f,Icon:v,maxActiveItems:null!==(o=f.maxActiveItems)&&void 0!==o?o:1,onActiveChange:C}):(0,h.jsx)(l7,{anchorElem:d,editor:c,group:f,maxActiveItems:null!==(r=f.maxActiveItems)&&void 0!==r?r:1,onActiveChange:C}):null,"buttons"===f.type&&f.items.length?f.items.map(e=>(0,h.jsx)(nr,{anchorElem:d,editor:c,item:e},e.key)):null,m<(null===(l=g.features.toolbarInline)||void 0===l?void 0:l.groups.length)-1&&(0,h.jsx)("div",{className:"divider"})]},f.key),s[10]=v,s[11]=d,s[12]=c,s[13]=null===(n=g.features.toolbarInline)||void 0===n?void 0:n.groups.length,s[14]=f,s[15]=m,s[16]=C,s[17]=k,s[18]=w):w=s[18],w}function na(e){var t,l;let{anchorElem:n,editor:o}=e,r=(0,p.useRef)(null),i=(0,p.useRef)(null),{editorConfig:a}=(0,u.b)(),s=(0,p.useCallback)(()=>{if(null==r?void 0:r.current){let e="0"===r.current.style.opacity,t="none"===r.current.style.pointerEvents;e||(r.current.style.opacity="0"),t||(r.current.style.pointerEvents="none")}},[r]),d=(0,p.useCallback)(e=>{if((null==r?void 0:r.current)&&(1===e.buttons||3===e.buttons)){let t="0"===r.current.style.opacity,l="none"===r.current.style.pointerEvents;if(!t||!l){let t=e.clientX,l=e.clientY,n=document.elementFromPoint(t,l);r.current.contains(n)||s()}}},[s]),f=(0,p.useCallback)(()=>{(null==r?void 0:r.current)&&("1"!==r.current.style.opacity&&(r.current.style.opacity="1"),"auto"!==r.current.style.pointerEvents&&(r.current.style.pointerEvents="auto"))},[]);(0,p.useEffect)(()=>(document.addEventListener("mousemove",d),document.addEventListener("mouseup",f),()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",f)}),[r,d,f]);let m=(0,p.useCallback)(()=>{var e;let t=(0,c.dL7)(),l=(0,c.Inp)(o._window);if(null===r.current)return;let a=n.querySelector(":scope > .link-editor"),d=null!==a&&"style"in a&&(null==a?void 0:null===(e=a.style)||void 0===e?void 0:e.opacity)==="1",u=o.getRootElement();if(null!==t&&null!==l&&!l.isCollapsed&&null!==u&&u.contains(l.anchorNode)){let e=nn(l,u),t=no({alwaysDisplayOnTop:d,anchorElem:n,floatingElem:r.current,horizontalPosition:"center",targetRect:e});i.current&&no({anchorElem:r.current,anchorFlippedOffset:t,floatingElem:i.current,horizontalOffset:5,horizontalPosition:"center",specialHandlingForCaret:!0,targetRect:e,verticalGap:8})}else s()},[o,s,n]);return(0,p.useEffect)(()=>{let e=n.parentElement,t=()=>{o.getEditorState().read(()=>{m()})};return window.addEventListener("resize",t),e&&e.addEventListener("scroll",t),()=>{window.removeEventListener("resize",t),e&&e.removeEventListener("scroll",t)}},[o,m,n]),(0,p.useEffect)(()=>(o.getEditorState().read(()=>{m()}),(0,L.qV)(o.registerUpdateListener(e=>{let{editorState:t}=e;t.read(()=>{m()})}),o.registerCommand(c.ojF,()=>(m(),!1),c.KB))),[o,m]),(0,h.jsxs)("div",{className:"inline-toolbar-popup",ref:r,children:[(0,h.jsx)("div",{className:"caret",ref:i}),(null==a?void 0:a.features)&&(null===(l=a.features)||void 0===l?void 0:null===(t=l.toolbarInline)||void 0===t?void 0:t.groups.map((e,t)=>(0,h.jsx)(ni,{anchorElem:n,editor:o,group:e,index:t},e.key)))]})}var ns=Z({plugins:[{Component:e=>{let{anchorElem:t}=e,[l]=(0,E.g)();return function(e,t){let l,n,o,r=(0,S.c)(12),[i,a]=(0,p.useState)(!1),s;r[0]!==e?(s=()=>{e.getEditorState().read(()=>{if(e.isComposing())return;let t=(0,c.dL7)(),l=(0,c.Inp)(e._window),n=e.getRootElement();if(null!==l&&(!(0,c.OPZ)(t)||null===n||!n.contains(l.anchorNode))){a(!1);return}if(!(0,c.OPZ)(t))return;if(""!==t.getTextContent()){let e=t.getNodes(),l=!1;for(let t of e)if((0,c.Gg4)(t)){a(!0),l=!0;break}l||a(!1)}else a(!1);let o=t.getTextContent().replace(/\n/g,"");if(!t.isCollapsed()&&""===o){a(!1);return}})},r[0]=e,r[1]=s):s=r[1];let d=s,u,f;return(r[2]!==d?(u=()=>(document.addEventListener("selectionchange",d),document.addEventListener("mouseup",d),()=>{document.removeEventListener("selectionchange",d),document.removeEventListener("mouseup",d)}),f=[d],r[2]=d,r[3]=u,r[4]=f):(u=r[3],f=r[4]),(0,p.useEffect)(u,f),r[5]!==e||r[6]!==d?(l=()=>(0,L.qV)(e.registerUpdateListener(()=>{d()}),e.registerRootListener(()=>{null===e.getRootElement()&&a(!1)})),n=[e,d],r[5]=e,r[6]=d,r[7]=l,r[8]=n):(l=r[7],n=r[8]),(0,p.useEffect)(l,n),i&&e.isEditable())?(r[9]!==t||r[10]!==e?(o=(0,M.createPortal)((0,h.jsx)(na,{anchorElem:t,editor:e}),t),r[9]=t,r[10]=e,r[11]=o):o=r[11],o):null}(l,t)},position:"floatingAnchorElem"}]}),nd=()=>(0,h.jsx)("svg",{className:"icon",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,h.jsx)("path",{clipRule:"evenodd",d:"M5.33333 4.5C4.8731 4.5 4.5 4.8731 4.5 5.33333V7.5H9.5V4.5H5.33333ZM5.33333 3.5C4.32081 3.5 3.5 4.32081 3.5 5.33333V14.6667C3.5 15.6792 4.32081 16.5 5.33333 16.5H14.6667C15.6792 16.5 16.5 15.6792 16.5 14.6667V5.33333C16.5 4.32081 15.6792 3.5 14.6667 3.5H5.33333ZM10.5 4.5V7.5H15.5V5.33333C15.5 4.8731 15.1269 4.5 14.6667 4.5H10.5ZM15.5 8.5H10.5V11.5H15.5V8.5ZM15.5 12.5H10.5V15.5H14.6667C15.1269 15.5 15.5 15.1269 15.5 14.6667V12.5ZM9.5 15.5V12.5H4.5V14.6667C4.5 15.1269 4.8731 15.5 5.33333 15.5H9.5ZM4.5 11.5H9.5V8.5H4.5V11.5Z",fill:"currentColor",fillRule:"evenodd"})}),nu=/^\|(.+)\|\s?$/,nc=/^(\| ?:?-*:? ?)+\|\s?$/,nh=(e,t)=>{e=e.replace(/\\n/g,"\n");let l=(0,j.ku)(j.xo.NO_STATUS);return(0,d.d)(e,t,l),l},np=(e,t)=>{let l=e.match(nu);return l&&l[1]?l[1].split("|").map(e=>nh(e,t)):null},nf=()=>(0,h.jsxs)("svg",{fill:"none",height:"18",viewBox:"0 0 20 20",width:"18",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M5 11C5.55228 11 6 10.5523 6 10C6 9.44772 5.55228 9 5 9C4.44772 9 4 9.44772 4 10C4 10.5523 4.44772 11 5 11Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}),(0,h.jsx)("path",{d:"M15 11C15.5523 11 16 10.5523 16 10C16 9.44772 15.5523 9 15 9C14.4477 9 14 9.44772 14 10C14 10.5523 14.4477 11 15 11Z",fill:"currentColor"})]});function nm(e){let t=e.getShape();return{columns:t.toX-t.fromX+1,rows:t.toY-t.fromY+1}}function ng(e){let{cellMerge:t,contextRef:l,onClose:n,setIsMenuOpen:o,tableCellNode:r}=e,[i]=(0,E.g)(),a=(0,p.useRef)(null),[s,d]=(0,p.useState)(r),[u,f]=(0,p.useState)({columns:1,rows:1}),[m,g]=(0,p.useState)(!1),[v,b]=(0,p.useState)(!1),{y:C}=(0,x.useScrollInfo)();(0,p.useEffect)(()=>i.registerMutationListener(j.Cr,e=>{"updated"===e.get(s.getKey())&&i.getEditorState().read(()=>{d(s.getLatest())})},{skipInitialization:!0}),[i,s]),(0,p.useEffect)(()=>{i.getEditorState().read(()=>{let e=(0,c.dL7)();if((0,j.zO)(e)){let t=nm(e);f(nm(e)),g(t.columns>1||t.rows>1)}b(function(){let e=(0,c.dL7)();if((0,c.OPZ)(e)&&!e.isCollapsed()||(0,j.zO)(e)&&!e.anchor.is(e.focus)||!(0,c.OPZ)(e)&&!(0,j.zO)(e))return!1;let[t]=(0,j.$r)(e.anchor);return t.__colSpan>1||t.__rowSpan>1}())})},[i]),(0,p.useEffect)(()=>{let e=l.current,t=a.current,n=i.getRootElement();if(null!=e&&null!=t&&null!=n){let l=n.getBoundingClientRect(),o=e.getBoundingClientRect();t.style.opacity="1";let r=t.getBoundingClientRect(),i=o.right+5;if(i+r.width>window.innerWidth||i+r.width>l.right){let e=o.left-r.width-5;i=(e<0?5:e)+window.pageXOffset}t.style.left="".concat(i+window.pageXOffset,"px");let a=o.top;if(a+r.height>window.innerHeight){let e=o.bottom-r.height;a=e<0?5:e}t.style.top="".concat(a,"px")}},[l,a,i,C]),(0,p.useEffect)(()=>{function e(e){null!=a.current&&null!=l.current&&(0,c.uFG)(e.target)&&!a.current.contains(e.target)&&!l.current.contains(e.target)&&o(!1)}return window.addEventListener("click",e),()=>window.removeEventListener("click",e)},[o,l]);let k=(0,p.useCallback)(()=>{i.update(()=>{if(s.isAttached()){let e=(0,j.Yp)(s),t=(0,j.tF)(e,i.getElementByKey(e.getKey()));if(null===t)throw Error("Expected to find tableElement in DOM");let l=(0,j.ng)(t);null!==l&&l.$clearHighlight(),e.markDirty(),d(s.getLatest())}(0,c.oqs)(null)})},[i,s]),w=()=>{i.update(()=>{let e=(0,c.dL7)();if((0,j.zO)(e)){var t,l;let o;let r=e.getNodes().filter(j.TF);if(0===r.length)return;let i=(0,j.Yp)(r[0]),[a]=(0,j.CS)(i,null,null),s=1/0,d=-1/0,u=1/0,h=-1/0,p=new Set;for(let e of a)for(let t of e){if(!t||!t.cell)continue;let e=t.cell.getKey();if(!p.has(e)&&r.some(e=>e.is(t.cell))){p.add(e);let l=t.startRow,n=t.startColumn,o=t.cell.__rowSpan||1,r=t.cell.__colSpan||1;s=Math.min(s,l),d=Math.max(d,l+o-1),u=Math.min(u,n),h=Math.max(h,n+r-1)}}if(s===1/0||u===1/0)return;let f=d-s+1,m=h-u+1,g=null==a?void 0:null===(t=a[s])||void 0===t?void 0:t[u];if(!(null==g?void 0:g.cell))return;let v=g.cell;v.setColSpan(m),v.setRowSpan(f);let b=new Set([v.getKey()]);for(let e=s;e<=d;e++)for(let t=u;t<=h;t++){let n=null==a?void 0:null===(l=a[e])||void 0===l?void 0:l[t];if(!(null==n?void 0:n.cell))continue;let o=n.cell,r=o.getKey();b.has(r)||(b.add(r),function(e){if(1!==e.getChildrenSize())return!1;let t=e.getFirstChildOrThrow();return!(!(0,c.Rlh)(t)||!t.isEmpty())}(o)||v.append(...o.getChildren()),o.remove())}0===v.getChildrenSize()&&v.append((0,c.BEw)()),o=v.getLastDescendant(),(0,c.Gg4)(o)?o.select():(0,c.F7b)(o)?o.selectEnd():null!==o&&o.selectNext(),n()}})},y=()=>{i.update(()=>{(0,j.eb)()})},_=(0,p.useCallback)(e=>{i.update(()=>{for(let t=0;t<u.rows;t++)(0,j.EX)(e);n()})},[i,n,u.rows]),T=(0,p.useCallback)(e=>{i.update(()=>{for(let t=0;t<u.columns;t++)(0,j.rU)(e);n()})},[i,n,u.columns]),S=(0,p.useCallback)(()=>{i.update(()=>{(0,j.kS)(),n()})},[i,n]),L=(0,p.useCallback)(()=>{i.update(()=>{(0,j.Yp)(s).remove(),k(),n()})},[i,s,k,n]),N=(0,p.useCallback)(()=>{i.update(()=>{(0,j.bk)(),n()})},[i,n]),I=(0,p.useCallback)(()=>{i.update(()=>{let e=(0,j.Yp)(s),t=(0,j.q1)(s),[l]=(0,j.CS)(e,null,null),o=new Set,r=s.getHeaderStyles()^j.xo.ROW;if(l[t])for(let e=0;e<l[t].length;e++){let n=l[t][e];(null==n?void 0:n.cell)&&(o.has(n.cell)||(o.add(n.cell),n.cell.setHeaderStyles(r,j.xo.ROW)))}k(),n()})},[i,s,k,n]),F=(0,p.useCallback)(()=>{i.update(()=>{let e=(0,j.Yp)(s),t=(0,j.yb)(s),[l]=(0,j.CS)(e,null,null),o=new Set,r=s.getHeaderStyles()^j.xo.COLUMN;if(l)for(let e=0;e<l.length;e++){var i;let n=null==l?void 0:null===(i=l[e])||void 0===i?void 0:i[t];(null==n?void 0:n.cell)&&(o.has(n.cell)||(o.add(n.cell),n.cell.setHeaderStyles(r,j.xo.COLUMN)))}k(),n()})},[i,s,k,n]),O=(0,p.useCallback)(()=>{i.update(()=>{if(s.isAttached()){let e=(0,j.Yp)(s);e&&e.setRowStriping(!e.getRowStriping())}k(),n()})},[i,s,k,n]),A=(0,p.useCallback)(()=>{i.update(()=>{if(s.isAttached()){let e=(0,j.Yp)(s);e&&e.setFrozenColumns(0===e.getFrozenColumns()?1:0)}k(),n()})},[i,s,k,n]),R=null;return t&&(m?R=(0,h.jsx)("button",{className:"item","data-test-id":"table-merge-cells",onClick:()=>w(),type:"button",children:(0,h.jsx)("span",{className:"text",children:"Merge cells"})}):v&&(R=(0,h.jsx)("button",{className:"item","data-test-id":"table-unmerge-cells",onClick:()=>y(),type:"button",children:(0,h.jsx)("span",{className:"text",children:"Unmerge cells"})}))),(0,M.createPortal)((0,h.jsxs)("div",{className:"table-action-menu-dropdown",onClick:e=>{e.stopPropagation()},ref:a,children:[R?(0,h.jsxs)(p.Fragment,{children:[R,(0,h.jsx)("hr",{})]}):null,(0,h.jsx)("button",{className:"item","data-test-id":"table-row-striping",onClick:()=>O(),type:"button",children:(0,h.jsx)("span",{className:"text",children:"Toggle Row Striping"})}),(0,h.jsx)("button",{className:"item","data-test-id":"table-freeze-first-column",onClick:()=>A(),type:"button",children:(0,h.jsx)("span",{className:"text",children:"Toggle First Column Freeze"})}),(0,h.jsx)("button",{className:"item","data-test-id":"table-insert-row-above",onClick:()=>_(!1),type:"button",children:(0,h.jsxs)("span",{className:"text",children:["Insert ",1===u.rows?"row":"".concat(u.rows," rows")," above"]})}),(0,h.jsx)("button",{className:"item","data-test-id":"table-insert-row-below",onClick:()=>_(!0),type:"button",children:(0,h.jsxs)("span",{className:"text",children:["Insert ",1===u.rows?"row":"".concat(u.rows," rows")," below"]})}),(0,h.jsx)("hr",{}),(0,h.jsx)("button",{className:"item","data-test-id":"table-insert-column-before",onClick:()=>T(!1),type:"button",children:(0,h.jsxs)("span",{className:"text",children:["Insert ",1===u.columns?"column":"".concat(u.columns," columns")," ","left"]})}),(0,h.jsx)("button",{className:"item","data-test-id":"table-insert-column-after",onClick:()=>T(!0),type:"button",children:(0,h.jsxs)("span",{className:"text",children:["Insert ",1===u.columns?"column":"".concat(u.columns," columns")," ","right"]})}),(0,h.jsx)("hr",{}),(0,h.jsx)("button",{className:"item","data-test-id":"table-delete-columns",onClick:()=>N(),type:"button",children:(0,h.jsx)("span",{className:"text",children:"Delete column"})}),(0,h.jsx)("button",{className:"item","data-test-id":"table-delete-rows",onClick:()=>S(),type:"button",children:(0,h.jsx)("span",{className:"text",children:"Delete row"})}),(0,h.jsx)("button",{className:"item","data-test-id":"table-delete",onClick:()=>L(),type:"button",children:(0,h.jsx)("span",{className:"text",children:"Delete table"})}),(0,h.jsx)("hr",{}),(0,h.jsx)("button",{className:"item","data-test-id":"table-row-header",onClick:()=>I(),type:"button",children:(0,h.jsxs)("span",{className:"text",children:[(s.__headerState&j.xo.ROW)===j.xo.ROW?"Remove":"Add"," ","row header"]})}),(0,h.jsx)("button",{className:"item","data-test-id":"table-column-header",onClick:()=>F(),type:"button",children:(0,h.jsxs)("span",{className:"text",children:[(s.__headerState&j.xo.COLUMN)===j.xo.COLUMN?"Remove":"Add"," ","column header"]})})]}),document.body)}function nv(e){let{anchorElem:t,cellMerge:l}=e,[n]=(0,E.g)(),o=(0,p.useRef)(null),r=(0,p.useRef)(null),[i,a]=(0,p.useState)(!1),[s,d]=(0,p.useState)(null),u=(0,p.useCallback)(()=>{let e=o.current,l=(0,c.dL7)(),r=(0,c.Inp)(n._window),i=document.activeElement;function a(){e&&(e.classList.remove("table-cell-action-button-container--active"),e.classList.add("table-cell-action-button-container--inactive")),d(null)}if(null==l||null==e)return a();let s=n.getRootElement(),u=null,h=null;if((0,c.OPZ)(l)&&null!==s&&null!==r&&s.contains(r.anchorNode)){let e=(0,j.Fk)(l.anchor.getNode());if(null==e||null==(h=n.getElementByKey(e.getKey()))||!e.isAttached())return a();let t=(0,j.Yp)(e),o=(0,j.tF)(t,n.getElementByKey(t.getKey()));if(null===o)throw Error("TableActionMenu: Expected to find tableElement in DOM");u=(0,j.ng)(o),d(e)}else if((0,j.zO)(l)){let e=(0,j.Fk)(l.anchor.getNode());if(!(0,j.TF)(e))throw Error("TableSelection anchorNode must be a TableCellNode");let t=(0,j.Yp)(e),o=(0,j.tF)(t,n.getElementByKey(t.getKey()));if(null===o)throw Error("TableActionMenu: Expected to find tableElement in DOM");u=(0,j.ng)(o),h=n.getElementByKey(e.getKey())}else if(!i)return a();if(null===u||null===h)return a();let p=!u||!u.isSelecting;if(e.classList.toggle("table-cell-action-button-container--active",p),e.classList.toggle("table-cell-action-button-container--inactive",!p),p){let l=h.getBoundingClientRect(),n=t.getBoundingClientRect(),o=l.top-n.top,r=l.right-n.left;e.style.transform="translate(".concat(r,"px, ").concat(o,"px)")}},[n,t]);(0,p.useEffect)(()=>{let e,t=()=>{e=void 0,n.getEditorState().read(u)},l=()=>(void 0===e&&(e=setTimeout(t,0)),!1);return(0,L.qV)(n.registerUpdateListener(l),n.registerCommand(c.ojF,l,c.jwz),n.registerRootListener((e,t)=>{t&&t.removeEventListener("pointerup",l),e&&(e.addEventListener("pointerup",l),l())}),()=>clearTimeout(e))});let f=(0,p.useRef)(s);return(0,p.useEffect)(()=>{f.current!==s&&a(!1),f.current=s},[f,s]),(0,h.jsx)("div",{className:"table-cell-action-button-container",ref:o,children:null!=s&&(0,h.jsxs)(p.Fragment,{children:[(0,h.jsx)("button",{className:"table-cell-action-button",onClick:e=>{e.stopPropagation(),a(!i)},ref:r,type:"button",children:(0,h.jsx)(nf,{})}),i&&(0,h.jsx)(ng,{cellMerge:l,contextRef:r,onClose:()=>a(!1),setIsMenuOpen:a,tableCellNode:s})]})})}function nb(e){let{editor:t}=e,l=(0,p.useRef)(null),n=(0,p.useRef)(null),o=(0,p.useRef)(null),[r,i]=(0,p.useState)(!1),a=(0,u.b)(),s=(0,p.useRef)(null),[d,f]=(0,p.useState)(null),[m,g]=(0,p.useState)(null),[v,b]=(0,p.useState)(!1),[x,C]=(0,p.useState)(null),k=(0,p.useCallback)(()=>{g(null),l.current=null,C(null),s.current=null,o.current=null},[]),w=e=>(1&e.buttons)==1;(0,p.useEffect)(()=>{let e=new Set;return(0,L.qV)(t.registerMutationListener(j.Fh,t=>{for(let[l,n]of t)"destroyed"===n?e.delete(l):e.add(l);i(e.size>0)}),t.registerNodeTransform(j.Fh,e=>{if(e.getColWidths())return e;let t=e.getColumnCount();return e.setColWidths(Array(t).fill(92)),e}))},[t]),(0,p.useEffect)(()=>{if(!r)return;let e=e=>{let r=e.target;if((0,c.Ret)(r)){if(x){f({x:e.clientX,y:e.clientY});return}if(b(w(e)),!(n.current&&n.current.contains(r))&&l.current!==r){l.current=r;let e=(0,j.Mz)(r);e&&m!==e?t.getEditorState().read(()=>{let n=(0,c.Xod)(e.elem);if(!n)throw Error("TableCellResizer: Table cell node not found.");let i=(0,j.Yp)(n),a=(0,j.tF)(i,t.getElementByKey(i.getKey()));if(!a)throw Error("TableCellResizer: Table element not found.");l.current=r,o.current=a.getBoundingClientRect(),g(e)},{editor:t}):null==e&&k()}}},i=e=>{b(!0)},a=e=>{b(!1)},s=t.registerRootListener((t,l)=>{null==l||l.removeEventListener("mousemove",e),null==l||l.removeEventListener("mousedown",i),null==l||l.removeEventListener("mouseup",a),null==t||t.addEventListener("mousemove",e),null==t||t.addEventListener("mousedown",i),null==t||t.addEventListener("mouseup",a)});return()=>{s()}},[m,x,t,r,k]);let y=e=>"bottom"===e,_=(0,p.useCallback)(e=>{if(!m)throw Error("TableCellResizer: Expected active cell.");t.update(()=>{let l=(0,c.Xod)(m.elem);if(!(0,j.TF)(l))throw Error("TableCellResizer: Table cell node not found.");let n=(0,j.Yp)(l),o=(0,j.q1)(l),r=n.getChildren(),i=l.getColSpan()===n.getColumnCount()?o:o+l.getRowSpan()-1;if(i>=r.length||i<0)throw Error("Expected table cell to be inside of table row.");let a=r[i];if(!(0,j.to)(a))throw Error("Expected table row");let s=a.getHeight();void 0===s&&(s=Math.min(...a.getChildren().map(e=>{var l;return null!==(l=E(e,t))&&void 0!==l?l:1/0})));let d=Math.max(s+e,33);a.setHeight(d)},{tag:"skip-scroll-into-view"})},[m,t]),E=(e,t)=>{var l;return null===(l=t.getElementByKey(e.getKey()))||void 0===l?void 0:l.clientHeight},T=(e,t)=>{let l;return t.forEach(t=>{t.forEach((t,n)=>{t.cell===e&&(l=n)})}),l},S=(0,p.useCallback)(e=>{if(!m)throw Error("TableCellResizer: Expected active cell.");t.update(()=>{let t=(0,c.Xod)(m.elem);if(!(0,j.TF)(t))throw Error("TableCellResizer: Table cell node not found.");let l=(0,j.Yp)(t),[n]=(0,j.CS)(l,null,null),o=T(t,n);if(void 0===o)throw Error("TableCellResizer: Table column not found.");let r=l.getColWidths();if(!r)return;let i=r[o];if(void 0===i)return;let a=[...r];a[o]=Math.max(i+e,92),l.setColWidths(a)},{tag:"skip-scroll-into-view"})},[m,t]),N=(0,p.useCallback)(e=>{let t=l=>{if(l.preventDefault(),l.stopPropagation(),!m)throw Error("TableCellResizer: Expected active cell.");if(s.current){let{x:n,y:o}=s.current;if(null===m)return;let r=(0,L.MZ)(l.target);y(e)?_((l.clientY-o)/r):S((l.clientX-n)/r),k(),document.removeEventListener("mouseup",t)}};return t},[m,k,S,_]),I=(0,p.useCallback)(e=>t=>{if(t.preventDefault(),t.stopPropagation(),!m)throw Error("TableCellResizer: Expected active cell.");s.current={x:t.clientX,y:t.clientY},f(s.current),C(e),document.addEventListener("mouseup",N(e))},[m,N]),[F,M]=(0,p.useState)({bottom:null,left:null,right:null,top:null});return(0,p.useEffect)(()=>{if(m){let{height:e,left:t,top:l,width:n}=m.elem.getBoundingClientRect(),r=(0,L.MZ)(m.elem),i={bottom:{backgroundColor:"none",cursor:"row-resize",height:"".concat(10,"px"),left:"".concat(window.scrollX+t,"px"),top:"".concat(window.scrollY+l+e-5,"px"),width:"".concat(n,"px")},right:{backgroundColor:"none",cursor:"col-resize",height:"".concat(e,"px"),left:"".concat(window.scrollX+t+n-5,"px"),top:"".concat(window.scrollY+l,"px"),width:"".concat(10,"px")}},a=o.current;x&&d&&a&&(y(x)?(i[x].left="".concat(window.scrollX+a.left,"px"),i[x].top="".concat(window.scrollY+d.y/r,"px"),i[x].height="3px",i[x].width="".concat(a.width,"px")):(i[x].top="".concat(window.scrollY+a.top,"px"),i[x].left="".concat(window.scrollX+d.x/r,"px"),i[x].width="3px",i[x].height="".concat(a.height,"px")),i[x].backgroundColor="#adf"),M(i)}else M({bottom:null,left:null,right:null,top:null})},[m,x,d]),(0,h.jsx)("div",{ref:n,children:null!=m&&!v&&(0,h.jsxs)(p.Fragment,{children:[(0,h.jsx)("div",{className:"".concat(a.editorConfig.lexical.theme.tableCellResizer," TableCellResizer__ui"),onMouseDown:I("right"),style:F.right||void 0}),(0,h.jsx)("div",{className:"".concat(a.editorConfig.lexical.theme.tableCellResizer," TableCellResizer__ui"),onMouseDown:I("bottom"),style:F.bottom||void 0})]})})}var nx=Math.max,nC=Math.min,nk=function(e,t,l){let n,o,r=0,i,a=!1,s=!1,d,u,c,h=!0;if("function"!=typeof e)throw TypeError("Expected a function");function p(t){let l=n,o=i;return n=i=void 0,r=t,u=e.apply(o,l)}function f(e){let l=e-o,n=e-r;return void 0===o||l>=t||l<0||s&&n>=d}function m(){let e,l,n,i=Date.now();if(f(i))return g(i);c=setTimeout(m,(e=i-o,l=i-r,n=t-e,s?nC(n,d-l):n))}function g(e){return c=void 0,h&&n?p(e):(n=i=void 0,u)}function v(){let e=Date.now(),l=f(e);if(n=arguments,i=this,o=e,l){if(void 0===c){var d;return r=d=o,c=setTimeout(m,t),a?p(d):u}if(s)return clearTimeout(c),c=setTimeout(m,t),p(o)}return void 0===c&&(c=setTimeout(m,t)),u}return t=t||0,"object"==typeof l&&(a=!!l.leading,d=(s="maxWait"in l)?nx(l.maxWait||0,t):d,h="trailing"in l?!!l.trailing:h),v.cancel=function(){void 0!==c&&clearTimeout(c),r=0,n=o=i=c=void 0},v.flush=function(){return void 0===c?u:g(Date.now())},v};function nw(e){var t;let l,n,o,r,i,{anchorElem:a}=e,[s]=(0,E.g)(),d=(0,u.b)(),[f,m]=(0,p.useState)(!1),[g,v]=(0,p.useState)(!1),[b,x]=(0,p.useState)(!1),[C,k]=(0,p.useState)({}),w=(0,p.useRef)(new Set),y=(0,p.useRef)(null),_=(t=e=>{var t;let{isOutside:l,tableDOMNode:n}=function(e,t){let l=e.target;if(!(0,c.Ret)(l))return{isOutside:!0,tableDOMNode:null};{let e=l.closest("td.".concat(t.theme.tableCell,", th.").concat(t.theme.tableCell));return{isOutside:!(e||l.closest("button.".concat(t.theme.tableAddRows))||l.closest("button.".concat(t.theme.tableAddColumns))||l.closest("div.".concat(t.theme.tableCellResizer))),tableDOMNode:e}}}(e,null===(t=d.editorConfig)||void 0===t?void 0:t.lexical);if(l){m(!1),v(!1);return}if(!n)return;y.current=n;let o=null,r=null,i=null;if(s.getEditorState().read(()=>{let e=(0,c.Xod)(n);if((0,j.TF)(e)){let l=(0,L.$s)(e,e=>(0,j.di)(e));if(!(0,j.di)(l))return;if(i=(0,j.tF)(l,s.getElementByKey(l.getKey()))){var t;let n=l.getChildrenSize(),i=null===(t=l.getChildAtIndex(0))||void 0===t?void 0:t.getChildrenSize(),a=(0,j.q1)(e),s=(0,j.yb)(e);a===n-1?o=e:s===i-1&&(r=e)}}},{editor:s}),!i)return;let u=i.parentElement;if(!u)return;let{bottom:h,height:p,left:f,right:g,width:b,y:x}=i.getBoundingClientRect(),C=!1;u&&u.classList.contains("LexicalEditorTheme__tableScrollableWrapper")&&(C=u.scrollWidth>u.clientWidth);let{left:w,y:_}=a.getBoundingClientRect();o?(v(!1),m(!0),k({height:20,left:C&&u?u.offsetLeft:f-w,top:h-_+5,width:C&&u?u.offsetWidth:b})):r&&(v(!0),m(!1),k({height:p,left:g-w+5,top:x-_,width:20}))},n=(0,S.c)(6),o=(0,p.useRef)(null),n[0]!==t||250!==n[1]||50!==n[2]?(r=()=>(o.current=nk(t,50,{maxWait:250}),()=>{var e;null===(e=o.current)||void 0===e||e.cancel()}),i=[t,50,250],n[0]=t,n[1]=250,n[2]=50,n[3]=r,n[4]=i):(r=n[3],i=n[4]),(0,p.useEffect)(r,i),n[5]===Symbol.for("react.memo_cache_sentinel")?(l=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];o.current&&o.current(...t)},n[5]=l):l=n[5],l),T=(0,p.useMemo)(()=>new ResizeObserver(()=>{m(!1),v(!1)}),[]);(0,p.useEffect)(()=>{if(b)return document.addEventListener("mousemove",_),()=>{m(!1),v(!1),document.removeEventListener("mousemove",_)}},[b,_]),(0,p.useEffect)(()=>(0,L.qV)(s.registerMutationListener(j.Fh,e=>{s.getEditorState().read(()=>{let t=!1;for(let[l,n]of e)switch(n){case"created":w.current.add(l),t=!0;break;case"destroyed":w.current.delete(l),t=!0}if(t){for(let e of(T.disconnect(),w.current)){let{tableElement:t}=(0,j.iT)(e);T.observe(t)}x(w.current.size>0)}},{editor:s})},{skipInitialization:!1})),[s,T]);let N=e=>{s.update(()=>{var t;y.current&&(null===(t=(0,c.Xod)(y.current))||void 0===t||t.selectEnd(),e?((0,j.EX)(),m(!1)):((0,j.rU)(),v(!1)))})};return(null==s?void 0:s.isEditable())?(0,h.jsxs)(h.Fragment,{children:[f&&(0,h.jsx)("button",{"aria-label":"Add Row",className:d.editorConfig.lexical.theme.tableAddRows,onClick:()=>N(!0),style:{...C},type:"button"}),g&&(0,h.jsx)("button",{"aria-label":"Add Column",className:d.editorConfig.lexical.theme.tableAddColumns,onClick:()=>N(!1),style:{...C},type:"button"})]}):null}var ny=(0,c.fAf)("OPEN_EMBED_DRAWER_COMMAND"),n_=(0,p.createContext)({cellEditorConfig:null,cellEditorPlugins:null,set:()=>{}}),nE=Z({markdownTransformers:[e=>{let{allTransformers:t}=e;return{type:"element",dependencies:[j.Fh,j.g0,j.Cr],export:e=>{if(!(0,j.di)(e))return null;let l=[];for(let n of e.getChildren()){let e=[];if(!(0,j.to)(n))continue;let o=!1;for(let l of n.getChildren())(0,j.TF)(l)&&(e.push((0,d.e)(t,l).replace(/\n/g,"\\n").trim()),l.__headerState===j.xo.ROW&&(o=!0));l.push("| ".concat(e.join(" | ")," |")),o&&l.push("| ".concat(e.map(e=>"---").join(" | ")," |"))}return l.join("\n")},regExp:nu,replace:(e,l,n)=>{let o,r=n[0];if(!r)return;if(nc.test(r)){let t=e.getPreviousSibling();if(!t||!(0,j.di)(t))return;let l=t.getChildren(),n=l[l.length-1];if(!n||!(0,j.to)(n))return;n.getChildren().forEach(e=>{(0,j.TF)(e)&&e.setHeaderStyles(j.xo.ROW,j.xo.ROW)}),e.remove();return}let i=np(r,t);if(null==i)return;let a=[i],s=e.getPreviousSibling(),d=i.length;for(;s&&!(!(0,c.Rlh)(s)||1!==s.getChildrenSize());){let e=s.getFirstChild();if(!(0,c.Gg4)(e))break;let l=np(e.getTextContent(),t);if(null==l)break;d=Math.max(d,l.length),a.unshift(l);let n=s.getPreviousSibling();s.remove(),s=n}let u=(0,j.gz)();for(let e of a){let l=(0,j.Xf)();u.append(l);for(let n=0;n<d;n++)l.append(n<e.length?e[n]:nh("",t))}let h=e.getPreviousSibling();(0,j.di)(h)&&(o=h.getFirstChild(),((0,j.to)(o)?o.getChildrenSize():0)===d)?(h.append(...u.getChildren()),e.remove()):e.replace(u),u.selectEnd()}}}],nodes:[j.Fh,j.Cr,j.g0],plugins:[{Component:()=>{let e,t,l,n=(0,S.c)(16),[o]=(0,E.g)(),r=(0,p.use)(n_),s=(0,x.useEditDepth)(),{fieldProps:d,uuid:f}=(0,u.b)(),{schemaPath:m}=d,g="lexical-table-create-"+f,v;n[0]!==s||n[1]!==g?(v=(0,x.formatDrawerSlug)({slug:g,depth:s}),n[0]=s,n[1]=g,n[2]=v):v=n[2];let b=v,{toggleDrawer:C}=(0,a.a)(b,!0),k;return n[3]!==o||n[4]!==C?(k=()=>{if(!o.hasNodes([j.Fh,j.g0,j.Cr]))throw Error("TablePlugin: TableNode, TableRowNode, or TableCellNode is not registered on editor");return(0,L.qV)(o.registerCommand(ny,()=>{let e=null;return o.getEditorState().read(()=>{let t=(0,c.dL7)();(0,c.OPZ)(t)&&(e=t)}),e&&C(),!0},c.VNZ))},n[3]=o,n[4]=C,n[5]=k):k=n[5],n[6]!==r||n[7]!==o||n[8]!==C?(e=[r,o,C],n[6]=r,n[7]=o,n[8]=C,n[9]=e):e=n[9],(0,p.useEffect)(k,e),n[10]!==o?(t=(e,t)=>{t.columns&&t.rows&&o.dispatchCommand(j.bF,{columns:String(t.columns),rows:String(t.rows)})},n[10]=o,n[11]=t):t=n[11],n[12]!==b||n[13]!==m||n[14]!==t?(l=(0,h.jsxs)(p.Fragment,{children:[(0,h.jsx)(i.a,{drawerSlug:b,drawerTitle:"Create Table",featureKey:"experimental_table",handleDrawerSubmit:t,schemaPath:m,schemaPathSuffix:"fields"}),(0,h.jsx)(B.l,{hasCellBackgroundColor:!1,hasCellMerge:!0,hasHorizontalScroll:!0})]}),n[12]=b,n[13]=m,n[14]=t,n[15]=l):l=n[15],l},position:"normal"},{Component:()=>{let e=(0,S.c)(3),[t]=(0,E.g)(),l=(0,P.P)(),n;return e[0]!==t||e[1]!==l?(n=l?(0,M.createPortal)((0,h.jsx)(nb,{editor:t}),document.body):null,e[0]=t,e[1]=l,e[2]=n):n=e[2],n},position:"normal"},{Component:e=>{let t=(0,S.c)(3),{anchorElem:l}=e,n=(0,P.P)(),o;return t[0]!==l||t[1]!==n?(o=(0,M.createPortal)(n?(0,h.jsx)(nv,{anchorElem:null!=l?l:document.body,cellMerge:!0}):null,null!=l?l:document.body),t[0]=l,t[1]=n,t[2]=o):o=t[2],o},position:"floatingAnchorElem"},{Component:function(e){let t,l=(0,S.c)(2),{anchorElem:n}=e,o=void 0===n?document.body:n,[r]=(0,E.g)();return(null==r?void 0:r.isEditable())?(l[0]!==o?(t=(0,M.createPortal)((0,h.jsx)(nw,{anchorElem:o}),o),l[0]=o,l[1]=t):t=l[1],t):null},position:"floatingAnchorElem"}],providers:[function(e){let{children:t}=e,[l,n]=(0,p.useState)({cellEditorConfig:null,cellEditorPlugins:null});return(0,h.jsx)(n_,{value:(0,p.useMemo)(()=>({cellEditorConfig:l.cellEditorConfig,cellEditorPlugins:l.cellEditorPlugins,set:(e,t)=>{n({cellEditorConfig:e,cellEditorPlugins:t})}}),[l.cellEditorConfig,l.cellEditorPlugins]),children:t})}],slashMenu:{groups:[V([{Icon:nd,key:"table",keywords:["table"],label:"Table",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(ny,{})}}])]},toolbarFixed:{groups:[e1([{ChildComponent:nd,key:"table",label:"Table",onSelect:e=>{let{editor:t}=e;t.dispatchCommand(ny,{})}}])]}}),nT=()=>(0,h.jsxs)("svg",{"aria-hidden":"true",className:"icon",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,h.jsx)("path",{d:"M14.6667 4H5.33333C4.59695 4 4 4.59695 4 5.33333V14.6667C4 15.403 4.59695 16 5.33333 16H14.6667C15.403 16 16 15.403 16 14.6667V5.33333C16 4.59695 15.403 4 14.6667 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M7.99984 9.33366C8.73622 9.33366 9.33317 8.73671 9.33317 8.00033C9.33317 7.26395 8.73622 6.66699 7.99984 6.66699C7.26346 6.66699 6.6665 7.26395 6.6665 8.00033C6.6665 8.73671 7.26346 9.33366 7.99984 9.33366Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,h.jsx)("path",{d:"M16 11.9995L13.9427 9.94214C13.6926 9.69218 13.3536 9.55176 13 9.55176C12.6464 9.55176 12.3074 9.69218 12.0573 9.94214L6 15.9995",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});function nS(e){return null!=e.parentElement&&"LI"===e.parentElement.tagName&&null===e.previousSibling&&"checkbox"===e.getAttribute("aria-roledescription")}function nL(e){if(e.hasAttribute("data-lexical-upload-relation-to")&&e.hasAttribute("data-lexical-upload-id")){let t=e.getAttribute("data-lexical-upload-id"),l=e.getAttribute("data-lexical-upload-relation-to");if(null!=t&&null!=l)return{node:nj({data:{fields:{},relationTo:l,value:t}})}}return e.src.startsWith("file:///")||nS(e),null}var nN=class extends b.K{static clone(e){return new this({data:e.__data,format:e.__format,key:e.__key})}static getType(){return"upload"}static importDOM(){return{img:e=>({conversion:nL,priority:0})}}static importJSON(e){var t;1===e.version&&(null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.id)&&(e.value=e.value.id),2!==e.version||(null==e?void 0:e.id)||(e.id=new v.default().toHexString(),e.version=3);let l=nj({data:{id:e.id,fields:e.fields,relationTo:e.relationTo,value:e.value}});return l.setFormat(e.format),l}static isInline(){return!1}decorate(){return(0,h.jsx)(RawUploadComponent,{data:this.__data,format:this.__format,nodeKey:this.getKey()})}exportDOM(){var e,t;let l=document.createElement("img");return l.setAttribute("data-lexical-upload-id",String(null===(e=this.__data)||void 0===e?void 0:e.value)),l.setAttribute("data-lexical-upload-relation-to",null===(t=this.__data)||void 0===t?void 0:t.relationTo),{element:l}}exportJSON(){return{...super.exportJSON(),...this.getData(),type:"upload",version:3}}getData(){return this.getLatest().__data}setData(e){this.getWritable().__data=e}updateDOM(){return!1}constructor({data:e,format:t,key:l}){super(t,l),this.__data=e}};function nj(e){let{data:t}=e;return(null==t?void 0:t.id)||(t.id=new v.default().toHexString()),(0,c.U2B)(new nN({data:t}))}var nI=p.lazy(()=>l.e(3177).then(l.bind(l,73177)).then(e=>({default:e.UploadComponent})));function nF(e){if(e.hasAttribute("data-lexical-upload-relation-to")&&e.hasAttribute("data-lexical-upload-id")){let t=e.getAttribute("data-lexical-upload-id"),l=e.getAttribute("data-lexical-upload-relation-to");if(null!=t&&null!=l)return{node:nO({data:{fields:{},relationTo:l,value:t}})}}return e.src.startsWith("file:///")||nS(e),null}var nM=class extends nN{static clone(e){return super.clone(e)}static getType(){return super.getType()}static importDOM(){return{img:e=>({conversion:nF,priority:0})}}static importJSON(e){var t;1===e.version&&(null==e?void 0:null===(t=e.value)||void 0===t?void 0:t.id)&&(e.value=e.value.id),2!==e.version||(null==e?void 0:e.id)||(e.id=new v.default().toHexString(),e.version=3);let l=nO({data:{id:e.id,fields:e.fields,relationTo:e.relationTo,value:e.value}});return l.setFormat(e.format),l}decorate(){return(0,h.jsx)(nI,{data:this.__data,nodeKey:this.getKey()})}exportJSON(){return super.exportJSON()}};function nO(e){let{data:t}=e;return(null==t?void 0:t.id)||(t.id=new v.default().toHexString()),(0,c.U2B)(new nM({data:t}))}function nA(e){return e instanceof nM}var nR=e=>{let{editor:t,relationTo:l,replaceNodeKey:n,value:o}=e;n?t.update(()=>{let e=(0,c.gID)(n);e&&e.replace(nO({data:{fields:null,relationTo:l,value:o}}))}):t.dispatchCommand(nV,{fields:null,relationTo:l,value:o})},nP=e=>{let t,l=(0,S.c)(13),{enabledCollectionSlugs:n}=e,[o]=(0,E.g)(),[r,a]=(0,p.useState)(null),s;l[0]!==n?(s={collectionSlugs:n,uploads:!0},l[0]=n,l[1]=s):s=l[1];let{closeListDrawer:d,ListDrawer:u,openListDrawer:f}=lz(s),m,g;l[2]!==o||l[3]!==f?(m=()=>o.registerCommand(i.c,e=>(a((null==e?void 0:e.replace)?null==e?void 0:e.replace.nodeKey:null),f(),!0),c.VNZ),g=[o,f],l[2]=o,l[3]=f,l[4]=m,l[5]=g):(m=l[4],g=l[5]),(0,p.useEffect)(m,g),l[6]!==d||l[7]!==o||l[8]!==r?(t=e=>{let{collectionSlug:t,doc:l}=e;d(),nR({editor:o,relationTo:t,replaceNodeKey:r,value:l.id})},l[6]=d,l[7]=o,l[8]=r,l[9]=t):t=l[9];let v=t,b;return l[10]!==u||l[11]!==v?(b=(0,h.jsx)(u,{onSelect:v}),l[10]=u,l[11]=v,l[12]=b):b=l[12],b},nB=()=>{let e=(0,S.c)(3),[t]=(0,E.g)(),l,n;return e[0]!==t?(l=()=>t.registerCommand(i.c,nD,c.VNZ),n=[t],e[0]=t,e[1]=l,e[2]=n):(l=e[1],n=e[2]),(0,p.useEffect)(l,n),null},nH=e=>(0,h.jsx)(i.b,{...e,FallbackComponent:nB,uploads:!0,children:(0,h.jsx)(nP,{...e})});function nD(){return x.toast.error("No upload collections enabled"),!0}var nV=(0,c.fAf)("INSERT_UPLOAD_COMMAND");function nz(e){let{slug:t}=e;return t}var nZ=Z({nodes:[nM],plugins:[{Component:e=>{let t,l=(0,S.c)(5),[n]=(0,E.g)(),{config:o}=(0,C.b)(),{collections:r}=o,i,a;return l[0]!==n?(i=()=>{if(!n.hasNodes([nM]))throw Error("UploadPlugin: UploadNode not registered on editor");return(0,L.qV)(n.registerCommand(nV,e=>(n.update(()=>{let t=(0,c.dL7)()||(0,c.DNT)();if((0,c.OPZ)(t)){let l=nO({data:{id:e.id,fields:e.fields,relationTo:e.relationTo,value:e.value}}),{focus:n}=t,o=n.getNode();(0,L.z8)(l),(0,c.Rlh)(o)&&!o.__first&&o.remove()}}),!0),c.VNZ))},a=[n],l[0]=n,l[1]=i,l[2]=a):(i=l[1],a=l[2]),(0,p.useEffect)(i,a),l[3]!==r?(t=(0,h.jsx)(nH,{enabledCollectionSlugs:r.map(nz)}),l[3]=r,l[4]=t):t=l[4],t},position:"normal"}],slashMenu:{groups:[V([{Icon:nT,key:"upload",keywords:["upload","image","file","img","picture","photo","media"],label:e=>{let{i18n:t}=e;return t.t("lexical:upload:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(i.c,{replace:!1})}}])]},toolbarFixed:{groups:[e1([{ChildComponent:nT,isActive:e=>{let{selection:t}=e;return!!(0,c.iOo)(t)&&!!t.getNodes().length&&nA(t.getNodes()[0])},key:"upload",label:e=>{let{i18n:t}=e;return t.t("lexical:upload:label")},onSelect:e=>{let{editor:t}=e;t.dispatchCommand(i.c,{replace:!1})}}])]}}),nK={namespace:"lexical",theme:{block:"LexicalEditorTheme__block",blockCursor:"LexicalEditorTheme__blockCursor",characterLimit:"LexicalEditorTheme__characterLimit",code:"LexicalEditorTheme__code",codeHighlight:{atrule:"LexicalEditorTheme__tokenAttr",attr:"LexicalEditorTheme__tokenAttr",boolean:"LexicalEditorTheme__tokenProperty",builtin:"LexicalEditorTheme__tokenSelector",cdata:"LexicalEditorTheme__tokenComment",char:"LexicalEditorTheme__tokenSelector",class:"LexicalEditorTheme__tokenFunction","class-name":"LexicalEditorTheme__tokenFunction",comment:"LexicalEditorTheme__tokenComment",constant:"LexicalEditorTheme__tokenProperty",deleted:"LexicalEditorTheme__tokenProperty",doctype:"LexicalEditorTheme__tokenComment",entity:"LexicalEditorTheme__tokenOperator",function:"LexicalEditorTheme__tokenFunction",important:"LexicalEditorTheme__tokenVariable",inserted:"LexicalEditorTheme__tokenSelector",keyword:"LexicalEditorTheme__tokenAttr",namespace:"LexicalEditorTheme__tokenVariable",number:"LexicalEditorTheme__tokenProperty",operator:"LexicalEditorTheme__tokenOperator",prolog:"LexicalEditorTheme__tokenComment",property:"LexicalEditorTheme__tokenProperty",punctuation:"LexicalEditorTheme__tokenPunctuation",regex:"LexicalEditorTheme__tokenVariable",selector:"LexicalEditorTheme__tokenSelector",string:"LexicalEditorTheme__tokenSelector",symbol:"LexicalEditorTheme__tokenProperty",tag:"LexicalEditorTheme__tokenProperty",url:"LexicalEditorTheme__tokenOperator",variable:"LexicalEditorTheme__tokenVariable"},embedBlock:{base:"LexicalEditorTheme__embedBlock",focus:"LexicalEditorTheme__embedBlockFocus"},hashtag:"LexicalEditorTheme__hashtag",heading:{h1:"LexicalEditorTheme__h1",h2:"LexicalEditorTheme__h2",h3:"LexicalEditorTheme__h3",h4:"LexicalEditorTheme__h4",h5:"LexicalEditorTheme__h5",h6:"LexicalEditorTheme__h6"},hr:"LexicalEditorTheme__hr",hrSelected:"LexicalEditorTheme__hrSelected",indent:"LexicalEditorTheme__indent",inlineImage:"LexicalEditor__inline-image",link:"LexicalEditorTheme__link",list:{checklist:"LexicalEditorTheme__checklist",listitem:"LexicalEditorTheme__listItem",listitemChecked:"LexicalEditorTheme__listItemChecked",listitemUnchecked:"LexicalEditorTheme__listItemUnchecked",nested:{listitem:"LexicalEditorTheme__nestedListItem"},olDepth:["LexicalEditorTheme__ol1","LexicalEditorTheme__ol2","LexicalEditorTheme__ol3","LexicalEditorTheme__ol4","LexicalEditorTheme__ol5"],ul:"LexicalEditorTheme__ul"},ltr:"LexicalEditorTheme__ltr",mark:"LexicalEditorTheme__mark",markOverlap:"LexicalEditorTheme__markOverlap",paragraph:"LexicalEditorTheme__paragraph",quote:"LexicalEditorTheme__quote",relationship:"LexicalEditorTheme__relationship",rtl:"LexicalEditorTheme__rtl",tab:"LexicalEditorTheme__tabNode",table:"LexicalEditorTheme__table",tableAddColumns:"LexicalEditorTheme__tableAddColumns",tableAddRows:"LexicalEditorTheme__tableAddRows",tableAlignment:{center:"LexicalEditorTheme__tableAlignmentCenter",right:"LexicalEditorTheme__tableAlignmentRight"},tableCell:"LexicalEditorTheme__tableCell",tableCellActionButton:"LexicalEditorTheme__tableCellActionButton",tableCellActionButtonContainer:"LexicalEditorTheme__tableCellActionButtonContainer",tableCellHeader:"LexicalEditorTheme__tableCellHeader",tableCellResizer:"LexicalEditorTheme__tableCellResizer",tableCellSelected:"LexicalEditorTheme__tableCellSelected",tableFrozenColumn:"LexicalEditorTheme__tableFrozenColumn",tableRowStriping:"LexicalEditorTheme__tableRowStriping",tableScrollableWrapper:"LexicalEditorTheme__tableScrollableWrapper",tableSelected:"LexicalEditorTheme__tableSelected",tableSelection:"LexicalEditorTheme__tableSelection",text:{bold:"LexicalEditorTheme__textBold",code:"LexicalEditorTheme__textCode",italic:"LexicalEditorTheme__textItalic",strikethrough:"LexicalEditorTheme__textStrikethrough",subscript:"LexicalEditorTheme__textSubscript",superscript:"LexicalEditorTheme__textSuperscript",underline:"LexicalEditorTheme__textUnderline",underlineStrikethrough:"LexicalEditorTheme__textUnderlineStrikethrough"},upload:"editor-upload"}},nU=e=>{let t={enabledFeatures:[],enabledFormats:[],markdownTransformers:[],nodes:[],plugins:[],providers:[],slashMenu:{dynamicGroups:[],groups:[]},toolbarFixed:{groups:[]},toolbarInline:{groups:[]}},l={};if(e.forEach(e=>{var t;"toolbarFixed"===e.key&&(null===(t=e.sanitizedClientFeatureProps)||void 0===t?void 0:t.customGroups)&&(l={...l,...e.sanitizedClientFeatureProps.customGroups})}),!(null==e?void 0:e.size))return t;for(let n of(e.forEach(e=>{var l,n,o,r,i,a,s,d,u,c,h,p,f,m,g,v;if((null===(l=e.providers)||void 0===l?void 0:l.length)&&(t.providers=t.providers.concat(e.providers)),(null===(n=e.enableFormats)||void 0===n?void 0:n.length)&&t.enabledFormats.push(...e.enableFormats),null===(o=e.nodes)||void 0===o?void 0:o.length)for(let l of e.nodes)t.nodes.push(l);if((null===(r=e.plugins)||void 0===r?void 0:r.length)&&e.plugins.forEach((l,n)=>{var o;null===(o=t.plugins)||void 0===o||o.push({clientProps:e.sanitizedClientFeatureProps,Component:l.Component,key:e.key+n,position:l.position})}),null===(a=e.toolbarInline)||void 0===a?void 0:null===(i=a.groups)||void 0===i?void 0:i.length)for(let l of e.toolbarInline.groups){let e=t.toolbarInline.groups.find(e=>e.key===l.key);e?t.toolbarInline.groups=t.toolbarInline.groups.filter(e=>e.key!==l.key):e={...l,items:[]},(null==l?void 0:null===(h=l.items)||void 0===h?void 0:h.length)&&(e.items=e.items.concat(l.items)),null===(p=t.toolbarInline)||void 0===p||p.groups.push(e)}if(null===(d=e.toolbarFixed)||void 0===d?void 0:null===(s=d.groups)||void 0===s?void 0:s.length)for(let l of e.toolbarFixed.groups){let e=t.toolbarFixed.groups.find(e=>e.key===l.key);e?t.toolbarFixed.groups=t.toolbarFixed.groups.filter(e=>e.key!==l.key):e={...l,items:[]},(null==l?void 0:null===(f=l.items)||void 0===f?void 0:f.length)&&(e.items=e.items.concat(l.items)),null===(m=t.toolbarFixed)||void 0===m||m.groups.push(e)}if(null===(u=e.slashMenu)||void 0===u?void 0:u.groups)for(let l of((null===(g=e.slashMenu.dynamicGroups)||void 0===g?void 0:g.length)&&(t.slashMenu.dynamicGroups=t.slashMenu.dynamicGroups.concat(e.slashMenu.dynamicGroups)),e.slashMenu.groups)){let e=t.slashMenu.groups.find(e=>e.key===l.key);e?t.slashMenu.groups=t.slashMenu.groups.filter(e=>e.key!==l.key):e={...l,items:[]},(null==l?void 0:null===(v=l.items)||void 0===v?void 0:v.length)&&(e.items=e.items.concat(l.items)),t.slashMenu.groups.push(e)}if(null===(c=e.markdownTransformers)||void 0===c?void 0:c.length)for(let l of e.markdownTransformers)"function"==typeof l?t.markdownTransformers.push(l({allNodes:t.nodes,allTransformers:t.markdownTransformers})):t.markdownTransformers.push(l);t.enabledFeatures.push(e.key)}),Object.keys(l).length>0&&(t.toolbarFixed.groups=t.toolbarFixed.groups.map(e=>{let t=l[e.key];return t?H(e,t):e})),t.toolbarInline.groups.sort((e,t)=>e.order&&t.order?e.order-t.order:e.order?-1:t.order?1:0),t.toolbarFixed.groups.sort((e,t)=>e.order&&t.order?e.order-t.order:e.order?-1:t.order?1:0),t.toolbarInline.groups))n.items.sort((e,t)=>e.order&&t.order?e.order-t.order:e.order?-1:t.order?1:0);for(let e of t.toolbarFixed.groups)e.items.sort((e,t)=>e.order&&t.order?e.order-t.order:e.order?-1:t.order?1:0);return t};function nG(e,t,l){return{admin:l,features:nU(e),lexical:t,resolvedFeatureMap:e}}var nW=(0,p.lazy)(()=>Promise.all([l.e(9755),l.e(6278)]).then(l.bind(l,6278)).then(e=>({default:e.RichText}))),nJ=e=>{let t,l=(0,S.c)(16),{admin:n,clientFeatures:o,featureClientImportMap:r,featureClientSchemaMap:i,field:a,lexicalEditorConfig:s,schemaPath:d}=e,u;l[0]!==n?(u=void 0===n?{}:n,l[0]=n,l[1]=u):u=l[1];let c=u,f=void 0===s?nK:s,{config:m}=(0,C.b)(),[g,v]=(0,p.useState)(null),b,x;return l[2]!==c||l[3]!==o||l[4]!==m||l[5]!==r||l[6]!==i||l[7]!==a||l[8]!==g||l[9]!==f||l[10]!==d?(b=()=>{if(g)return;let e=[];for(let[t,l]of Object.entries(o))l.clientFeatureProvider&&e.push(l.clientFeatureProvider(l.clientFeatureProps));let t=f||nK;v(nG(function(e){var t,l,n;let{config:o,featureClientImportMap:r,featureClientSchemaMap:i,field:a,schemaPath:s,unSanitizedEditorConfig:d}=e;for(let e of d.features)if(!(null==e?void 0:null===(t=e.clientFeatureProps)||void 0===t?void 0:t.featureKey)||(null==e?void 0:null===(l=e.clientFeatureProps)||void 0===l?void 0:l.order)===void 0||(null==e?void 0:null===(n=e.clientFeatureProps)||void 0===n?void 0:n.order)===null)throw Error("A Feature you have installed does not return the client props as clientFeatureProps. Please make sure to always return those props, even if they are null, as other important props like order and featureKey are later on injected.");d.features=d.features.sort((e,t)=>e.clientFeatureProps.order-t.clientFeatureProps.order);let u=new Map;for(let e of d.features)u.set(e.clientFeatureProps.featureKey,e);let c=new Map,h=0;for(let e of d.features){let t="function"==typeof e.feature?e.feature({config:o,featureClientImportMap:r,featureClientSchemaMap:i,featureProviderMap:u,field:a,resolvedFeatures:c,schemaPath:s,unSanitizedEditorConfig:d}):e.feature;t.key=e.clientFeatureProps.featureKey,t.order=h,c.set(e.clientFeatureProps.featureKey,t),h++}return c}({config:m,featureClientImportMap:r,featureClientSchemaMap:i,field:a,schemaPath:null!=d?d:a.name,unSanitizedEditorConfig:{features:e,lexical:t}}),t,c))},x=[f,c,g,o,r,i,a,m,d],l[2]=c,l[3]=o,l[4]=m,l[5]=r,l[6]=i,l[7]=a,l[8]=g,l[9]=f,l[10]=d,l[11]=b,l[12]=x):(b=l[11],x=l[12]),(0,p.useEffect)(b,x),l[13]!==g||l[14]!==e?(t=(0,h.jsx)(p.Suspense,{fallback:(0,h.jsx)(C.d,{height:"35vh"}),children:g&&(0,h.jsx)(nW,{...e,editorConfig:g})}),l[13]=g,l[14]=e,l[15]=t):t=l[15],t};function nX(e){return e instanceof HTMLElement}function nY(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return t.filter(Boolean).join(" ")}var nq=new WeakMap;function n$(e){let t=e.changedTouches[0];return void 0===t?null:[t.clientX,t.clientY]}function nQ(e,t){let l=nq.get(e);if(void 0===l){let t=new Set,n=e=>{void 0!==l&&(l.start=n$(e))},o=e=>{if(void 0===l)return;let{start:n}=l;if(null===n)return;let o=n$(e);for(let l of t)null!==o&&l([o[0]-n[0],o[1]-n[1]],e)};e.addEventListener("touchstart",n),e.addEventListener("touchend",o),l={handleTouchend:o,handleTouchstart:n,listeners:t,start:null},nq.set(e,l)}return l.listeners.add(t),()=>{(function(e,t){let l=nq.get(e);if(void 0===l)return;let{listeners:n}=l;n.delete(t),0===n.size&&(nq.delete(e),e.removeEventListener("touchstart",l.handleTouchstart),e.removeEventListener("touchend",l.handleTouchend))})(e,t)}}function n0(e,t){return nQ(e,(e,l)=>{let[n,o]=e;n<0&&-n>Math.abs(o)&&t(n,l)})}function n1(e,t){return nQ(e,(e,l)=>{let[n,o]=e;n>0&&n>Math.abs(o)&&t(n,l)})}function n2(e,t){return nQ(e,(e,l)=>{let[n,o]=e;o<0&&-o>Math.abs(n)&&t(n,l)})}function n5(e,t){return nQ(e,(e,l)=>{let[n,o]=e;o>0&&o>Math.abs(n)&&t(n,l)})}var n6=()=>{let e=(0,S.c)(2),{EditButton:t}=(0,o.a)(),l;return e[0]!==t?(l=t?(0,h.jsx)(t,{}):null,e[0]=t,e[1]=l):l=e[1],l},n3=()=>{let e=(0,S.c)(2),{RemoveButton:t}=(0,o.a)(),l;return e[0]!==t?(l=t?(0,h.jsx)(t,{}):null,e[0]=t,e[1]=l):l=e[1],l},n4=()=>{let e=(0,S.c)(2),{Label:t}=(0,o.a)(),l;return e[0]!==t?(l=t?(0,h.jsx)(t,{}):null,e[0]=t,e[1]=l):l=e[1],l},n7=e=>{let t=(0,S.c)(3),{children:l}=e,{InlineBlockContainer:n}=(0,o.a)(),r;return t[0]!==n||t[1]!==l?(r=n?(0,h.jsx)(n,{children:l}):null,t[0]=n,t[1]=l,t[2]=r):r=t[2],r},n8=e=>{let t=(0,S.c)(6),{children:l,editButton:n,Label:o,removeButton:r}=e,{BlockCollapsible:i}=en(),a;return t[0]!==i||t[1]!==o||t[2]!==l||t[3]!==n||t[4]!==r?(a=i?(0,h.jsx)(i,{editButton:n,Label:o,removeButton:r,children:l}):null,t[0]=i,t[1]=o,t[2]=l,t[3]=n,t[4]=r,t[5]=a):a=t[5],a},n9=()=>{let e=(0,S.c)(2),{EditButton:t}=en(),l;return e[0]!==t?(l=t?(0,h.jsx)(t,{}):null,e[0]=t,e[1]=l):l=e[1],l},oe=()=>{let e=(0,S.c)(2),{RemoveButton:t}=en(),l;return e[0]!==t?(l=t?(0,h.jsx)(t,{}):null,e[0]=t,e[1]=l):l=e[1],l},ot=e=>{let{apiURL:t,depth:l,draft:n,locale:o}=e;return async e=>{let{id:r,collectionSlug:i,select:a}=e,s=(0,D.P)({depth:null!=l?l:0,draft:null!=n&&n,locale:o,select:a},{addQueryPrefix:!0});return await fetch("".concat(t,"/").concat(i,"/").concat(r).concat(s),{credentials:"include",headers:{Accept:"application/json","Content-Type":"application/json"},method:"GET"}).then(e=>e.json())}}}}]);