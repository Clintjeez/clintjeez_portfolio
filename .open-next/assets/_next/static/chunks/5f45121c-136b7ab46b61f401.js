"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1384],{23521:function(e,t,n){let a,l,o,r;n.r(t),n.d(t,{Account:function(){return hX},ActionsProvider:function(){return hJ},AnimateHeight:function(){return oo},AppHeader:function(){return mp},ArrayField:function(){return f5},AuthProvider:function(){return aE},Banner:function(){return tr},BlocksDrawer:function(){return oT},BlocksField:function(){return oM},BrowseByFolderButton:function(){return gw},BulkUploadDrawer:function(){return fA},BulkUploadProvider:function(){return fB},Button:function(){return tO},CalendarIcon:function(){return d.m},Card:function(){return mh},CheckIcon:function(){return l2},CheckboxField:function(){return l7},CheckboxInput:function(){return l4},ChevronIcon:function(){return ti},ClientFunctionProvider:function(){return g8},CloseMenuIcon:function(){return h0},CodeBlockIcon:function(){return g$},CodeEdiftor:function(){return u.i},CodeEditorLazy:function(){return oz},CodeField:function(){return oV},Collapsible:function(){return ou},CollapsibleField:function(){return oK},ConfigProvider:function(){return u.a},ConfirmPasswordField:function(){return f8},ConfirmationModal:function(){return aw},CopyIcon:function(){return tB},CopyLocaleData:function(){return mg},CopyToClipboard:function(){return fr},DateCell:function(){return ua},DateCondition:function(){return vy},DatePicker:function(){return d.n},DateTimeField:function(){return cl},DefaultBlockImage:function(){return o_},DefaultBrowseByFolderView:function(){return b5},DefaultCell:function(){return uh},DefaultCollectionFolderView:function(){return bZ},DefaultEditView:function(){return xS},DefaultListView:function(){return bT},DeleteMany:function(){return mN},DocumentControls:function(){return m3},DocumentEventsProvider:function(){return pd},DocumentFields:function(){return ph},DocumentIcon:function(){return gj},DocumentInfoProvider:function(){return lq},DocumentLocked:function(){return hq},DocumentTakeOver:function(){return hB},DragHandleIcon:function(){return oa},Drawer:function(){return av},DrawerContentContainer:function(){return pN},DrawerToggler:function(){return am},Dropzone:function(){return dG},EditDepthProvider:function(){return nu},EditIcon:function(){return ts},EditMany:function(){return vu},EditUpload:function(){return fn},EmailAndUsernameFields:function(){return bS},EmailField:function(){return co},EntityVisibilityProvider:function(){return bs},ErrorIcon:function(){return g1},ErrorPill:function(){return no},ExternalLinkIcon:function(){return mU},FieldDescription:function(){return ni},FieldDiffContainer:function(){return xN},FieldDiffLabel:function(){return x_},FieldError:function(){return ns},FieldLabel:function(){return aV},File:function(){return ul},FileDetails:function(){return fd},FolderFileTable:function(){return gU},FolderIcon:function(){return pm},FolderProvider:function(){return px},Form:function(){return dN},FormLoadingOverlayToggle:function(){return cK},FormSubmit:function(){return pS},FullscreenModal:function(){return vp},GenerateConfirmation:function(){return vf},GridViewIcon:function(){return gJ},GroupField:function(){return cv},Gutter:function(){return ad},Hamburger:function(){return h2},HiddenField:function(){return cg},HydrateAuthProvider:function(){return vm},InfoIcon:function(){return g3},ItemCardGrid:function(){return gD},JSONField:function(){return uT},JoinField:function(){return uP},LeaveWithoutSaving:function(){return hI},LineIcon:function(){return l6},Link:function(){return tl},LinkIcon:function(){return tc},ListControls:function(){return v5},ListDrawerContextProvider:function(){return cy},ListHeader:function(){return gf},ListQueryProvider:function(){return ck},ListSelection:function(){return gn},ListViewIcon:function(){return g0},LivePreviewProvider:function(){return bl},LoadingOverlay:function(){return cq},LoadingOverlayToggle:function(){return cW},LocaleProvider:function(){return aA},Locked:function(){return mz},LogOutIcon:function(){return gh},Logout:function(){return gm},MenuIcon:function(){return h1},MinimizeMaximizeIcon:function(){return gQ},Modal:function(){return nY},MoreIcon:function(){return tM},MoveDocToFolder:function(){return pQ},MoveDocToFolderButton:function(){return pJ},MoveFolderIcon:function(){return gZ},NavGroup:function(){return gg},NavToggler:function(){return ma},NullifyLocaleField:function(){return l9},NumberCondition:function(){return vw},NumberField:function(){return uR},OperationProvider:function(){return lK},OrderableTable:function(){return hS},Pagination:function(){return uS},ParamsProvider:function(){return bd},PasswordField:function(){return he},PayloadIcon:function(){return ml},PerPage:function(){return gy},Pill:function(){return om},PillSelector:function(){return cL},PlusIcon:function(){return tu},PointField:function(){return uL},Popup:function(){return tD},PopupList:function(){return tp},PreferencesProvider:function(){return aR},PreviewButton:function(){return mH},PreviewSizes:function(){return fm},ProgressBar:function(){return br},PublishButton:function(){return mX},PublishMany:function(){return v8},QueryPresetsAccessCell:function(){return hE},QueryPresetsColumnField:function(){return hD},QueryPresetsColumnsCell:function(){return h_},QueryPresetsWhereCell:function(){return hN},QueryPresetsWhereField:function(){return hR},RadioGroupField:function(){return uM},ReactSelect:function(){return ce},RelationshipCondition:function(){return vN},RelationshipField:function(){return dl},RelationshipInput:function(){return da},RelationshipProvider:function(){return c4},RelationshipTable:function(){return uN},RenderCustomComponent:function(){return ef},RenderDefaultCell:function(){return ub},RenderFields:function(){return f1},RenderTitle:function(){return gK},RichTextField:function(){return dr},RootProvider:function(){return bC},RouteCacheProvider:function(){return pj},RouteTransitionProvider:function(){return e7},RowField:function(){return di},RowLabel:function(){return eH},RowLabelProvider:function(){return eU},SaveButton:function(){return mQ},SaveDraftButton:function(){return mZ},ScrollInfoProvider:function(){return bv},SearchFilter:function(){return vx},SearchIcon:function(){return ok},SearchParamsProvider:function(){return by},SectionTitle:function(){return oL},Select:function(){return ce},SelectAll:function(){return bk},SelectCondition:function(){return vE},SelectField:function(){return du},SelectInput:function(){return ds},SelectMany:function(){return bD},SelectRow:function(){return bE},SelectionProvider:function(){return mw},ServerFunctionsProvider:function(){return cD},SetDocumentStepNav:function(){return xw},SetDocumentTitle:function(){return xj},SetStepNav:function(){return ms},ShimmerEffect:function(){return u.d},SortColumn:function(){return gG},SortHeader:function(){return hb},SortRow:function(){return hy},StaggeredShimmers:function(){return u.e},SuccessIcon:function(){return g2},SwapIcon:function(){return td},TabComponent:function(){return dD},Table:function(){return mW},TableColumnsProvider:function(){return cR},TabsField:function(){return dR},TabsProvider:function(){return cu},TextCondition:function(){return vP},TextField:function(){return dz},TextInput:function(){return dA},TextareaField:function(){return dV},TextareaInput:function(){return dU},ThemeProvider:function(){return u.g},Thumbnail:function(){return ur},TimezonePicker:function(){return cn},Tooltip:function(){return tP},Translation:function(){return pO},TranslationProvider:function(){return d.c},UIField:function(){return dH},UnpublishMany:function(){return ge},Upload:function(){return fw},UploadEditsProvider:function(){return lI},UploadField:function(){return fZ},UploadHandlersProvider:function(){return dv},UploadInput:function(){return fQ},ViewDescription:function(){return hW},WarningIcon:function(){return g6},WatchChildErrors:function(){return oq},WatchCondition:function(){return lZ},WindowInfoProvider:function(){return bg},XIcon:function(){return d.a},allFieldComponents:function(){return hn},defaultTheme:function(){return u.f},documentDrawerBaseClass:function(){return cJ},fieldBaseClass:function(){return l1},fieldComponents:function(){return ht},fieldReducer:function(){return d_},formatDrawerSlug:function(){return ah},formatTimeToNow:function(){return lN},getHTMLDiffComponents:function(){return ve},parseSearchParams:function(){return cj},toast:function(){return e3},useActions:function(){return hZ},useAddClientFunction:function(){return g7},useAllFormFields:function(){return eB},useAuth:function(){return aD},useBulkUpload:function(){return fz},useBulkUploadDrawerSlug:function(){return fU},useCellProps:function(){return ug},useClickOutside:function(){return vl},useClickOutsideContext:function(){return va},useClientFunctions:function(){return g9},useCollapsible:function(){return os},useConfig:function(){return u.b},useDebounce:function(){return aS},useDebouncedCallback:function(){return uG},useDebouncedEffect:function(){return dh},useDelay:function(){return u.c},useDelayedRender:function(){return cA},useDocumentDrawer:function(){return c2},useDocumentDrawerContext:function(){return cQ},useDocumentEvents:function(){return pp},useDocumentForm:function(){return eT},useDocumentInfo:function(){return lV},useDocumentTitle:function(){return lO},useDrawerSlug:function(){return ap},useEditDepth:function(){return nd},useEffectEvent:function(){return a_},useEntityVisibility:function(){return bc},useField:function(){return lX},useFolder:function(){return py},useForm:function(){return eP},useFormBackgroundProcessing:function(){return eF},useFormFields:function(){return eM},useFormInitializing:function(){return eA},useFormModified:function(){return eI},useFormProcessing:function(){return eL},useFormSubmitted:function(){return eO},useHotkey:function(){return hs},useIntersect:function(){return t_},useListDrawer:function(){return uK},useListDrawerContext:function(){return cw},useListQuery:function(){return cS},useListRelationships:function(){return c8},useLocale:function(){return aB},useModal:function(){return nT},useNav:function(){return h9},useOperation:function(){return lY},useParams:function(){return bp},usePayloadAPI:function(){return hp},usePreferences:function(){return aO},useResize:function(){return hf},useRouteCache:function(){return pC},useRouteTransition:function(){return te},useRowLabel:function(){return eV},useScrollInfo:function(){return bh},useSearchParams:function(){return bw},useSelection:function(){return mj},useServerFunctions:function(){return cE},useStepNav:function(){return mo},useTableColumns:function(){return cT},useTheme:function(){return u.h},useThrottledEffect:function(){return aW},useTranslation:function(){return d.d},useUploadControls:function(){return dK},useUploadEdits:function(){return lA},useUploadHandlers:function(){return dg},useUseTitleField:function(){return hh},useWatchForm:function(){return eR},useWindowInfo:function(){return bb},withCondition:function(){return lJ}});var i,s=n(2265),c=n(54887),u=n(64667),d=n(76578),p=n(43466),f=n(57437),h=n(60605),m=n(46778),v=n(87138),g=n(16463),b=n(73528),x=n(48479),y=n(34964),w=n(32723),j=n(83597),C=n(19464),S=n(72845),_=n(63643),k=n(74932),N=n(15590),E=n(89133),D=n(4810),P=n(30778),T=n(90183),R=n(10157),O=n(60741),L=n(10534),F=n(89058),I=n(97308),A=n(16786),M=n(75316),B=n(7436),z=n(98756),U=n(67140),V=n(63408),H=n(75526);n(19837);var q=n(7290),W=n(8707),K=n(51926),Y=n(91721),G=n(47541),$=n(92214),X=n(36483),Q=n(81787),Z=n(57275),J=n(94536),ee=n(20357),et=n(9109).lW,en=(0,p.c)(e=>{function t(e,t){var n=e.length;for(e.push(t);0<n;){var a=n-1>>>1,o=e[a];if(0<l(o,t))e[a]=t,e[n]=o,n=a;else break}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var a=0,o=e.length,r=o>>>1;a<r;){var i=2*(a+1)-1,s=e[i],c=i+1,u=e[c];if(0>l(s,n))c<o&&0>l(u,s)?(e[a]=u,e[c]=n,a=c):(e[a]=s,e[i]=n,a=i);else if(c<o&&0>l(u,n))e[a]=u,e[c]=n,a=c;else break}}return t}function l(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now?(s=performance,e.unstable_now=function(){return s.now()}):(u=(c=Date).now(),e.unstable_now=function(){return c.now()-u});var o,r,i,s,c,u,d=[],p=[],f=1,h=null,m=3,v=!1,g=!1,b=!1,x="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,w="u">typeof setImmediate?setImmediate:null;function j(e){for(var l=n(p);null!==l;){if(null===l.callback)a(p);else if(l.startTime<=e)a(p),l.sortIndex=l.expirationTime,t(d,l);else break;l=n(p)}}function C(e){if(b=!1,j(e),!g){if(null!==n(d))g=!0,P();else{var t=n(p);null!==t&&T(C,t.startTime-e)}}}var S=!1,_=-1,k=5,N=-1;function E(){return!(e.unstable_now()-N<k)}function D(){if(S){var t=e.unstable_now();N=t;var l=!0;try{e:{g=!1,b&&(b=!1,y(_),_=-1),v=!0;var r=m;try{t:{for(j(t),h=n(d);null!==h&&!(h.expirationTime>t&&E());){var i=h.callback;if("function"==typeof i){h.callback=null,m=h.priorityLevel;var s=i(h.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof s){h.callback=s,j(t),l=!0;break t}h===n(d)&&a(d),j(t)}else a(d);h=n(d)}if(null!==h)l=!0;else{var c=n(p);null!==c&&T(C,c.startTime-t),l=!1}}break e}finally{h=null,m=r,v=!1}l=void 0}}finally{l?o():S=!1}}}function P(){S||(S=!0,o())}function T(t,n){_=x(function(){t(e.unstable_now())},n)}"function"==typeof w?o=function(){w(D)}:"u">typeof MessageChannel?(i=(r=new MessageChannel).port2,r.port1.onmessage=D,o=function(){i.postMessage(null)}):o=function(){x(D,0)},e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){g||v||(g=!0,P())},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},e.unstable_scheduleCallback=function(a,l,o){var r=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?r+o:r,a){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return i=o+i,a={id:f++,callback:l,priorityLevel:a,startTime:o,expirationTime:i,sortIndex:-1},o>r?(a.sortIndex=o,t(p,a),null===n(d)&&a===n(p)&&(b?(y(_),_=-1):b=!0,T(C,o-r))):(a.sortIndex=i,t(d,a),g||v||(g=!0,P())),a},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}}),ea=(0,p.c)((e,t)=>{t.exports=en()}),el=(0,p.c)(e=>{var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,a=t?Symbol.for("react.portal"):60106,l=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,r=t?Symbol.for("react.profiler"):60114,i=t?Symbol.for("react.provider"):60109,s=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,d=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,f=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,m=t?Symbol.for("react.lazy"):60116,v=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,b=t?Symbol.for("react.responder"):60118,x=t?Symbol.for("react.scope"):60119;function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case u:case l:case r:case o:case p:return e;default:switch(e=e&&e.$$typeof){case s:case d:case m:case h:case i:return e;default:return t}}case a:return t}}}function w(e){return y(e)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=s,e.ContextProvider=i,e.Element=n,e.ForwardRef=d,e.Fragment=l,e.Lazy=m,e.Memo=h,e.Portal=a,e.Profiler=r,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(e){return w(e)||y(e)===c},e.isConcurrentMode=w,e.isContextConsumer=function(e){return y(e)===s},e.isContextProvider=function(e){return y(e)===i},e.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},e.isForwardRef=function(e){return y(e)===d},e.isFragment=function(e){return y(e)===l},e.isLazy=function(e){return y(e)===m},e.isMemo=function(e){return y(e)===h},e.isPortal=function(e){return y(e)===a},e.isProfiler=function(e){return y(e)===r},e.isStrictMode=function(e){return y(e)===o},e.isSuspense=function(e){return y(e)===p},e.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===l||e===u||e===r||e===o||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===i||e.$$typeof===s||e.$$typeof===d||e.$$typeof===g||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},e.typeOf=y}),eo=(0,p.c)((e,t)=>{t.exports=el()}),er=(0,p.c)((e,t)=>{var n=eo(),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},l={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r={};function i(e){return n.isMemo(e)?o:r[e.$$typeof]||a}r[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},r[n.Memo]=o;var s=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function e(t,n,a){if("string"!=typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,a)}var r=c(n);u&&(r=r.concat(u(n)));for(var h=i(t),m=i(n),v=0;v<r.length;++v){var g=r[v];if(!l[g]&&!(a&&a[g])&&!(m&&m[g])&&!(h&&h[g])){var b=d(n,g);try{s(t,g,b)}catch(e){}}}}return t}}),ei=(0,p.c)((e,t)=>{var n=Math.floor(16777215*Math.random()),a=d.index=parseInt(16777215*Math.random(),10),l=(typeof ee>"u"||"number"!=typeof ee.pid?Math.floor(1e5*Math.random()):ee.pid)%65535,o=(()=>{try{return _Buffer}catch(e){try{return et}catch(e){return null}}})(),r=function(e){return!!(null!=e&&e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e))},i=[];for(s=0;s<256;s++)i[s]=(s<=15?"0":"")+s.toString(16);var s,c=RegExp("^[0-9a-fA-F]{24}$"),u=[];for(s=0;s<10;)u[48+s]=s++;for(;s<16;)u[55+s]=u[87+s]=s++;function d(e){if(!(this instanceof d))return new d(e);if(e&&(e instanceof d||"ObjectID"===e._bsontype))return e;if(this._bsontype="ObjectID",null==e||"number"==typeof e){this.id=this.generate(e);return}var t=d.isValid(e);if(!t&&null!=e)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(t&&"string"==typeof e&&24===e.length)return d.createFromHexString(e);if(null!=e&&12===e.length)this.id=e;else{if(null!=e&&"function"==typeof e.toHexString)return e;throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}}t.exports=d,d.default=d,d.createFromTime=function(e){var t;return new d((8===(t=(t=e=parseInt(e,10)%4294967295).toString(16)).length?t:"00000000".substring(t.length,8)+t)+"0000000000000000")},d.createFromHexString=function(e){if(typeof e>"u"||null!=e&&24!==e.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");for(var t="",n=0;n<24;)t+=String.fromCharCode(u[e.charCodeAt(n++)]<<4|u[e.charCodeAt(n++)]);return new d(t)},d.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&c.test(e):e instanceof d||(r(e)?d.isValid(e.toString("hex")):"function"==typeof e.toHexString&&!!o&&(e.id instanceof o||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&c.test(e.id)))))},d.prototype={constructor:d,toHexString:function(){if(!this.id||!this.id.length)throw Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(24===this.id.length)return this.id;if(r(this.id))return this.id.toString("hex");for(var e="",t=0;t<this.id.length;t++)e+=i[this.id.charCodeAt(t)];return e},equals:function(e){return e instanceof d?this.toString()===e.toString():"string"==typeof e&&d.isValid(e)&&12===e.length&&r(this.id)?e===this.id.toString("binary"):"string"==typeof e&&d.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&d.isValid(e)&&12===e.length?e===this.id:null!=e&&(e instanceof d||!!e.toHexString)&&e.toHexString()===this.toHexString()},getTimestamp:function(){var e,t=new Date;return e=r(this.id)?this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24:this.id.charCodeAt(3)|this.id.charCodeAt(2)<<8|this.id.charCodeAt(1)<<16|this.id.charCodeAt(0)<<24,t.setTime(1e3*Math.floor(e)),t},generate:function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3)),e=parseInt(e,10)%4294967295;var t=a=(a+1)%16777215;return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e,n>>16&255,n>>8&255,255&n,l>>8&255,255&l,t>>16&255,t>>8&255,255&t)}};var p=Symbol&&Symbol.for&&Symbol.for("nodejs.util.inspect.custom")||"inspect";d.prototype[p]=function(){return"ObjectID("+this+")"},d.prototype.toJSON=d.prototype.toHexString,d.prototype.toString=d.prototype.toHexString}),es=(0,p.c)((e,t)=>{function n(e){return void 0===e}function a(e){return e===Object(e)}function l(e){return Array.isArray(e)}function o(e,t){return t?a(e)&&!n(e.uri):a(e)&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.slice}function r(e){return!n(e)&&e}t.exports={serialize:function e(t,i,s,c){i=i||{},s=s||new FormData,i.indices=r(i.indices),i.nullsAsUndefineds=r(i.nullsAsUndefineds),i.booleansAsIntegers=r(i.booleansAsIntegers),i.allowEmptyArrays=r(i.allowEmptyArrays),i.noAttributesWithArrayNotation=r(i.noAttributesWithArrayNotation),i.noFilesWithArrayNotation=r(i.noFilesWithArrayNotation),i.dotsForObjectNotation=r(i.dotsForObjectNotation);let u="function"==typeof s.getParts;return n(t)||(null===t?i.nullsAsUndefineds||s.append(c,""):"boolean"==typeof t?i.booleansAsIntegers?s.append(c,t?1:0):s.append(c,t):l(t)?t.length?t.forEach((t,n)=>{var l;let r=c+"["+(i.indices?n:"")+"]";(i.noAttributesWithArrayNotation||i.noFilesWithArrayNotation&&o(l=t,u)&&"string"==typeof l.name&&(a(l.lastModifiedDate)||"number"==typeof l.lastModified))&&(r=c),e(t,i,s,r)}):i.allowEmptyArrays&&s.append(i.noAttributesWithArrayNotation?c:c+"[]",""):t instanceof Date?s.append(c,t.toISOString()):a(t)&&!o(t,u)?Object.keys(t).forEach(n=>{let a=t[n];if(l(a))for(;n.length>2&&n.lastIndexOf("[]")===n.length-2;)n=n.substring(0,n.length-2);let o=c?i.dotsForObjectNotation?c+"."+n:c+"["+n+"]":n;e(a,i,s,o)}):s.append(c,t)),s}}}),ec=(0,p.c)((e,t)=>{var n,a;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&a.rotl(e,8)|4278255360&a.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=a.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,a=0;n<e.length;n++,a+=8)t[a>>>5]|=e[n]<<24-a%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var t=[],a=0;a<e.length;a+=3)for(var l=e[a]<<16|e[a+1]<<8|e[a+2],o=0;o<4;o++)8*a+6*o<=8*e.length?t.push(n.charAt(l>>>6*(3-o)&63)):t.push("=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/ig,"");for(var t=[],a=0,l=0;a<e.length;l=++a%4)0!=l&&t.push((n.indexOf(e.charAt(a-1))&Math.pow(2,-2*l+8)-1)<<2*l|n.indexOf(e.charAt(a))>>>6-2*l);return t}},t.exports=a}),eu=(0,p.c)((e,t)=>{var n={utf8:{stringToBytes:function(e){return n.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(n.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};t.exports=n}),ed=(0,p.c)((e,t)=>{function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(n(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!e._isBuffer)}}),ep=(0,p.c)((e,t)=>{var n,a,l,o,r;n=ec(),a=eu().utf8,l=ed(),o=eu().bin,(r=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?o.stringToBytes(e):a.stringToBytes(e):l(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var i=n.bytesToWords(e),s=8*e.length,c=1732584193,u=-271733879,d=-1732584194,p=271733878,f=0;f<i.length;f++)i[f]=(i[f]<<8|i[f]>>>24)&16711935|(i[f]<<24|i[f]>>>8)&4278255360;i[s>>>5]|=128<<s%32,i[(s+64>>>9<<4)+14]=s;for(var h=r._ff,m=r._gg,v=r._hh,g=r._ii,f=0;f<i.length;f+=16){var b=c,x=u,y=d,w=p;c=h(c,u,d,p,i[f+0],7,-680876936),p=h(p,c,u,d,i[f+1],12,-389564586),d=h(d,p,c,u,i[f+2],17,606105819),u=h(u,d,p,c,i[f+3],22,-1044525330),c=h(c,u,d,p,i[f+4],7,-176418897),p=h(p,c,u,d,i[f+5],12,1200080426),d=h(d,p,c,u,i[f+6],17,-1473231341),u=h(u,d,p,c,i[f+7],22,-45705983),c=h(c,u,d,p,i[f+8],7,1770035416),p=h(p,c,u,d,i[f+9],12,-1958414417),d=h(d,p,c,u,i[f+10],17,-42063),u=h(u,d,p,c,i[f+11],22,-1990404162),c=h(c,u,d,p,i[f+12],7,1804603682),p=h(p,c,u,d,i[f+13],12,-40341101),d=h(d,p,c,u,i[f+14],17,-1502002290),u=h(u,d,p,c,i[f+15],22,1236535329),c=m(c,u,d,p,i[f+1],5,-165796510),p=m(p,c,u,d,i[f+6],9,-1069501632),d=m(d,p,c,u,i[f+11],14,643717713),u=m(u,d,p,c,i[f+0],20,-373897302),c=m(c,u,d,p,i[f+5],5,-701558691),p=m(p,c,u,d,i[f+10],9,38016083),d=m(d,p,c,u,i[f+15],14,-660478335),u=m(u,d,p,c,i[f+4],20,-405537848),c=m(c,u,d,p,i[f+9],5,568446438),p=m(p,c,u,d,i[f+14],9,-1019803690),d=m(d,p,c,u,i[f+3],14,-187363961),u=m(u,d,p,c,i[f+8],20,1163531501),c=m(c,u,d,p,i[f+13],5,-1444681467),p=m(p,c,u,d,i[f+2],9,-51403784),d=m(d,p,c,u,i[f+7],14,1735328473),u=m(u,d,p,c,i[f+12],20,-1926607734),c=v(c,u,d,p,i[f+5],4,-378558),p=v(p,c,u,d,i[f+8],11,-2022574463),d=v(d,p,c,u,i[f+11],16,1839030562),u=v(u,d,p,c,i[f+14],23,-35309556),c=v(c,u,d,p,i[f+1],4,-1530992060),p=v(p,c,u,d,i[f+4],11,1272893353),d=v(d,p,c,u,i[f+7],16,-155497632),u=v(u,d,p,c,i[f+10],23,-1094730640),c=v(c,u,d,p,i[f+13],4,681279174),p=v(p,c,u,d,i[f+0],11,-358537222),d=v(d,p,c,u,i[f+3],16,-722521979),u=v(u,d,p,c,i[f+6],23,76029189),c=v(c,u,d,p,i[f+9],4,-640364487),p=v(p,c,u,d,i[f+12],11,-421815835),d=v(d,p,c,u,i[f+15],16,530742520),u=v(u,d,p,c,i[f+2],23,-995338651),c=g(c,u,d,p,i[f+0],6,-198630844),p=g(p,c,u,d,i[f+7],10,1126891415),d=g(d,p,c,u,i[f+14],15,-1416354905),u=g(u,d,p,c,i[f+5],21,-57434055),c=g(c,u,d,p,i[f+12],6,1700485571),p=g(p,c,u,d,i[f+3],10,-1894986606),d=g(d,p,c,u,i[f+10],15,-1051523),u=g(u,d,p,c,i[f+1],21,-2054922799),c=g(c,u,d,p,i[f+8],6,1873313359),p=g(p,c,u,d,i[f+15],10,-30611744),d=g(d,p,c,u,i[f+6],15,-1560198380),u=g(u,d,p,c,i[f+13],21,1309151649),c=g(c,u,d,p,i[f+4],6,-145523070),p=g(p,c,u,d,i[f+11],10,-1120210379),d=g(d,p,c,u,i[f+2],15,718787259),u=g(u,d,p,c,i[f+9],21,-343485551),c=c+b>>>0,u=u+x>>>0,d=d+y>>>0,p=p+w>>>0}return n.endian([c,u,d,p])})._ff=function(e,t,n,a,l,o,r){var i=e+(t&n|~t&a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},r._gg=function(e,t,n,a,l,o,r){var i=e+(t&a|n&~a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},r._hh=function(e,t,n,a,l,o,r){var i=e+(t^n^a)+(l>>>0)+r;return(i<<o|i>>>32-o)+t},r._ii=function(e,t,n,a,l,o,r){var i=e+(n^(t|~a))+(l>>>0)+r;return(i<<o|i>>>32-o)+t},r._blocksize=16,r._digestsize=16,t.exports=function(e,t){if(null==e)throw Error("Illegal argument "+e);var a=n.wordsToBytes(r(e,t));return t&&t.asBytes?a:t&&t.asString?o.bytesToString(a):n.bytesToHex(a)}});function ef(e){let{CustomComponent:t,Fallback:n}=e;return void 0!==t?t:n}var eh=(0,p.e)(ea(),1),em=Symbol(),ev=Symbol(),eg=typeof window>"u"||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?s.useEffect:s.useLayoutEffect,eb=eh.unstable_runWithPriority?e=>{try{(0,eh.unstable_runWithPriority)(eh.unstable_NormalPriority,e)}catch(t){if("Not implemented."===t.message)e();else throw t}}:e=>e(),ex=e=>e;function ey(e,t){let{v:{current:n},n:{current:a},l:l}=(0,s.useContext)(e)[em],o=t(n),[r,i]=(0,s.useReducer)((e,l)=>{if(!l)return[n,o];if("p"in l)throw l.p;if(l.n===a)return Object.is(e[1],o)?e:[n,o];try{if("v"in l){if(Object.is(e[0],l.v))return e;let n=t(l.v);return Object.is(e[1],n)?e:[l.v,n]}}catch(e){}return[...e]},[n,o]);return Object.is(r[1],o)||i(),eg(()=>(l.add(i),()=>{l.delete(i)}),[l]),r[1]}var ew=(0,s.createContext)({}),ej=(0,s.createContext)({}),eC=(0,s.createContext)({}),eS=(0,s.createContext)(!1),e_=(0,s.createContext)(!1),ek=(0,s.createContext)(!1),eN=(0,s.createContext)(!1),eE=(0,s.createContext)(!1),eD=(nZ=[{},()=>null],(a=(0,s.createContext)({[em]:{v:{current:nZ},n:{current:-1},l:new Set,u:e=>e()}}))[ev]=a.Provider,a.Provider=(r=a.Provider,e=>{let{value:t,children:n}=e,a=(0,s.useRef)(t),l=(0,s.useRef)(0),[o,i]=(0,s.useState)(null);o&&(o(t),i(null));let c=(0,s.useRef)();if(!c.current){let e=new Set;c.current={[em]:{v:a,n:l,l:e,u:(t,n)=>{l.current+=1;let a={n:l.current};(null==n?void 0:n.suspense)&&(a.n*=-1,a.p=new Promise(e=>{i(()=>t=>{a.v=t,delete a.p,e(t)})})),e.forEach(e=>e(a)),t()}}}}return eg(()=>{a.current=t,l.current+=1,eb(()=>{c.current[em].l.forEach(e=>{e({n:l.current,v:t})})})},[t]),(0,s.createElement)(r,{value:c.current},n)}),delete a.Consumer,a),eP=()=>(0,s.use)(ew),eT=()=>(0,s.use)(ej),eR=()=>(0,s.use)(eC),eO=()=>(0,s.use)(eS),eL=()=>(0,s.use)(e_),eF=()=>(0,s.use)(ek),eI=()=>(0,s.use)(eN),eA=()=>(0,s.use)(eE),eM=e=>ey(eD,e),eB=()=>ey(eD,ex),ez=s.createContext({data:{},path:"",rowNumber:void 0}),eU=e=>{let t=(0,h.c)(6),{children:n,path:a,rowNumber:l}=e,{getDataByPath:o,getSiblingData:r}=eR(),i;if(t[0]!==n||t[1]!==o||t[2]!==r||t[3]!==a||t[4]!==l){let e=r(a),s=o(a)||e;i=(0,f.jsx)(ez,{value:{data:s,path:a,rowNumber:l},children:n}),t[0]=n,t[1]=o,t[2]=r,t[3]=a,t[4]=l,t[5]=i}else i=t[5];return i},eV=()=>s.use(ez),eH=e=>{let{className:t,CustomComponent:n,label:a,path:l,rowNumber:o}=e;return(0,f.jsx)(eU,{path:l,rowNumber:o,children:(0,f.jsx)(ef,{CustomComponent:n,Fallback:"string"==typeof a?(0,f.jsx)("span",{className:["row-label",t].filter(Boolean).join(" "),style:{pointerEvents:"none"},children:a}):a})})},eq=e=>{switch(e){case"success":return eY;case"info":return e$;case"warning":return eG;case"error":return eX;default:return null}},eW=Array(12).fill(0),eK=e=>{let{visible:t,className:n}=e;return s.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":t},s.createElement("div",{className:"sonner-spinner"},eW.map((e,t)=>s.createElement("div",{className:"sonner-loading-bar",key:"spinner-bar-".concat(t)}))))},eY=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eG=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),e$=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eX=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},s.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),eQ=s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},s.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),s.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eZ=()=>{let[e,t]=s.useState(document.hidden);return s.useEffect(()=>{let e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e},eJ=1,e0=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...a}=e,l="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:eJ++,o=this.toasts.find(e=>e.id===l),r=void 0===e.dismissible||e.dismissible;return o?this.toasts=this.toasts.map(t=>t.id===l?(this.publish({...t,...e,id:l,title:n}),{...t,...e,id:l,dismissible:r,title:n}):t):this.addToast({title:n,...a,dismissible:r,id:l}),l},this.dismiss=e=>(e||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{let n;if(!t)return;void 0!==t.loading&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));let a=e instanceof Promise?e:e(),l=void 0!==n,o,r=a.then(async e=>{if(o=["resolve",e],s.isValidElement(e))l=!1,this.create({id:n,type:"default",message:e});else if(e1(e)&&!e.ok){l=!1;let a="function"==typeof t.error?await t.error("HTTP error! status: ".concat(e.status)):t.error,o="function"==typeof t.description?await t.description("HTTP error! status: ".concat(e.status)):t.description;this.create({id:n,type:"error",message:a,description:o})}else if(void 0!==t.success){l=!1;let a="function"==typeof t.success?await t.success(e):t.success,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"success",message:a,description:o})}}).catch(async e=>{if(o=["reject",e],void 0!==t.error){l=!1;let a="function"==typeof t.error?await t.error(e):t.error,o="function"==typeof t.description?await t.description(e):t.description;this.create({id:n,type:"error",message:a,description:o})}}).finally(()=>{var e;l&&(this.dismiss(n),n=void 0),null==(e=t.finally)||e.call(t)}),i=()=>new Promise((e,t)=>r.then(()=>"reject"===o[0]?t(o[1]):e(o[1])).catch(t));return"string"!=typeof n&&"number"!=typeof n?{unwrap:i}:Object.assign(n,{unwrap:i})},this.custom=(e,t)=>{let n=(null==t?void 0:t.id)||eJ++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},e1=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,e3=Object.assign((e,t)=>{let n=(null==t?void 0:t.id)||eJ++;return e0.addToast({title:e,...t,id:n}),n},{success:e0.success,info:e0.info,warning:e0.warning,error:e0.error,custom:e0.custom,message:e0.message,promise:e0.promise,dismiss:e0.dismiss,loading:e0.loading},{getHistory:()=>e0.toasts});function e2(e){return void 0!==e.label}function e6(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}!function(e){let{insertAt:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===t&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}(':where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}\n');var e5=e=>{var t,n,a,l,o,r,i,c,u,d,p,f,h,m;let{invert:v,toast:g,unstyled:b,interacting:x,setHeights:y,visibleToasts:w,heights:j,index:C,toasts:S,expanded:_,removeToast:k,defaultRichColors:N,closeButton:E,style:D,cancelButtonStyle:P,actionButtonStyle:T,className:R="",descriptionClassName:O="",duration:L,position:F,gap:I,loadingIcon:A,expandByDefault:M,classNames:B,icons:z,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:V}=e,[H,q]=s.useState(null),[W,K]=s.useState(null),[Y,G]=s.useState(!1),[$,X]=s.useState(!1),[Q,Z]=s.useState(!1),[J,ee]=s.useState(!1),[et,en]=s.useState(!1),[ea,el]=s.useState(0),[eo,er]=s.useState(0),ei=s.useRef(g.duration||L||4e3),es=s.useRef(null),ec=s.useRef(null),eu=0===C,ed=C+1<=w,ep=g.type,ef=!1!==g.dismissible,eh=g.className||"",em=g.descriptionClassName||"",ev=s.useMemo(()=>j.findIndex(e=>e.toastId===g.id)||0,[j,g.id]),eg=s.useMemo(()=>{var e;return null!=(e=g.closeButton)?e:E},[g.closeButton,E]),eb=s.useMemo(()=>g.duration||L||4e3,[g.duration,L]),ex=s.useRef(0),ey=s.useRef(0),ew=s.useRef(0),ej=s.useRef(null),[eC,eS]=F.split("-"),e_=s.useMemo(()=>j.reduce((e,t,n)=>n>=ev?e:e+t.height,0),[j,ev]),ek=eZ(),eN=g.invert||v,eE="loading"===ep;ey.current=s.useMemo(()=>ev*I+e_,[ev,e_]),s.useEffect(()=>{ei.current=eb},[eb]),s.useEffect(()=>{G(!0)},[]),s.useEffect(()=>{let e=ec.current;if(e){let t=e.getBoundingClientRect().height;return er(t),y(e=>[{toastId:g.id,height:t,position:g.position},...e]),()=>y(e=>e.filter(e=>e.toastId!==g.id))}},[y,g.id]),s.useLayoutEffect(()=>{if(!Y)return;let e=ec.current,t=e.style.height;e.style.height="auto";let n=e.getBoundingClientRect().height;e.style.height=t,er(n),y(e=>e.find(e=>e.toastId===g.id)?e.map(e=>e.toastId===g.id?{...e,height:n}:e):[{toastId:g.id,height:n,position:g.position},...e])},[Y,g.title,g.description,y,g.id]);let eD=s.useCallback(()=>{X(!0),el(ey.current),y(e=>e.filter(e=>e.toastId!==g.id)),setTimeout(()=>{k(g)},200)},[g,k,y,ey]);return s.useEffect(()=>{let e;if((!g.promise||"loading"!==ep)&&g.duration!==1/0&&"loading"!==g.type)return _||x||V&&ek?(()=>{if(ew.current<ex.current){let e=new Date().getTime()-ex.current;ei.current=ei.current-e}ew.current=new Date().getTime()})():ei.current!==1/0&&(ex.current=new Date().getTime(),e=setTimeout(()=>{var e;null==(e=g.onAutoClose)||e.call(g,g),eD()},ei.current)),()=>clearTimeout(e)},[_,x,g,ep,V,ek,eD]),s.useEffect(()=>{g.delete&&eD()},[eD,g.delete]),s.createElement("li",{tabIndex:0,ref:ec,className:e6(R,eh,null==B?void 0:B.toast,null==(t=null==g?void 0:g.classNames)?void 0:t.toast,null==B?void 0:B.default,null==B?void 0:B[ep],null==(n=null==g?void 0:g.classNames)?void 0:n[ep]),"data-sonner-toast":"","data-rich-colors":null!=(a=g.richColors)?a:N,"data-styled":!(g.jsx||g.unstyled||b),"data-mounted":Y,"data-promise":!!g.promise,"data-swiped":et,"data-removed":$,"data-visible":ed,"data-y-position":eC,"data-x-position":eS,"data-index":C,"data-front":eu,"data-swiping":Q,"data-dismissible":ef,"data-type":ep,"data-invert":eN,"data-swipe-out":J,"data-swipe-direction":W,"data-expanded":!!(_||M&&Y),style:{"--index":C,"--toasts-before":C,"--z-index":S.length-C,"--offset":"".concat($?ea:ey.current,"px"),"--initial-height":M?"auto":"".concat(eo,"px"),...D,...g.style},onPointerDown:e=>{eE||!ef||(es.current=new Date,el(ey.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(Z(!0),ej.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,n,a;if(J||!ef)return;ej.current=null;let l=Number((null==(e=ec.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),o=Number((null==(t=ec.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),r=new Date().getTime()-(null==(n=es.current)?void 0:n.getTime()),i="x"===H?l:o;if(Math.abs(i)>=20||Math.abs(i)/r>.11){el(ey.current),null==(a=g.onDismiss)||a.call(g,g),K("x"===H?l>0?"right":"left":o>0?"down":"up"),eD(),ee(!0),en(!1);return}Z(!1),q(null)},onPointerMove:t=>{var n,a,l,o;if(!ej.current||!ef||(null==(n=window.getSelection())?void 0:n.toString().length)>0)return;let r=t.clientY-ej.current.y,i=t.clientX-ej.current.x,s=null!=(a=e.swipeDirections)?a:function(e){let[t,n]=e.split("-"),a=[];return t&&a.push(t),n&&a.push(n),a}(F);!H&&(Math.abs(i)>1||Math.abs(r)>1)&&q(Math.abs(i)>Math.abs(r)?"x":"y");let c={x:0,y:0};"y"===H?(s.includes("top")||s.includes("bottom"))&&(s.includes("top")&&r<0||s.includes("bottom")&&r>0)&&(c.y=r):"x"===H&&(s.includes("left")||s.includes("right"))&&(s.includes("left")&&i<0||s.includes("right")&&i>0)&&(c.x=i),(Math.abs(c.x)>0||Math.abs(c.y)>0)&&en(!0),null==(l=ec.current)||l.style.setProperty("--swipe-amount-x","".concat(c.x,"px")),null==(o=ec.current)||o.style.setProperty("--swipe-amount-y","".concat(c.y,"px"))}},eg&&!g.jsx?s.createElement("button",{"aria-label":U,"data-disabled":eE,"data-close-button":!0,onClick:eE||!ef?()=>{}:()=>{var e;eD(),null==(e=g.onDismiss)||e.call(g,g)},className:e6(null==B?void 0:B.closeButton,null==(l=null==g?void 0:g.classNames)?void 0:l.closeButton)},null!=(o=null==z?void 0:z.close)?o:eQ):null,g.jsx||(0,s.isValidElement)(g.title)?g.jsx?g.jsx:"function"==typeof g.title?g.title():g.title:s.createElement(s.Fragment,null,ep||g.icon||g.promise?s.createElement("div",{"data-icon":"",className:e6(null==B?void 0:B.icon,null==(r=null==g?void 0:g.classNames)?void 0:r.icon)},g.promise||"loading"===g.type&&!g.icon?g.icon||(null!=z&&z.loading?s.createElement("div",{className:e6(null==B?void 0:B.loader,null==(f=null==g?void 0:g.classNames)?void 0:f.loader,"sonner-loader"),"data-visible":"loading"===ep},z.loading):A?s.createElement("div",{className:e6(null==B?void 0:B.loader,null==(h=null==g?void 0:g.classNames)?void 0:h.loader,"sonner-loader"),"data-visible":"loading"===ep},A):s.createElement(eK,{className:e6(null==B?void 0:B.loader,null==(m=null==g?void 0:g.classNames)?void 0:m.loader),visible:"loading"===ep})):null,"loading"!==g.type?g.icon||(null==z?void 0:z[ep])||eq(ep):null):null,s.createElement("div",{"data-content":"",className:e6(null==B?void 0:B.content,null==(i=null==g?void 0:g.classNames)?void 0:i.content)},s.createElement("div",{"data-title":"",className:e6(null==B?void 0:B.title,null==(c=null==g?void 0:g.classNames)?void 0:c.title)},"function"==typeof g.title?g.title():g.title),g.description?s.createElement("div",{"data-description":"",className:e6(O,em,null==B?void 0:B.description,null==(u=null==g?void 0:g.classNames)?void 0:u.description)},"function"==typeof g.description?g.description():g.description):null),(0,s.isValidElement)(g.cancel)?g.cancel:g.cancel&&e2(g.cancel)?s.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||P,onClick:e=>{var t,n;e2(g.cancel)&&ef&&(null==(n=(t=g.cancel).onClick)||n.call(t,e),eD())},className:e6(null==B?void 0:B.cancelButton,null==(d=null==g?void 0:g.classNames)?void 0:d.cancelButton)},g.cancel.label):null,(0,s.isValidElement)(g.action)?g.action:g.action&&e2(g.action)?s.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||T,onClick:e=>{var t,n;e2(g.action)&&(null==(n=(t=g.action).onClick)||n.call(t,e),e.defaultPrevented||eD())},className:e6(null==B?void 0:B.actionButton,null==(p=null==g?void 0:g.classNames)?void 0:p.actionButton)},g.action.label):null))};function e4(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}var e8=(0,s.forwardRef)(function(e,t){let{invert:n,position:a="bottom-right",hotkey:l=["altKey","KeyT"],expand:o,closeButton:r,className:i,offset:u,mobileOffset:d,theme:p="light",richColors:f,duration:h,style:m,visibleToasts:v=3,toastOptions:g,dir:b=e4(),gap:x=14,loadingIcon:y,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:C}=e,[S,_]=s.useState([]),k=s.useMemo(()=>Array.from(new Set([a].concat(S.filter(e=>e.position).map(e=>e.position)))),[S,a]),[N,E]=s.useState([]),[D,P]=s.useState(!1),[T,R]=s.useState(!1),[O,L]=s.useState("system"!==p?p:"u">typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=s.useRef(null),I=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=s.useRef(null),M=s.useRef(!1),B=s.useCallback(e=>{_(t=>{var n;return null!=(n=t.find(t=>t.id===e.id))&&n.delete||e0.dismiss(e.id),t.filter(t=>{let{id:n}=t;return n!==e.id})})},[]);return s.useEffect(()=>e0.subscribe(e=>{if(e.dismiss){_(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t));return}setTimeout(()=>{c.flushSync(()=>{_(t=>{let n=t.findIndex(t=>t.id===e.id);return -1!==n?[...t.slice(0,n),{...t[n],...e},...t.slice(n+1)]:[e,...t]})})})}),[]),s.useEffect(()=>{if("system"!==p){L(p);return}if("system"===p&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",e=>{let{matches:t}=e;L(t?"dark":"light")})}catch(t){e.addListener(e=>{let{matches:t}=e;try{L(t?"dark":"light")}catch(e){console.error(e)}})}},[p]),s.useEffect(()=>{S.length<=1&&P(!1)},[S]),s.useEffect(()=>{let e=e=>{var t,n;l.every(t=>e[t]||e.code===t)&&(P(!0),null==(t=F.current)||t.focus()),"Escape"===e.code&&(document.activeElement===F.current||null!=(n=F.current)&&n.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l]),s.useEffect(()=>{if(F.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,M.current=!1)}},[F.current]),s.createElement("section",{ref:t,"aria-label":"".concat(j," ").concat(I),tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((t,a)=>{var l;let c;let[p,j]=t.split("-");return S.length?s.createElement("ol",{key:t,dir:"auto"===b?e4():b,tabIndex:-1,ref:F,className:i,"data-sonner-toaster":!0,"data-theme":O,"data-y-position":p,"data-lifted":D&&S.length>1&&!o,"data-x-position":j,style:{"--front-toast-height":"".concat((null==(l=N[0])?void 0:l.height)||0,"px"),"--width":"".concat(356,"px"),"--gap":"".concat(x,"px"),...m,...(c={},[u,d].forEach((e,t)=>{let n=1===t,a=n?"--mobile-offset":"--offset",l=n?"16px":"32px";function o(e){["top","right","bottom","left"].forEach(t=>{c["".concat(a,"-").concat(t)]="number"==typeof e?"".concat(e,"px"):e})}"number"==typeof e||"string"==typeof e?o(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?c["".concat(a,"-").concat(t)]=l:c["".concat(a,"-").concat(t)]="number"==typeof e[t]?"".concat(e[t],"px"):e[t]}):o(l)}),c)},onBlur:e=>{M.current&&!e.currentTarget.contains(e.relatedTarget)&&(M.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||M.current||(M.current=!0,A.current=e.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{T||P(!1)},onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||R(!0)},onPointerUp:()=>R(!1)},S.filter(e=>!e.position&&0===a||e.position===t).map((a,l)=>{var i,c;return s.createElement(e5,{key:a.id,icons:w,index:l,toast:a,defaultRichColors:f,duration:null!=(i=null==g?void 0:g.duration)?i:h,className:null==g?void 0:g.className,descriptionClassName:null==g?void 0:g.descriptionClassName,invert:n,visibleToasts:v,closeButton:null!=(c=null==g?void 0:g.closeButton)?c:r,interacting:T,position:t,style:null==g?void 0:g.style,unstyled:null==g?void 0:g.unstyled,classNames:null==g?void 0:g.classNames,cancelButtonStyle:null==g?void 0:g.cancelButtonStyle,actionButtonStyle:null==g?void 0:g.actionButtonStyle,removeToast:B,toasts:S.filter(e=>e.position==a.position),heights:N.filter(e=>e.position==a.position),setHeights:E,expandByDefault:o,gap:x,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))}),e7=e=>{let t,n=(0,h.c)(11),{children:a}=e,[l,o]=(0,s.useOptimistic)(!1),[r,i]=s.useState(0),c=(0,s.useRef)(r),u=(0,s.useRef)(null),d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{u.current=setInterval(()=>{let e=c.current+(.93-c.current)*Math.random()*.2*Math.pow(Math.log(1+(1-c.current)*.75),.75);i(e),c.current=e},250)},n[0]=d):d=n[0];let p=d,m,v;n[1]!==l?(m=()=>{i(0),c.current=0,l?p():u.current&&clearInterval(u.current)},v=[l,p],n[1]=l,n[2]=m,n[3]=v):(m=n[2],v=n[3]),(0,s.useEffect)(m,v),n[4]!==o?(t=e=>{(0,s.startTransition)(()=>{o(!0),"function"==typeof e&&e()})},n[4]=o,n[5]=t):t=n[5];let g=t,b;return n[6]!==a||n[7]!==l||n[8]!==g||n[9]!==r?(b=(0,f.jsx)(e9,{value:{isTransitioning:l,startRouteTransition:g,transitionProgress:r},children:a}),n[6]=a,n[7]=l,n[8]=g,n[9]=r,n[10]=b):b=n[10],b},e9=s.createContext({isTransitioning:!1,startRouteTransition:()=>{},transitionProgress:0}),te=()=>s.use(e9),tt=/https?|ftp|gopher|file/;function tn(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}var ta=v.default.default||v.default,tl=e=>{let{children:t,href:n,onClick:a,preventDefault:l=!0,ref:o,replace:r,scroll:i,...s}=e,c=(0,g.useRouter)(),{startRouteTransition:u}=te();return(0,f.jsx)(ta,{href:n,onClick:e=>{let t;(t=e.currentTarget.getAttribute("target"))&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which||(a&&a(e),l&&e.preventDefault(),u(()=>{let e="string"==typeof n?n:function(e){var t;let n,{auth:a}=e,{hostname:l}=e,o=e.protocol||"",r=e.pathname||"",i=e.hash||"",s=e.query||"",c=!1;a=a?encodeURIComponent(a).replace(/%3A/i,":")+"@":"",e.host?c=a+e.host:l&&(c=a+(~l.indexOf(":")?"[".concat(l,"]"):l),e.port&&(c+=":"+e.port)),s&&"object"==typeof s&&(s=String((t=s,n=new URLSearchParams,Object.entries(t).forEach(e=>{let[t,a]=e;Array.isArray(a)?a.forEach(e=>n.append(t,tn(e))):n.set(t,tn(a))}),n)));let u=e.search||s&&"?".concat(s)||"";return o&&!o.endsWith(":")&&(o+=":"),e.slashes||(!o||tt.test(o))&&!1!==c?(c="//"+(c||""),r&&"/"!==r[0]&&(r="/"+r)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),r=r.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),"".concat(o).concat(c).concat(r).concat(u).concat(i)}(n);r?c.replace(e,{scroll:i}):c.push(e,{scroll:i})}))},ref:o,...s,children:t})},to="banner",tr=e=>{let{type:t="default",alignIcon:n="right",children:a,className:l,icon:o,onClick:r,to:i}=e,c=[to,"".concat(to,"--type-").concat(t),l&&l,i&&"".concat(to,"--has-link"),(i||r)&&"".concat(to,"--has-action"),o&&"".concat(to,"--has-icon"),o&&"".concat(to,"--align-icon-").concat(n)].filter(Boolean).join(" "),u="div";return r&&!i&&(u="button"),i&&(u=tl),(0,f.jsxs)(u,{className:c,href:i||null,onClick:r,children:[o&&"left"===n&&(0,f.jsx)(s.Fragment,{children:o}),(0,f.jsx)("span",{className:"".concat(to,"__content"),children:a}),o&&"right"===n&&(0,f.jsx)(s.Fragment,{children:o})]})},ti=e=>{let{ariaLabel:t,className:n,direction:a,size:l}=e;return(0,f.jsx)("svg",{"aria-label":t,className:["icon icon--chevron",n,l&&"icon--size-".concat(l)].filter(Boolean).join(" "),height:"100%",style:{transform:"left"===a?"rotate(90deg)":"right"===a?"rotate(-90deg)":"up"===a?"rotate(180deg)":void 0},viewBox:"0 0 20 20",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M14 8L10 12L6 8",strokeLinecap:"square"})})},ts=e=>{let{className:t}=e;return(0,f.jsx)("svg",{className:[t,"icon icon--edit"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M9.68531 4.62938H5.2634C4.92833 4.62938 4.60698 4.76248 4.37004 4.99942C4.13311 5.23635 4 5.5577 4 5.89278V14.7366C4 15.0717 4.13311 15.393 4.37004 15.63C4.60698 15.8669 4.92833 16 5.2634 16H14.1072C14.4423 16 14.7636 15.8669 15.0006 15.63C15.2375 15.393 15.3706 15.0717 15.3706 14.7366V10.3147M13.7124 4.39249C13.9637 4.14118 14.3046 4 14.66 4C15.0154 4 15.3562 4.14118 15.6075 4.39249C15.8588 4.6438 16 4.98464 16 5.34004C16 5.69544 15.8588 6.03629 15.6075 6.28759L9.91399 11.9817C9.76399 12.1316 9.57868 12.2413 9.37515 12.3008L7.56027 12.8314C7.50591 12.8472 7.44829 12.8482 7.39344 12.8341C7.33859 12.8201 7.28853 12.7915 7.24849 12.7515C7.20845 12.7115 7.17991 12.6614 7.16586 12.6066C7.15181 12.5517 7.15276 12.4941 7.16861 12.4397L7.69924 10.6249C7.75896 10.4215 7.86888 10.2364 8.01888 10.0866L13.7124 4.39249Z",strokeLinecap:"square"})})},tc=()=>(0,f.jsx)("svg",{"aria-hidden":"true",className:"graphic link icon icon--link",fill:"none",focusable:"false",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M7.99999 13.3333H6.66666C5.78261 13.3333 4.93476 12.9821 4.30964 12.357C3.68452 11.7319 3.33333 10.884 3.33333 9.99999C3.33333 9.11593 3.68452 8.26809 4.30964 7.64297C4.93476 7.01785 5.78261 6.66666 6.66666 6.66666H7.99999M12 6.66666H13.3333C14.2174 6.66666 15.0652 7.01785 15.6904 7.64297C16.3155 8.26809 16.6667 9.11593 16.6667 9.99999C16.6667 10.884 16.3155 11.7319 15.6904 12.357C15.0652 12.9821 14.2174 13.3333 13.3333 13.3333H12M7.33333 9.99999H12.6667",strokeLinecap:"square"})}),tu=()=>(0,f.jsx)("svg",{className:"icon icon--plus",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M5.33333 9.99998H14.6667M9.99999 5.33331V14.6666",strokeLinecap:"square"})}),td=()=>(0,f.jsx)("svg",{className:"icon icon--swap",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M7.33334 4L4.66667 6.66667M4.66667 6.66667L7.33334 9.33333M4.66667 6.66667H15.3333M12.6667 16L15.3333 13.3333M15.3333 13.3333L12.6667 10.6667M15.3333 13.3333H4.66667",strokeLinecap:"square"})}),tp={};(0,p.d)(tp,{Button:()=>tg,ButtonGroup:()=>tv,Divider:()=>tf,GroupLabel:()=>th});var tf=()=>(0,f.jsx)("hr",{className:"popup-divider"}),th=e=>{let{label:t}=e;return(0,f.jsx)("p",{className:"popup-list-group-label",children:t})},tm="popup-button-list",tv=e=>{let{buttonSize:t="default",children:n,className:a,textAlign:l="left"}=e,o=[tm,a,"".concat(tm,"__text-align--").concat(l),"".concat(tm,"__button-size--").concat(t)].filter(Boolean).join(" ");return(0,f.jsx)("div",{className:o,children:n})},tg=e=>{let{id:t,active:n,children:a,className:l,disabled:o,href:r,onClick:i}=e,s=["".concat(tm,"__button"),o&&"".concat(tm,"__disabled"),n&&"".concat(tm,"__button--selected"),l].filter(Boolean).join(" ");if(!o){if(r)return(0,f.jsx)(tl,{className:s,href:r,id:t,onClick:e=>{i&&i(e)},prefetch:!1,children:a});if(i)return(0,f.jsx)("button",{className:s,id:t,onClick:e=>{i&&i(e)},type:"button",children:a})}return(0,f.jsx)("div",{className:s,id:t,children:a})},tb={};(0,p.d)(tb,{WindowInfo:()=>tw,WindowInfoContext:()=>tx,WindowInfoProvider:()=>tC,useWindowInfo:()=>ty,withWindowInfo:()=>tS});var tx=(0,s.createContext)({}),ty=()=>(0,s.useContext)(tx),tw=e=>{let{children:t}=e,n=ty();return t?"function"==typeof t?s.createElement(s.Fragment,null,t(n)):s.createElement(s.Fragment,null,t):null},tj=(e,t)=>{let{payload:{breakpoints:n,animationRef:a}}=t;a.current=null;let{eventsFired:l}=e,{documentElement:{style:o,clientWidth:r,clientHeight:i}}=document,{innerWidth:s,innerHeight:c}=window,u="".concat(r/100,"px"),d="".concat(i/100,"px"),p=n?Object.keys(n).reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:window.matchMedia(n[t]).matches}),{}):{};return o.setProperty("--vw",u),o.setProperty("--vh",d),{width:s,height:c,"--vw":u,"--vh":d,breakpoints:p,eventsFired:l+1}},tC=e=>{let{breakpoints:t,children:n}=e,a=(0,s.useRef)(null),[l,o]=(0,s.useReducer)(tj,{width:void 0,height:void 0,"--vw":"","--vh":"",breakpoints:{},eventsFired:0}),r=(0,s.useCallback)(()=>{a.current&&cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>o({type:"UPDATE",payload:{breakpoints:t,animationRef:a}}))},[t]),i=(0,s.useCallback)(()=>{setTimeout(()=>{r()},500)},[r]);return(0,s.useEffect)(()=>(window.addEventListener("resize",r),window.addEventListener("orientationchange",i),()=>{window.removeEventListener("resize",r),window.removeEventListener("orientationchange",i)}),[r,i]),(0,s.useEffect)(()=>{0===l.eventsFired&&o({type:"UPDATE",payload:{breakpoints:t,animationRef:a}})},[t,l]),s.createElement(tx.Provider,{value:Object.assign({},l)},n&&n)},tS=e=>t=>{let n=ty();return s.createElement(e,Object.assign({},t,{windowInfo:n}))},t_=(e,t)=>{let n,a=(0,h.c)(14),l;a[0]!==e?(l=void 0===e?{}:e,a[0]=e,a[1]=l):l=a[1];let{root:o,rootMargin:r,threshold:i}=l,c=void 0===o?null:o,u=void 0===r?"0px":r,d=void 0===i?0:i,[p,f]=(0,s.useState)(),[m,v]=(0,s.useState)(null),g;a[2]!==t||a[3]!==c||a[4]!==u||a[5]!==d?(g="u">typeof window&&"IntersectionObserver"in window&&!t?new window.IntersectionObserver(e=>{let[t]=e;return f(t)},{root:c,rootMargin:u,threshold:d}):null,a[2]=t,a[3]=c,a[4]=u,a[5]=d,a[6]=g):g=a[6];let b=(0,s.useRef)(g),x,y;return a[7]!==t||a[8]!==m?(x=()=>{if(t)return;let{current:e}=b;return e.disconnect(),m&&e.observe(m),()=>e.disconnect()},y=[m,t],a[7]=t,a[8]=m,a[9]=x,a[10]=y):(x=a[9],y=a[10]),(0,s.useEffect)(x,y),a[11]!==p||a[12]!==m?(n=[v,p,m],a[11]=p,a[12]=m,a[13]=n):n=a[13],n},tk="popup-button",tN=e=>{let t,n,a=(0,h.c)(24),{active:l,button:o,buttonType:r,className:i,disabled:s,noBackground:c,setActive:u,size:d}=e,p="".concat(tk,"--").concat(r),m=!c&&"".concat(tk,"--background"),v=d&&"".concat(tk,"--size-").concat(d),g=s&&"".concat(tk,"--disabled"),b;a[0]!==i||a[1]!==p||a[2]!==m||a[3]!==v||a[4]!==g?(b=[tk,i,p,m,v,g].filter(Boolean),a[0]=i,a[1]=p,a[2]=m,a[3]=v,a[4]=g,a[5]=b):b=a[5];let x=b.join(" "),y;a[6]!==l||a[7]!==u?(y=()=>{u(!l)},a[6]=l,a[7]=u,a[8]=y):y=a[8];let w=y;if("none"===r)return null;if("custom"===r){let e,t;return a[9]!==w?(e=e=>{"Enter"===e.key&&w()},a[9]=w,a[10]=e):e=a[10],a[11]!==o||a[12]!==x||a[13]!==w||a[14]!==e?(t=(0,f.jsx)("div",{className:x,onClick:w,onKeyDown:e,role:"button",tabIndex:0,children:o}),a[11]=o,a[12]=x,a[13]=w,a[14]=e,a[15]=t):t=a[15],t}return a[16]!==w?(t=e=>{"Enter"===e.key&&w()},a[16]=w,a[17]=t):t=a[17],a[18]!==o||a[19]!==x||a[20]!==s||a[21]!==w||a[22]!==t?(n=(0,f.jsx)("button",{className:x,disabled:s,onClick:w,onKeyDown:t,tabIndex:0,type:"button",children:o}),a[18]=o,a[19]=x,a[20]=s,a[21]=w,a[22]=t,a[23]=n):n=a[23],n},tE="popup",tD=e=>{let{id:t,boundingRef:n,button:a,buttonClassName:l,buttonSize:o,buttonType:r="default",caret:i=!0,children:c,className:u,disabled:d,forceOpen:p,horizontalAlign:h="left",initActive:m=!1,noBackground:v,onToggleClose:g,onToggleOpen:b,render:x,showOnHover:y=!1,showScrollbar:w=!1,size:j="medium",verticalAlign:C="top"}=e,{height:S,width:_}=ty(),[k,N]=t_({root:(null==n?void 0:n.current)||null,rootMargin:"-100px 0px 0px 0px",threshold:1}),E=(0,s.useRef)(null),D=(0,s.useRef)(null),[P,T]=(0,s.useState)(m),[R,O]=(0,s.useState)(C),[L,F]=(0,s.useState)(h),I=s.useCallback(e=>{e&&"function"==typeof b&&b(!0),e||"function"!=typeof g||g(),T(e)},[g,b]),A=(0,s.useCallback)(e=>{let{horizontal:t=!1,vertical:a=!1}=e;if(E.current){let{bottom:e,left:l,right:o,top:r}=E.current.getBoundingClientRect(),i=100,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=0;(null==n?void 0:n.current)&&({bottom:c,left:u,right:s,top:i}=n.current.getBoundingClientRect()),t&&(o>s&&l>u?F("right"):l<u&&o<s&&F("left")),a&&(r<i&&e<c?O("bottom"):e>c&&r>i&&O("top"))}},[n]),M=(0,s.useCallback)(e=>{E.current.contains(e.target)||D.current.contains(e.target)||I(!1)},[E,I]);(0,s.useEffect)(()=>{A({horizontal:!0})},[N,A,_]),(0,s.useEffect)(()=>{A({vertical:!0})},[N,A,S]),(0,s.useEffect)(()=>(P?document.addEventListener("mousedown",M):document.removeEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}),[P,M,b]),(0,s.useEffect)(()=>{I(p)},[p,I]);let B=[tE,u,"".concat(tE,"--size-").concat(j),o&&"".concat(tE,"--button-size-").concat(o),"".concat(tE,"--v-align-").concat(R),"".concat(tE,"--h-align-").concat(L),P&&"".concat(tE,"--active"),w&&"".concat(tE,"--show-scrollbar")].filter(Boolean).join(" ");return(0,f.jsxs)("div",{className:B,id:t,children:[(0,f.jsx)("div",{className:"".concat(tE,"__trigger-wrap"),ref:D,children:y?(0,f.jsx)("div",{className:"".concat(tE,"__on-hover-watch"),onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),role:"button",tabIndex:0,children:(0,f.jsx)(tN,{active:P,button:a,buttonType:r,className:l,disabled:d,noBackground:v,setActive:I,size:o})}):(0,f.jsx)(tN,{active:P,button:a,buttonType:r,className:l,disabled:d,noBackground:v,setActive:I,size:o})}),(0,f.jsxs)("div",{className:"".concat(tE,"__content"),ref:E,children:[(0,f.jsx)("div",{className:"".concat(tE,"__hide-scrollbar"),ref:k,children:(0,f.jsx)("div",{className:"".concat(tE,"__scroll-container"),children:(0,f.jsxs)("div",{className:"".concat(tE,"__scroll-content"),children:[x&&x({close:()=>I(!1)}),c]})})}),i&&(0,f.jsx)("div",{className:"".concat(tE,"__caret")})]})]})},tP=e=>{let t,n,a,l=(0,h.c)(26),{alignCaret:o,boundingRef:r,children:i,className:c,delay:u,position:d,show:p,staticPositioning:m}=e,v=void 0===o?"center":o,g=void 0===u?350:u,b=void 0===p||p,x=void 0!==m&&m,[y,w]=s.useState(b),[j,C]=s.useState("top"),S=(null==r?void 0:r.current)||null,_;l[0]!==S?(_={root:S,rootMargin:"-145px 0px 0px 100px",threshold:0},l[0]=S,l[1]=_):_=l[1];let[k,N]=t_(_,x),E,D;if(l[2]!==g||l[3]!==b?(E=()=>{let e;return g&&b?e=setTimeout(()=>{w(b)},g):w(b),()=>{e&&clearTimeout(e)}},D=[b,g],l[2]=g,l[3]=b,l[4]=E,l[5]=D):(E=l[4],D=l[5]),(0,s.useEffect)(E,D),l[6]!==(null==N?void 0:N.isIntersecting)||l[7]!==x?(t=()=>{x||C((null==N?void 0:N.isIntersecting)?"top":"bottom")},l[6]=null==N?void 0:N.isIntersecting,l[7]=x,l[8]=t):t=l[8],l[9]!==N||l[10]!==x?(n=[N,x],l[9]=N,l[10]=x,l[11]=n):n=l[11],(0,s.useEffect)(t,n),l[12]!==v||l[13]!==i||l[14]!==c||l[15]!==j||l[16]!==d||l[17]!==k||l[18]!==y||l[19]!==x){var P;let e=y&&"tooltip--show",t="tooltip--caret-".concat(v),n="tooltip--position-".concat(d||j),o;l[21]!==c||l[22]!==e||l[23]!==t||l[24]!==n?(o=["tooltip",c,e,t,n].filter(Boolean),l[21]=c,l[22]=e,l[23]=t,l[24]=n,l[25]=o):o=l[25],a=(0,f.jsxs)(s.Fragment,{children:[!x&&(0,f.jsx)("aside",{"aria-hidden":"true",className:["tooltip",c,"tooltip--caret-".concat(v),"tooltip--position-top"].filter(Boolean).join(" "),ref:k,style:{opacity:"0"},children:(0,f.jsx)("div",{className:"tooltip-content",children:i})}),(0,f.jsx)("aside",{className:o.join(" "),title:"string"==typeof(P=i)?P:"",children:(0,f.jsx)("div",{className:"tooltip-content",children:i})})]}),l[12]=v,l[13]=i,l[14]=c,l[15]=j,l[16]=d,l[17]=k,l[18]=y,l[19]=x,l[20]=a}else a=l[20];return a},tT={chevron:ti,edit:ts,link:tc,plus:tu,swap:td,x:d.a},tR=e=>{let{children:t,icon:n,showTooltip:a,tooltip:l}=e,o=tT[n];return(0,f.jsxs)(s.Fragment,{children:[l&&(0,f.jsx)(tP,{className:"".concat("btn","__tooltip"),show:a,children:l}),(0,f.jsxs)("span",{className:"".concat("btn","__content"),children:[t&&(0,f.jsx)("span",{className:"".concat("btn","__label"),children:t}),n&&(0,f.jsxs)("span",{className:"".concat("btn","__icon"),children:[(0,s.isValidElement)(n)&&n,o&&(0,f.jsx)(o,{})]})]})]})},tO=e=>{let{id:t,type:n="button","aria-label":a,buttonStyle:l="primary",children:o,className:r,disabled:i,el:c="button",enableSubMenu:u,icon:d,iconPosition:p="right",iconStyle:h="without-border",margin:m=!0,newTab:v,onClick:g,onMouseDown:b,ref:x,round:y,size:w="medium",SubMenuPopupContent:j,to:C,tooltip:S,url:_}=e,[k,N]=s.useState(!1),E=["btn",r&&r,d&&"".concat("btn","--icon"),h&&"".concat("btn","--icon-style-").concat(h),d&&!o&&"".concat("btn","--icon-only"),w&&"".concat("btn","--size-").concat(w),d&&p&&"".concat("btn","--icon-position-").concat(p),S&&"".concat("btn","--has-tooltip"),!j&&"".concat("btn","--withoutPopup"),!m&&"".concat("btn","--no-margin")].filter(Boolean).join(" "),D=[l&&"".concat("btn","--style-").concat(l),i&&"".concat("btn","--disabled"),y&&"".concat("btn","--round"),j?"".concat("btn","--withPopup"):"".concat("btn","--withoutPopup")].filter(Boolean).join(" "),P={id:t,type:n,"aria-disabled":i,"aria-label":a,className:j?E:[E,D].join(" "),disabled:i,onClick:i?void 0:function(e){N(!1),"submit"!==n&&g&&e.preventDefault(),g&&g(e)},onMouseDown:i?void 0:b,onPointerEnter:S?()=>N(!0):void 0,onPointerLeave:S?()=>N(!1):void 0,rel:v?"noopener noreferrer":void 0,target:v?"_blank":void 0,title:a},T,R;switch(c){case"anchor":T=(0,f.jsx)("a",{...P,href:i?void 0:_,ref:x,children:(0,f.jsx)(tR,{icon:d,showTooltip:k,tooltip:S,children:o})});break;case"link":i&&(T=(0,f.jsx)("div",{...P,children:(0,f.jsx)(tR,{icon:d,showTooltip:k,tooltip:S,children:o})})),T=(0,f.jsx)(tl,{...P,href:C||_,prefetch:R,children:(0,f.jsx)(tR,{icon:d,showTooltip:k,tooltip:S,children:o})});break;default:T=(0,f.jsx)(c,{ref:x,...P,children:(0,f.jsx)(tR,{icon:d,showTooltip:k,tooltip:S,children:o})})}return j?(0,f.jsxs)("div",{className:D,children:[T,(0,f.jsx)(tD,{button:(0,f.jsx)(ti,{}),buttonSize:w,className:i&&!u?"".concat("btn","--popup-disabled"):"",disabled:i&&!u,horizontalAlign:"right",id:"".concat(t,"-popup"),noBackground:!0,render:e=>{let{close:t}=e;return j({close:()=>t()})},size:"large",verticalAlign:"bottom"})]}):T};function tL(e){let{fieldsFromClipboard:t,fieldsFromConfig:n}=e;return!!n&&t.length===(null==n?void 0:n.length)&&t.every((e,t)=>{let a=n[t];if(e.type!==a.type||(0,b.j7)(e)&&(0,b.j7)(a)&&e.name!==a.name)return!1;let l=(0,b.uV)(a),o=(0,b.uV)(e);return o===l&&(!o||!l||tL({fieldsFromClipboard:e.fields,fieldsFromConfig:a.fields}))})}var tF="_payloadClipboard";function tI(e){let{getDataToCopy:t,t:n,...a}=e,l={data:t(),...a};try{return localStorage.setItem(tF,JSON.stringify(l)),!0}catch(e){return n("error:unableToCopy")}}function tA(e){let t,{onPaste:n,path:a,t:l,...o}=e;try{let e=localStorage.getItem(tF);if(!e)return l("error:invalidClipboardData");t=JSON.parse(e)}catch(e){return l("error:invalidClipboardData")}return!function(e){let{data:t,path:n,...a}=e;return!(typeof t>"u")&&!!n&&!!a.type&&("blocks"===a.type?function(e){let{blocksFromClipboard:t,blocksFromConfig:n}=e,a=new Map(null==n?void 0:n.map(e=>[e.slug,e]));if(!a.size)return!1;let l=new Set;for(let e of t){let t=e.slug;if(!l.has(t)){let n=a.get(t);if(!n||!tL({fieldsFromClipboard:e.fields,fieldsFromConfig:n.fields}))return!1;l.add(t)}}return!0}({blocksFromClipboard:a.blocks,blocksFromConfig:a.schemaBlocks}):tL({fieldsFromClipboard:a.fields,fieldsFromConfig:a.schemaFields}))}({...t,...o,fieldPath:a})?l("error:invalidClipboardData"):(n(t),!0)}var tM=e=>{let{className:t}=e;return(0,f.jsxs)("svg",{className:["icon icon--more",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{className:"fill",d:"M10 10.6666C10.3682 10.6666 10.6667 10.3682 10.6667 9.99998C10.6667 9.63179 10.3682 9.33331 10 9.33331C9.63182 9.33331 9.33334 9.63179 9.33334 9.99998C9.33334 10.3682 9.63182 10.6666 10 10.6666Z",strokeLinecap:"square"}),(0,f.jsx)("path",{className:"fill",d:"M14.6667 10.6666C15.0349 10.6666 15.3333 10.3682 15.3333 9.99998C15.3333 9.63179 15.0349 9.33331 14.6667 9.33331C14.2985 9.33331 14 9.63179 14 9.99998C14 10.3682 14.2985 10.6666 14.6667 10.6666Z",strokeLinecap:"square"}),(0,f.jsx)("path",{className:"fill",d:"M5.33334 10.6666C5.70153 10.6666 6.00001 10.3682 6.00001 9.99998C6.00001 9.63179 5.70153 9.33331 5.33334 9.33331C4.96515 9.33331 4.66667 9.63179 4.66667 9.99998C4.66667 10.3682 4.96515 10.6666 5.33334 10.6666Z",strokeLinecap:"square"})]})},tB=()=>(0,f.jsx)("svg",{className:"icon icon--copy",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M4.66666 12.6667C3.93333 12.6667 3.33333 12.0667 3.33333 11.3333V4.66668C3.33333 3.93334 3.93333 3.33334 4.66666 3.33334H11.3333C12.0667 3.33334 12.6667 3.93334 12.6667 4.66668M8.66666 7.33334H15.3333C16.0697 7.33334 16.6667 7.9303 16.6667 8.66668V15.3333C16.6667 16.0697 16.0697 16.6667 15.3333 16.6667H8.66666C7.93028 16.6667 7.33333 16.0697 7.33333 15.3333V8.66668C7.33333 7.9303 7.93028 7.33334 8.66666 7.33334Z",strokeLinecap:"square"})}),tz=e=>{let t=(0,h.c)(4),{isPaste:n,isRow:a}=e,{t:l}=(0,d.d)(),o;if(t[0]!==n||t[1]!==a||t[2]!==l){let e=l("general:copyField");!a&&n?e=l("general:pasteField"):a&&!n?e=l("general:copyRow"):a&&n&&(e=l("general:pasteRow")),o=(0,f.jsxs)(s.Fragment,{children:[n?(0,f.jsx)(ts,{}):(0,f.jsx)(tB,{})," ",e]}),t[0]=n,t[1]=a,t[2]=l,t[3]=o}else o=t[3];return o},tU=e=>{let t,n=(0,h.c)(40),a,l,o,r,i,s,c,u,p,m;n[0]!==e?({allowCopy:a,allowPaste:l,className:o,copyClassName:r,disabled:i,isRow:s,onPaste:c,pasteClassName:u,path:p,...m}=e,n[0]=e,n[1]=a,n[2]=l,n[3]=o,n[4]=r,n[5]=i,n[6]=s,n[7]=c,n[8]=u,n[9]=p,n[10]=m):(a=n[1],l=n[2],o=n[3],r=n[4],i=n[5],s=n[6],c=n[7],u=n[8],p=n[9],m=n[10]);let{t:v}=(0,d.d)(),g;n[11]!==o?(g=["".concat("clipboard-action","__popup"),o].filter(Boolean),n[11]=o,n[12]=g):g=n[12];let b=g.join(" "),x;n[13]!==p||n[14]!==m||n[15]!==v?(x=()=>{let e=tI({path:p,t:v,...m});"string"==typeof e?e3.error(e):e3.success(v("general:copied"))},n[13]=p,n[14]=m,n[15]=v,n[16]=x):x=n[16];let y=x,w;n[17]!==c||n[18]!==p||n[19]!==m||n[20]!==v?(w=()=>{let e=tA("array"===m.type?{onPaste:c,path:p,schemaFields:m.fields,t:v}:{onPaste:c,path:p,schemaBlocks:m.blocks,t:v});"string"==typeof e&&e3.error(e)},n[17]=c,n[18]=p,n[19]=m,n[20]=v,n[21]=w):w=n[21];let j=w;if(!l&&!a)return null;if(n[22]!==a||n[23]!==l||n[24]!==b||n[25]!==r||n[26]!==i||n[27]!==y||n[28]!==j||n[29]!==s||n[30]!==u){let e;n[32]!==a||n[33]!==l||n[34]!==r||n[35]!==y||n[36]!==j||n[37]!==s||n[38]!==u?(e=e=>{let{close:t}=e;return(0,f.jsxs)(tp.ButtonGroup,{children:[(0,f.jsx)(tp.Button,{className:r,disabled:!a,onClick:()=>{y(),t()},children:(0,f.jsx)(tz,{isRow:s})}),(0,f.jsx)(tp.Button,{className:u,disabled:!l,onClick:()=>{j(),t()},children:(0,f.jsx)(tz,{isPaste:!0,isRow:s})})]})},n[32]=a,n[33]=l,n[34]=r,n[35]=y,n[36]=j,n[37]=s,n[38]=u,n[39]=e):e=n[39],t=(0,f.jsx)(tD,{button:(0,f.jsx)(tM,{}),className:b,disabled:i,horizontalAlign:"center",render:e,size:"large",verticalAlign:"bottom"}),n[22]=a,n[23]=l,n[24]=b,n[25]=r,n[26]=i,n[27]=y,n[28]=j,n[29]=s,n[30]=u,n[31]=t}else t=n[31];return t};function tV(e){let{formState:t,path:n,rowIndex:a}=e,l={},o="number"!=typeof a?n:"".concat(n,".").concat(a);for(let e in t){if(!e.startsWith(o))continue;let{customComponents:n,validate:a,...r}=t[e];Array.isArray(r.rows)&&(r.rows=r.rows.map(e=>{if(!e||"object"!=typeof e)return e;let{customComponents:t,...n}=e;return n})),l[e]=r}return l}function tH(e){var t,n,a;let l,{dataFromClipboard:o,formState:r,path:i,rowIndex:s}=e,{type:c,data:u,path:d,rowIndex:p}=o,f="number"!=typeof p,h="number"!=typeof s,m=!f&&h,v="array"===c,g;if(g=f&&h?d:f?"".concat(d,".").concat(s):"".concat(d,".").concat(p),l=h?m?"".concat(i,".0"):i:"".concat(i,".").concat(s),m){let e="".concat(i,".0"),n=u["".concat(g,".id")].value,a=null===(t=r[i].rows)||void 0===t?void 0:t.length;for(let t in r[i].rows=[{...a&&v?r[i].rows[0]:{},id:n,isLoading:!1,lastRenderedPath:e}],r[i].value=1,r[i].initialValue=1,r[i].disableFormData=!0,r)t!==i&&!t.startsWith(e)&&t.startsWith(i)&&delete r[t]}for(let e in u){if(!h&&e.endsWith(".id")||!e.startsWith(g))continue;let t=e.replace(g,l),o=v?null===(n=r[t])||void 0===n?void 0:n.customComponents:void 0,i=v?null===(a=r[t])||void 0===a?void 0:a.validate:void 0;r[t]={customComponents:o,validate:i,...u[e]}}return r}function tq(e){var t,n;let a;return e?"[object Window]"===(a=Object.prototype.toString.call(e))||"[object global]"===a?e:"nodeType"in e&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}var tW="u">typeof window&&"u">typeof window.document&&"u">typeof window.document.createElement?s.useLayoutEffect:s.useEffect,tK={},tY=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return n.reduce((e,t)=>{for(let[n,a]of Object.entries(t)){let t=e[n];null!=t&&(e[n]=t+-1*a)}return e},{...e})},tG=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[tG.Translate.toString(e),tG.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:a}=e;return t+" "+n+"ms "+a}}});function t$(e,t,n){let a=e.slice();return a.splice(n<0?a.length+n:n,0,a.splice(t,1)[0]),a}function tX(e){return null!==e&&e>=0}var tQ=e=>{let{rects:t,activeIndex:n,overIndex:a,index:l}=e,o=t$(t,a,n),r=t[l],i=o[l];return i&&r?{x:i.left-r.left,y:i.top-r.top,scaleX:i.width/r.width,scaleY:i.height/r.height}:null},tZ="Sortable",tJ=s.createContext({activeIndex:-1,containerId:tZ,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tQ,disabled:{draggable:!1,droppable:!1}});function t0(e){let{children:t,id:n,items:a,strategy:l=tQ,disabled:o=!1}=e,{active:r,dragOverlay:i,droppableRects:c,over:u,measureDroppableContainers:d}=(0,x.Cj)(),p=(0,s.useMemo)(()=>{if(n)return n;let e=null==tK[tZ]?0:tK[tZ]+1;return tK[tZ]=e,tZ+"-"+e},[tZ,n]),f=null!==i.rect,h=(0,s.useMemo)(()=>a.map(e=>"object"==typeof e&&"id"in e?e.id:e),[a]),m=null!=r,v=r?h.indexOf(r.id):-1,g=u?h.indexOf(u.id):-1,b=(0,s.useRef)(h),y=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(h,b.current),w=-1!==g&&-1===v||y,j="boolean"==typeof o?{draggable:o,droppable:o}:o;tW(()=>{y&&m&&d(h)},[y,h,m,d]),(0,s.useEffect)(()=>{b.current=h},[h]);let C=(0,s.useMemo)(()=>({activeIndex:v,containerId:p,disabled:j,disableTransforms:w,items:h,overIndex:g,useDragOverlay:f,sortedRects:h.reduce((e,t,n)=>{let a=c.get(t);return a&&(e[n]=a),e},Array(h.length)),strategy:l}),[v,p,j.draggable,j.droppable,w,h,g,c,f,l]);return s.createElement(tJ.Provider,{value:C},t)}var t1=e=>{let{id:t,items:n,activeIndex:a,overIndex:l}=e;return t$(n,a,l).indexOf(t)},t3=e=>{let{containerId:t,isSorting:n,wasDragging:a,index:l,items:o,newIndex:r,previousItems:i,previousContainerId:s,transition:c}=e;return!!c&&!!a&&(i===o||l!==r)&&(!!n||r!==l&&t===s)},t2={duration:200,easing:"ease"},t6="transform",t5=tG.Transition.toString({property:t6,duration:0,easing:"linear"}),t4={roleDescription:"sortable"};function t8(e){if(!e)return!1;let t=e.data.current;return!!(t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}var t7=[x.g4.Down,x.g4.Right,x.g4.Up,x.g4.Left],t9=(e,t)=>{let{context:{active:n,collisionRect:a,droppableRects:l,droppableContainers:o,over:r,scrollableAncestors:i}}=t;if(t7.includes(e.code)){if(e.preventDefault(),!n||!a)return;let t=[];o.getEnabled().forEach(n=>{if(!n||null!=n&&n.disabled)return;let o=l.get(n.id);if(o)switch(e.code){case x.g4.Down:a.top<o.top&&t.push(n);break;case x.g4.Up:a.top>o.top&&t.push(n);break;case x.g4.Left:a.left>o.left&&t.push(n);break;case x.g4.Right:a.left<o.left&&t.push(n)}});let s=(0,x.ey)({active:n,collisionRect:a,droppableRects:l,droppableContainers:t,pointerCoordinates:null}),c=(0,x._8)(s,"id");if(c===(null==r?void 0:r.id)&&s.length>1&&(c=s[1].id),null!=c){let e=o.get(n.id),t=o.get(c),r=t?l.get(t.id):null,s=null==t?void 0:t.node.current;if(s&&r&&e&&t){let n=(0,x.hI)(s).some((e,t)=>i[t]!==e),l=ne(e,t),o=!!(t8(e)&&t8(t)&&ne(e,t))&&e.data.current.sortable.index<t.data.current.sortable.index,c=n||!l?{x:0,y:0}:{x:o?a.width-r.width:0,y:o?a.height-r.height:0},u={x:r.left,y:r.top};return c.x&&c.y?u:tY(u,c)}}}};function ne(e,t){return!!(t8(e)&&t8(t))&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}var nt=e=>{let t,n,a=(0,h.c)(17),{id:l,disabled:o}=e,r;a[0]===Symbol.for("react.memo_cache_sentinel")?(r={duration:250,easing:"cubic-bezier(0, 0.2, 0.2, 1)"},a[0]=r):r=a[0],a[1]!==o||a[2]!==l?(t={id:l,disabled:o,transition:r},a[1]=o,a[2]=l,a[3]=t):t=a[3];let{attributes:i,isDragging:c,listeners:u,setNodeRef:d,transform:p,transition:f}=function(e){var t,n;let{animateLayoutChanges:a=t3,attributes:l,disabled:o,data:r,getNewIndex:i=t1,id:c,strategy:u,resizeObserverConfig:d,transition:p=t2}=e,{items:f,containerId:h,activeIndex:m,disabled:v,disableTransforms:g,sortedRects:b,overIndex:y,useDragOverlay:w,strategy:j}=(0,s.useContext)(tJ),C="boolean"==typeof o?{draggable:o,droppable:!1}:{draggable:null!=(t=null==o?void 0:o.draggable)?t:v.draggable,droppable:null!=(n=null==o?void 0:o.droppable)?n:v.droppable},S=f.indexOf(c),_=(0,s.useMemo)(()=>({sortable:{containerId:h,index:S,items:f},...r}),[h,r,S,f]),k=(0,s.useMemo)(()=>f.slice(f.indexOf(c)),[f,c]),{rect:N,node:E,isOver:D,setNodeRef:P}=(0,x.Zj)({id:c,data:_,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...d}}),{active:T,activatorEvent:R,activeNodeRect:O,attributes:L,setNodeRef:F,listeners:I,isDragging:A,over:M,setActivatorNodeRef:B,transform:z}=(0,x.O1)({id:c,data:_,attributes:{...t4,...l},disabled:C.draggable}),U=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}(P,F),V=!!T,H=V&&!g&&tX(m)&&tX(y),q=!w&&A,W=q&&H?z:null,K=H?null!=W?W:(null!=u?u:j)({rects:b,activeNodeRect:O,activeIndex:m,overIndex:y,index:S}):null,Y=tX(m)&&tX(y)?i({id:c,items:f,activeIndex:m,overIndex:y}):S,G=null==T?void 0:T.id,$=(0,s.useRef)({activeId:G,items:f,newIndex:Y,containerId:h}),X=f!==$.current.items,Q=a({active:T,containerId:h,isDragging:A,isSorting:V,id:c,index:S,items:f,newIndex:$.current.newIndex,previousItems:$.current.items,previousContainerId:$.current.containerId,transition:p,wasDragging:null!=$.current.activeId}),Z=function(e){let{disabled:t,index:n,node:a,rect:l}=e,[o,r]=(0,s.useState)(null),i=(0,s.useRef)(n);return tW(()=>{if(!t&&n!==i.current&&a.current){let e=l.current;if(e){let t=(0,x.VK)(a.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&r(n)}}n!==i.current&&(i.current=n)},[t,n,a,l]),(0,s.useEffect)(()=>{o&&r(null)},[o]),o}({disabled:!Q,index:S,node:E,rect:N});return(0,s.useEffect)(()=>{V&&$.current.newIndex!==Y&&($.current.newIndex=Y),h!==$.current.containerId&&($.current.containerId=h),f!==$.current.items&&($.current.items=f)},[V,Y,h,f]),(0,s.useEffect)(()=>{if(G===$.current.activeId)return;if(G&&!$.current.activeId){$.current.activeId=G;return}let e=setTimeout(()=>{$.current.activeId=G},50);return()=>clearTimeout(e)},[G]),{active:T,activeIndex:m,attributes:L,data:_,rect:N,index:S,newIndex:Y,items:f,isOver:D,isSorting:V,isDragging:A,listeners:I,node:E,overIndex:y,over:M,setNodeRef:U,setActivatorNodeRef:B,setDroppableNodeRef:P,setDraggableNodeRef:F,transform:null!=Z?Z:K,transition:Z||X&&$.current.newIndex===S?t5:!(q&&!function(e){if(!e)return!1;let{KeyboardEvent:t}=tq(e.target);return t&&e instanceof t}(R)||!p)&&(V||Q)?tG.Transition.toString({...p,property:t6}):void 0}}(t),m=c?"grabbing":"grab",v;a[4]!==m||a[5]!==f?(v={cursor:m,transition:f},a[4]=m,a[5]=f,a[6]=v):v=a[6],a[7]!==i||a[8]!==v?(n={...i,style:v},a[7]=i,a[8]=v,a[9]=n):n=a[9];let g=p&&"translate3d(".concat(p.x,"px, ").concat(p.y,"px, 0)"),b;return a[10]!==c||a[11]!==u||a[12]!==d||a[13]!==n||a[14]!==g||a[15]!==f?(b={attributes:n,isDragging:c,listeners:u,setNodeRef:d,transform:g,transition:f},a[10]=c,a[11]=u,a[12]=d,a[13]=n,a[14]=g,a[15]=f,a[16]=b):b=a[16],b},nn=e=>{let t=(0,h.c)(12),{id:n,children:a,disabled:l}=e,o;t[0]!==l||t[1]!==n?(o={id:n,disabled:l},t[0]=l,t[1]=n,t[2]=o):o=t[2];let{attributes:r,isDragging:i,listeners:c,setNodeRef:u,transform:d,transition:p}=nt(o),m=i?"grabbing":"grab",v;return t[3]!==r||t[4]!==a||t[5]!==i||t[6]!==c||t[7]!==u||t[8]!==m||t[9]!==d||t[10]!==p?(v=(0,f.jsx)(s.Fragment,{children:a({attributes:{...r,style:{cursor:m}},isDragging:i,listeners:c,setNodeRef:u,transform:d,transition:p})}),t[3]=r,t[4]=a,t[5]=i,t[6]=c,t[7]=u,t[8]=m,t[9]=d,t[10]=p,t[11]=v):v=t[11],v},na=e=>{let t,n=(0,h.c)(18),{children:a,className:l,ids:o,onDragEnd:r,onDragStart:i}=e,c=(0,s.useId)(),u;n[0]!==c?(u={id:c},n[0]=c,n[1]=u):u=n[1];let{setNodeRef:d}=(0,x.Zj)(u),p;n[2]===Symbol.for("react.memo_cache_sentinel")?(p={activationConstraint:{distance:5}},n[2]=p):p=n[2],n[3]===Symbol.for("react.memo_cache_sentinel")?(t={coordinateGetter:t9},n[3]=t):t=n[3];let m=(0,x.Dy)((0,x.VT)(x.we,p),(0,x.VT)(x.Lg,t)),v;n[4]!==o||n[5]!==r?(v=e=>{let{active:t,over:n}=e;e.activatorEvent.stopPropagation(),t&&n&&"function"==typeof r&&r({event:e,moveFromIndex:o.findIndex(e=>e===t.id),moveToIndex:o.findIndex(e=>e===n.id)})},n[4]=o,n[5]=r,n[6]=v):v=n[6];let g=v,b;n[7]!==i?(b=e=>{let{active:t}=e;t&&"function"==typeof i&&i({id:t.id,event:e})},n[7]=i,n[8]=b):b=n[8];let y=b,w;return n[9]!==a||n[10]!==l||n[11]!==g||n[12]!==y||n[13]!==c||n[14]!==o||n[15]!==m||n[16]!==d?(w=(0,f.jsx)(x.LB,{collisionDetection:x.pE,id:c,onDragEnd:g,onDragStart:y,sensors:m,children:(0,f.jsx)(t0,{items:o,children:(0,f.jsx)("div",{className:l,ref:d,children:a})})}),n[9]=a,n[10]=l,n[11]=g,n[12]=y,n[13]=c,n[14]=o,n[15]=m,n[16]=d,n[17]=w):w=n[17],w},nl="error-pill",no=e=>{let{className:t,count:n,i18n:a,withMessage:l}=e,o=[nl,!l&&n<99&&"".concat(nl,"--fixed-width"),t&&t].filter(Boolean).join(" ");return 0===n?null:(0,f.jsx)("div",{className:o,children:(0,f.jsxs)("div",{className:"".concat(nl,"__content"),children:[(0,f.jsx)("span",{className:"".concat(nl,"__count"),children:n}),l&&" ".concat(n>1?a.t("general:errors"):a.t("general:error"))]})})},nr="field-description",ni=e=>{let t=(0,h.c)(8),{className:n,description:a,marginPlacement:l,path:o}=e,{i18n:r}=(0,d.d)();if(a){let e="field-description-".concat(null==o?void 0:o.replace(/\./g,"__")),i=l&&"".concat(nr,"--margin-").concat(l),s;t[0]!==n||t[1]!==e||t[2]!==i?(s=[nr,n,e,i].filter(Boolean),t[0]=n,t[1]=e,t[2]=i,t[3]=s):s=t[3];let c=s.join(" "),u;return t[4]!==a||t[5]!==r||t[6]!==c?(u=(0,f.jsx)("div",{className:c,children:(0,m.i)(a,r)}),t[4]=a,t[5]=r,t[6]=c,t[7]=u):u=t[7],u}return null},ns=e=>{let t=(0,h.c)(7),{alignCaret:n,message:a,path:l,showError:o}=e,r=void 0===n?"right":n,i=eO(),s;t[0]!==l?(s=e=>{let[t]=e;return t&&(null==t?void 0:t[l])||null},t[0]=l,t[1]=s):s=t[1];let c=eM(s),u;t[2]!==c?(u=c||{},t[2]=c,t[3]=u):u=t[3];let{errorMessage:d,valid:p}=u,m=a||d;if((o||i&&!1===p)&&(null==m?void 0:m.length)){let e;return t[4]!==r||t[5]!==m?(e=(0,f.jsx)(tP,{alignCaret:r,className:"field-error",delay:0,staticPositioning:!0,children:m}),t[4]=r,t[5]=m,t[6]=e):e=t[6],e}return null},nc=(0,s.createContext)(0),nu=e=>{let t=(0,h.c)(3),{children:n}=e,a=nd()+1,l;return t[0]!==n||t[1]!==a?(l=(0,f.jsx)(nc,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},nd=()=>(0,s.use)(nc),np=(e,t)=>(null==e?void 0:e.locales)&&0!==e.locales.length?e.locales.find(e=>(null==e?void 0:e.code)===t):null;function nf(){return(nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(null,arguments)}function nh(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}function nm(e,t){return(nm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,nm(e,t)}function ng(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var nb={disabled:!1},nx=s.createContext(null),ny=function(e){return e.scrollTop},nw="unmounted",nj="exited",nC="entering",nS="entered",n_="exiting",nk=function(e){function t(t,n){a=e.call(this,t,n)||this;var a,l,o=n&&!n.isMounting?t.enter:t.appear;return a.appearStatus=null,t.in?o?(l=nj,a.appearStatus=nC):l=nS:l=t.unmountOnExit||t.mountOnEnter?nw:nj,a.state={status:l},a.nextCallback=null,a}nv(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===nw?{status:nj}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==nC&&n!==nS&&(t=nC):(n===nC||n===nS)&&(t=n_)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,a=this.props.timeout;return e=t=n=a,null!=a&&"number"!=typeof a&&(e=a.exit,t=a.enter,n=void 0!==a.appear?a.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){if(this.cancelNextCallback(),t===nC){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:c.findDOMNode(this);n&&ny(n)}this.performEnter(e)}else this.performExit()}else this.props.unmountOnExit&&this.state.status===nj&&this.setState({status:nw})},n.performEnter=function(e){var t=this,n=this.props.enter,a=this.context?this.context.isMounting:e,l=this.props.nodeRef?[a]:[c.findDOMNode(this),a],o=l[0],r=l[1],i=this.getTimeouts(),s=a?i.appear:i.enter;if(!e&&!n||nb.disabled){this.safeSetState({status:nS},function(){t.props.onEntered(o)});return}this.props.onEnter(o,r),this.safeSetState({status:nC},function(){t.props.onEntering(o,r),t.onTransitionEnd(s,function(){t.safeSetState({status:nS},function(){t.props.onEntered(o,r)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),a=this.props.nodeRef?void 0:c.findDOMNode(this);if(!t||nb.disabled){this.safeSetState({status:nj},function(){e.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:n_},function(){e.props.onExiting(a),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:nj},function(){e.props.onExited(a)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(a){n&&(n=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:c.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(!n||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=l[0],r=l[1];this.props.addEndListener(o,r)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===nw)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,nh(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return s.createElement(nx.Provider,{value:null},"function"==typeof n?n(e,a):s.cloneElement(s.Children.only(n),a))},t}(s.Component);function nN(){}nk.contextType=nx,nk.propTypes={},nk.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:nN,onEntering:nN,onEntered:nN,onExit:nN,onExiting:nN,onExited:nN},nk.UNMOUNTED=nw,nk.EXITED=nj,nk.ENTERING=nC,nk.ENTERED=nS,nk.EXITING=n_;var nE=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=ng(e.className,t):e.setAttribute("class",ng(e.className&&e.className.baseVal||"",t))})},nD=function(e){function t(){for(var t,n=arguments.length,a=Array(n),l=0;l<n;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1];t.removeClasses(l,"exit"),t.addClass(l,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1];t.addClass(l,o?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var a=t.resolveArguments(e,n),l=a[0],o=a[1]?"appear":"enter";t.removeClasses(l,o),t.addClass(l,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,a="string"==typeof n,l=a?(a&&n?n+"-":"")+e:n[e],o=a?l+"-active":n[e+"Active"],r=a?l+"-done":n[e+"Done"];return{baseClassName:l,activeClassName:o,doneClassName:r}},t}nv(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var a,l=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(l+=" "+o),"active"===n&&e&&ny(e),l&&(this.appliedClasses[t][n]=l,a=l,e&&a&&a.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],a=n.base,l=n.active,o=n.done;this.appliedClasses[t]={},a&&nE(e,a),l&&nE(e,l),o&&nE(e,o)},n.render=function(){var e=this.props,t=(e.classNames,nh(e,["classNames"]));return s.createElement(nk,nf({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(s.Component);nD.defaultProps={classNames:""},nD.propTypes={};var nP=(0,s.createContext)({}),nT=()=>(0,s.useContext)(nP),nR=e=>e?{appear:"".concat(e,"--appear"),appearActive:"".concat(e,"--appearActive"),appearDone:"".concat(e,"--appearDone"),enter:"".concat(e,"--enter"),enterActive:"".concat(e,"--enterActive"),enterDone:"".concat(e,"--enterDone"),exit:"".concat(e,"--exit"),exitActive:"".concat(e,"--exitActive"),exitDone:"".concat(e,"--exitDone")}:{};function nO(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function nL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nO(Object(n),!0).forEach(function(t){var a,l;a=t,l=n[t],(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a))in e?Object.defineProperty(e,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[a]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}(0,d.j)();var nF={activateTrap:function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n.pause()}var a=e.indexOf(t);-1===a||e.splice(a,1),e.push(t)},deactivateTrap:function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},nI=function(e){return(null==e?void 0:e.key)==="Tab"||(null==e?void 0:e.keyCode)===9},nA=function(e){return nI(e)&&!e.shiftKey},nM=function(e){return nI(e)&&e.shiftKey},nB=function(e){return setTimeout(e,0)},nz=function(e,t){var n=-1;return e.every(function(e,a){return!t(e)||(n=a,!1)}),n},nU=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return"function"==typeof e?e.apply(void 0,n):e},nV=function(e){return e.target.shadowRoot&&"function"==typeof e.composedPath?e.composedPath()[0]:e.target},nH=[],nq=function(e,t){var n,a=(null==t?void 0:t.document)||document,l=(null==t?void 0:t.trapStack)||nH,o=nL({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:nA,isKeyBackward:nM},t),r={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},i=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},s=function(e,t){var n="function"==typeof(null==t?void 0:t.composedPath)?t.composedPath():void 0;return r.containerGroups.findIndex(function(t){var a=t.container,l=t.tabbableNodes;return a.contains(e)||(null==n?void 0:n.includes(a))||l.find(function(t){return t===e})})},c=function(e){var t=o[e];if("function"==typeof t){for(var n=arguments.length,l=Array(n>1?n-1:0),r=1;r<n;r++)l[r-1]=arguments[r];t=t.apply(void 0,l)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var i=t;if("string"==typeof t&&!(i=a.querySelector(t)))throw Error("`".concat(e,"` as selector refers to no known node"));return i},u=function(){var e=c("initialFocus");if(!1===e)return!1;if(void 0===e||!(0,d.i)(e,o.tabbableOptions)){if(s(a.activeElement)>=0)e=a.activeElement;else{var t=r.tabbableGroups[0];e=t&&t.firstTabbableNode||c("fallbackFocus")}}if(!e)throw Error("Your focus-trap needs to have at least one focusable element");return e},p=function(){if(r.containerGroups=r.containers.map(function(e){var t=(0,d.f)(e,o.tabbableOptions),n=(0,d.g)(e,o.tabbableOptions),a=t.length>0?t[0]:void 0,l=t.length>0?t[t.length-1]:void 0,r=n.find(function(e){return(0,d.h)(e)}),i=n.slice().reverse().find(function(e){return(0,d.h)(e)}),s=!!t.find(function(e){return(0,d.e)(e)>0});return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:s,firstTabbableNode:a,lastTabbableNode:l,firstDomTabbableNode:r,lastDomTabbableNode:i,nextTabbableNode:function(e){var a=!(arguments.length>1)||void 0===arguments[1]||arguments[1],l=t.indexOf(e);return l<0?a?n.slice(n.indexOf(e)+1).find(function(e){return(0,d.h)(e)}):n.slice(0,n.indexOf(e)).reverse().find(function(e){return(0,d.h)(e)}):t[l+(a?1:-1)]}}}),r.tabbableGroups=r.containerGroups.filter(function(e){return e.tabbableNodes.length>0}),r.tabbableGroups.length<=0&&!c("fallbackFocus"))throw Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(r.containerGroups.find(function(e){return e.posTabIndexesFound})&&r.containerGroups.length>1)throw Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},f=function e(t){var n=t.activeElement;if(n)return n.shadowRoot&&null!==n.shadowRoot.activeElement?e(n.shadowRoot):n},h=function e(t){if(!1!==t&&t!==f(document)){if(!t||!t.focus){e(u());return}t.focus({preventScroll:!!o.preventScroll}),r.mostRecentlyFocusedNode=t,t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select&&t.select()}},m=function(e){var t=c("setReturnFocus",e);return t||!1!==t&&e},v=function(e){var t=e.target,n=e.event,a=e.isBackward,l=void 0!==a&&a;t=t||nV(n),p();var i=null;if(r.tabbableGroups.length>0){var u=s(t,n),f=u>=0?r.containerGroups[u]:void 0;if(u<0)i=l?r.tabbableGroups[r.tabbableGroups.length-1].lastTabbableNode:r.tabbableGroups[0].firstTabbableNode;else if(l){var h=nz(r.tabbableGroups,function(e){var n=e.firstTabbableNode;return t===n});if(h<0&&(f.container===t||(0,d.i)(t,o.tabbableOptions)&&!(0,d.h)(t,o.tabbableOptions)&&!f.nextTabbableNode(t,!1))&&(h=u),h>=0){var m=0===h?r.tabbableGroups.length-1:h-1,v=r.tabbableGroups[m];i=(0,d.e)(t)>=0?v.lastTabbableNode:v.lastDomTabbableNode}else nI(n)||(i=f.nextTabbableNode(t,!1))}else{var g=nz(r.tabbableGroups,function(e){var n=e.lastTabbableNode;return t===n});if(g<0&&(f.container===t||(0,d.i)(t,o.tabbableOptions)&&!(0,d.h)(t,o.tabbableOptions)&&!f.nextTabbableNode(t))&&(g=u),g>=0){var b=g===r.tabbableGroups.length-1?0:g+1,x=r.tabbableGroups[b];i=(0,d.e)(t)>=0?x.firstTabbableNode:x.firstDomTabbableNode}else nI(n)||(i=f.nextTabbableNode(t))}}else i=c("fallbackFocus");return i},g=function(e){if(!(s(nV(e),e)>=0)){if(nU(o.clickOutsideDeactivates,e)){n.deactivate({returnFocus:o.returnFocusOnDeactivate});return}nU(o.allowOutsideClick,e)||e.preventDefault()}},b=function(e){var t=nV(e),n=s(t,e)>=0;if(n||t instanceof Document)n&&(r.mostRecentlyFocusedNode=t);else{e.stopImmediatePropagation();var a,l=!0;if(r.mostRecentlyFocusedNode){if((0,d.e)(r.mostRecentlyFocusedNode)>0){var i=s(r.mostRecentlyFocusedNode),c=r.containerGroups[i].tabbableNodes;if(c.length>0){var p=c.findIndex(function(e){return e===r.mostRecentlyFocusedNode});p>=0&&(o.isKeyForward(r.recentNavEvent)?p+1<c.length&&(a=c[p+1],l=!1):p-1>=0&&(a=c[p-1],l=!1))}}else r.containerGroups.some(function(e){return e.tabbableNodes.some(function(e){return(0,d.e)(e)>0})})||(l=!1)}else l=!1;l&&(a=v({target:r.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(r.recentNavEvent)})),h(a||r.mostRecentlyFocusedNode||u())}r.recentNavEvent=void 0},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r.recentNavEvent=e;var n=v({event:e,isBackward:t});n&&(nI(e)&&e.preventDefault(),h(n))},y=function(e){if(((null==e?void 0:e.key)==="Escape"||(null==e?void 0:e.key)==="Esc"||(null==e?void 0:e.keyCode)===27)&&!1!==nU(o.escapeDeactivates,e)){e.preventDefault(),n.deactivate();return}(o.isKeyForward(e)||o.isKeyBackward(e))&&x(e,o.isKeyBackward(e))},w=function(e){s(nV(e),e)>=0||nU(o.clickOutsideDeactivates,e)||nU(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},j=function(){if(r.active)return nF.activateTrap(l,n),r.delayInitialFocusTimer=o.delayInitialFocus?nB(function(){h(u())}):h(u()),a.addEventListener("focusin",b,!0),a.addEventListener("mousedown",g,{capture:!0,passive:!1}),a.addEventListener("touchstart",g,{capture:!0,passive:!1}),a.addEventListener("click",w,{capture:!0,passive:!1}),a.addEventListener("keydown",y,{capture:!0,passive:!1}),n},C=function(){if(r.active)return a.removeEventListener("focusin",b,!0),a.removeEventListener("mousedown",g,!0),a.removeEventListener("touchstart",g,!0),a.removeEventListener("click",w,!0),a.removeEventListener("keydown",y,!0),n},S="u">typeof window&&"MutationObserver"in window?new MutationObserver(function(e){e.some(function(e){return Array.from(e.removedNodes).some(function(e){return e===r.mostRecentlyFocusedNode})})&&h(u())}):void 0,_=function(){S&&(S.disconnect(),r.active&&!r.paused&&r.containers.map(function(e){S.observe(e,{subtree:!0,childList:!0})}))};return(n={get active(){return r.active},get paused(){return r.paused},activate:function(e){if(r.active)return this;var t=i(e,"onActivate"),n=i(e,"onPostActivate"),l=i(e,"checkCanFocusTrap");l||p(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=a.activeElement,null==t||t();var o=function(){l&&p(),j(),_(),null==n||n()};return l?l(r.containers.concat()).then(o,o):o(),this},deactivate:function(e){if(!r.active)return this;var t=nL({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(r.delayInitialFocusTimer),r.delayInitialFocusTimer=void 0,C(),r.active=!1,r.paused=!1,_(),nF.deactivateTrap(l,n);var a=i(t,"onDeactivate"),s=i(t,"onPostDeactivate"),c=i(t,"checkCanReturnFocus"),u=i(t,"returnFocus","returnFocusOnDeactivate");null==a||a();var d=function(){nB(function(){u&&h(m(r.nodeFocusedBeforeActivation)),null==s||s()})};return u&&c?c(m(r.nodeFocusedBeforeActivation)).then(d,d):d(),this},pause:function(e){if(r.paused||!r.active)return this;var t=i(e,"onPause"),n=i(e,"onPostPause");return r.paused=!0,null==t||t(),C(),_(),null==n||n(),this},unpause:function(e){if(!r.paused||!r.active)return this;var t=i(e,"onUnpause"),n=i(e,"onPostUnpause");return r.paused=!1,null==t||t(),p(),j(),_(),null==n||n(),this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return r.containers=t.map(function(e){return"string"==typeof e?a.querySelector(e):e}),r.active&&p(),_(),this}}).updateContainerElements(e),n},nW=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n},nK="modal-item",nY=(l=e=>{let{children:t}=e;return t?"function"==typeof t?(0,f.jsx)(s.Fragment,{children:t(e)}):(0,f.jsx)(s.Fragment,{children:t}):null},e=>{let t=nT(),n=(0,s.useRef)(null),[a,r]=(0,s.useState)(!1),i=(0,s.useRef)(!1),[u,d]=(0,s.useState)(null),{modalState:p,classPrefix:h,containerRef:m,transTime:v,setCloseOnBlur:g,setBodyScrollLock:b,openModal:x}=t,{className:y,htmlElement:w="dialog",slug:j="",closeOnBlur:C=!0,lockBodyScroll:S=!0,classPrefix:_,onEnter:k,onEntering:N,onEntered:E,onExit:D,onExiting:P,onExited:T,openOnInit:R,trapFocus:O=!0,focusTrapOptions:L={}}=e,F=nW(e,["className","htmlElement","slug","closeOnBlur","lockBodyScroll","classPrefix","onEnter","onEntering","onEntered","onExit","onExiting","onExited","openOnInit","trapFocus","focusTrapOptions"]),I=_||h,A=o||j,M=p[A]&&p[A].isOpen;(0,s.useEffect)(()=>{if(O){let e=n.current;!1===i.current&&e&&(d(nq(e,Object.assign(Object.assign({},L),{fallbackFocus:(null==L?void 0:L.fallbackFocus)||e,allowOutsideClick:!("u">typeof L.allowOutsideClick)||L.allowOutsideClick}))),i.current=!0)}},[O,a,L]),(0,s.useEffect)(()=>{r(!0)},[]),(0,s.useEffect)(()=>(u&&(M?u.activate():u.deactivate()),()=>{u&&u.deactivate()}),[M,u]),(0,s.useEffect)(()=>{M&&g(C)},[M,C,g]),(0,s.useEffect)(()=>{let e=n.current;return e&&b(!!(M&&S),e),()=>{e&&b(!1,e)}},[M,S,b]);let[B,z]=(0,s.useState)(M);if((0,s.useEffect)(()=>{M?z(M):setTimeout(()=>z(!1),v)},[M,v]),(0,s.useEffect)(()=>{R&&x(A)},[A,R,x]),m.current){let a=I?"".concat(I,"__").concat(nK):nK,o=[a,"".concat(a,"--slug-").concat(A),y].filter(Boolean).join(" "),r=Object.assign({role:"dialog"!==w?"dialog":void 0,open:"dialog"===w?B||M:void 0,"aria-modal":!0,"aria-label":F["aria-labelledby"]?void 0:A},F);return c.createPortal((0,f.jsx)(nD,{nodeRef:n,timeout:v,in:M,classNames:nR(a),appear:!0,onEnter:k,onEntering:N,onEntered:E,onExit:D,onExiting:P,onExited:T,children:(0,f.jsx)(w,Object.assign({ref:n,id:(null==F?void 0:F.id)||A,className:o},r,{children:(0,f.jsx)(l,Object.assign({},e,{isOpen:M,modal:t}))}))}),m.current)}return null}),nG=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>t.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]]);return n},n$="modal-container",nX=e=>{let{oneModalIsOpen:t,classPrefix:n,transTime:a,setContainerRef:l,containerRef:o,closeAllModals:r,closeOnBlur:i}=nT(),{className:s,htmlElement:c="div",children:u,onClick:d}=e,p=nG(e,["className","htmlElement","children","onClick"]),h=n?"".concat(n,"__").concat(n$):n$,m=[h,s].filter(Boolean).join(" "),v=Object.assign(Object.assign({},p),{onClick:e=>{i&&r(),"function"==typeof d&&d(e)}});return(0,f.jsx)(nD,{nodeRef:o,in:t,timeout:a,classNames:nR(h),appear:!0,children:(0,f.jsx)(c,Object.assign({className:m,ref:l},v,{children:u&&u}))})},nQ=!1;"u">typeof window&&(nJ={get passive(){nQ=!0}},window.addEventListener("testPassive",null,nJ),window.removeEventListener("testPassive",null,nJ));var nZ,nJ,n0="u">typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),n1=[],n3=!1,n2=-1,n6=void 0,n5=void 0,n4=void 0,n8=function(e){return n1.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},n7=function(e){var t=e||window.event;return!!n8(t.target)||t.touches.length>1||(t.preventDefault&&t.preventDefault(),!1)},n9=function(e){if(void 0===n4){var t=!!e&&!0===e.reserveScrollBarGap,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var a=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);n4=document.body.style.paddingRight,document.body.style.paddingRight=a+n+"px"}}void 0===n6&&(n6=document.body.style.overflow,document.body.style.overflow="hidden")},ae=function(){void 0!==n4&&(document.body.style.paddingRight=n4,n4=void 0),void 0!==n6&&(document.body.style.overflow=n6,n6=void 0)},at=function(){if(void 0!==n5){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=n5.position,document.body.style.top=n5.top,document.body.style.left=n5.left,window.scrollTo(t,e),n5=void 0}},an=function(e,t){var n=e.targetTouches[0].clientY-n2;return!n8(e.target)&&(t&&0===t.scrollTop&&n>0||t&&t.scrollHeight-t.scrollTop<=t.clientHeight&&n<0?n7(e):(e.stopPropagation(),!0))},aa=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}!n1.some(function(t){return t.targetElement===e})&&(n1=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(n1),[{targetElement:e,options:t||{}}]),n0?window.requestAnimationFrame(function(){if(void 0===n5){n5={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,a=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t,document.body.style.left=-n,setTimeout(function(){return window.requestAnimationFrame(function(){var e=a-window.innerHeight;e&&t>=a&&(document.body.style.top=-(t+e))})},300)}}):n9(t),n0&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(n2=e.targetTouches[0].clientY)},e.ontouchmove=function(t){1===t.targetTouches.length&&an(t,e)},n3||(document.addEventListener("touchmove",n7,nQ?{passive:!1}:void 0),n3=!0)))},al=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}n1=n1.filter(function(t){return t.targetElement!==e}),n0&&(e.ontouchstart=null,e.ontouchmove=null,n3&&0===n1.length&&(document.removeEventListener("touchmove",n7,nQ?{passive:!1}:void 0),n3=!1)),n0?at():ae()},ao=e=>{let{classPrefix:t,zIndex:n}=e,a=t?"".concat(t,"__"):"";return"\n    .".concat(a).concat(n$," {\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      position: fixed;\n      pointer-events: none;\n      visibility: hidden;\n      z-index: -1;\n    }\n\n    .").concat(a).concat(n$,"--appear,\n    .").concat(a).concat(n$,"--appearDone,\n    .").concat(a).concat(n$,"--enter,\n    .").concat(a).concat(n$,"--enterDone,\n    .").concat(a).concat(n$,"--exit {\n      pointer-events: all;\n      visibility: visible;\n      z-index: ").concat(n,";\n    }\n\n    .").concat(a).concat(nK," {\n      position: absolute;\n      visibility: hidden;\n    }\n\n    .").concat(a).concat(nK,"--appear,\n    .").concat(a).concat(nK,"--appearDone,\n    .").concat(a).concat(nK,"--enter,\n    .").concat(a).concat(nK,"--enterDone,\n    .").concat(a).concat(nK,"--exit {\n      visibility: visible;\n    }\n  ")},ar=(e,t)=>{let n=Object.assign({},e),{type:a,payload:l}=t;switch(a){case"UPDATE_MODAL":{let{slug:e}=l;e&&(n[e]=Object.assign(Object.assign({},n[e]),l));break}case"OPEN_MODAL":{let{slug:e}=l;e&&(e in n&&n[e].isOpen||(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:Date.now(),isOpen:!0})));break}case"TOGGLE_MODAL":{let{slug:e}=l;if(e){let t=e in n&&n[e].isOpen;n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:t?void 0:Date.now(),isOpen:!t})}break}case"CLOSE_MODAL":{let{slug:e}=l;e&&(n[e]=Object.assign(Object.assign({},n[e]),{slug:e,openedOn:void 0,isOpen:!1}));break}case"REMOVE_MODAL":{let{slug:e}=l;e&&e in n&&delete n[e];break}case"CLOSE_LATEST_MODAL":{let e=Object.keys(n).reduce((e,t)=>{let a=n[t];return a.isOpen&&"number"==typeof a.openedOn&&(!e||"number"==typeof e.openedOn&&a.openedOn>e.openedOn)?a:e},void 0);e&&(n[e.slug]=Object.assign(Object.assign({},n[e.slug]),{isOpen:!1,openedOn:void 0}));break}case"CLOSE_ALL_MODALS":n=Object.entries(n).reduce((e,t)=>{let[n,a]=t;return e[n]=Object.assign(Object.assign({},a),{isOpen:!1,openedOn:void 0}),e},{})}return n},ai=()=>{if("u">typeof window)return new URLSearchParams(window.location.search)},as=()=>{let e=ai(),t=[];if(e){let n=e.get("modal");n&&(t=n.includes(",")?n.split(","):[n])}return t},ac=e=>{let{classPrefix:t,minifyCSS:n=!0,generateCSS:a=!0,zIndex:l=9999,handleParamChange:o,children:r,transTime:i=250}=e,c=(0,s.useRef)(null),[u,d]=(0,s.useReducer)(ar,{},()=>as().reduce((e,t)=>(e[t]={slug:t,isOpen:!0,openedOn:Date.now()},e),{})),[p,h]=(0,s.useState)(!1),[m,v]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[x,y]=(0,s.useState)(""),w=(0,s.useRef)(!1),j=(0,s.useCallback)(e=>{27===e.keyCode&&d({type:"CLOSE_LATEST_MODAL"})},[]);(0,s.useEffect)(()=>(w.current||(document.addEventListener("keydown",e=>j(e),!1),w.current=!0),()=>{w.current&&document.removeEventListener("keydown",e=>j(e),!1)}),[j]),(0,s.useEffect)(()=>{if(a){let e="";e=ao({classPrefix:t,zIndex:l}),n&&(e=e.replace(/\n/g,"").replace(/\s\s+/g," ")),y(e)}},[a,n,l,t]),(0,s.useEffect)(()=>{if("function"==typeof o&&o(u),"boolean"==typeof o&&o){let e=Object.keys(u).filter(e=>u[e].isOpen),t=new URLSearchParams;for(let n of e)t.append("modal",n);let n=t.toString()?"?".concat(t):"",a="".concat(window.location.pathname).concat(n);window.history.pushState({},"",a)}},[u,o]),(0,s.useEffect)(()=>{h(Object.keys(u).some(e=>u[e].isOpen))},[u]);let C=(0,s.useCallback)((e,t)=>{t&&(e?(aa(t),b(!0)):(al(t),b(!1)))},[]),S=(0,s.useCallback)(e=>{c.current=e},[]),_=(0,s.useCallback)(e=>{d({type:"OPEN_MODAL",payload:{slug:e}})},[]),k=(0,s.useCallback)(e=>{d({type:"CLOSE_MODAL",payload:{slug:e}})},[]),N=(0,s.useCallback)(()=>{d({type:"CLOSE_ALL_MODALS"})},[]),E=(0,s.useCallback)(e=>{d({type:"TOGGLE_MODAL",payload:{slug:e}})},[]),D=(0,s.useCallback)(e=>u[e]&&u[e].isOpen,[u]),P=Object.assign({},e);return delete P.children,(0,f.jsxs)(s.Fragment,{children:[a&&(0,f.jsx)("style",{dangerouslySetInnerHTML:{__html:x}}),(0,f.jsx)(nP.Provider,{value:Object.assign(Object.assign({},P),{transTime:i,containerRef:c,modalState:u,oneModalIsOpen:p,isModalOpen:D,closeOnBlur:m,bodyScrollIsLocked:g,classPrefix:t,closeAllModals:N,setCloseOnBlur:v,openModal:_,closeModal:k,toggleModal:E,setBodyScrollLock:C,setContainerRef:S}),children:r})]})},au="gutter",ad=e=>{let{children:t,className:n,left:a=!0,negativeLeft:l=!1,negativeRight:o=!1,ref:r,right:i=!0}=e;return(0,f.jsx)("div",{className:[au,a&&!l&&"".concat(au,"--left"),i&&!o&&"".concat(au,"--right"),l&&"".concat(au,"--negative-left"),o&&"".concat(au,"--negative-right"),n].filter(Boolean).join(" "),ref:r,children:t})},ap=e=>{let t=(0,h.c)(3),n=(0,s.useId)(),a=nd(),l="".concat(e,"-").concat(n),o;return t[0]!==a||t[1]!==l?(o=ah({slug:l,depth:a}),t[0]=a,t[1]=l,t[2]=o):o=t[2],o},af="drawer",ah=e=>{let{slug:t,depth:n}=e;return"drawer_".concat(n,"_").concat(t)},am=e=>{let t=(0,h.c)(17),n,a,l,o,r,i;t[0]!==e?({slug:i,children:n,className:a,disabled:l,onClick:o,...r}=e,t[0]=e,t[1]=n,t[2]=a,t[3]=l,t[4]=o,t[5]=r,t[6]=i):(n=t[1],a=t[2],l=t[3],o=t[4],r=t[5],i=t[6]);let{openModal:s}=nT(),c;t[7]!==o||t[8]!==s||t[9]!==i?(c=e=>{s(i),"function"==typeof o&&o(e)},t[7]=o,t[8]=s,t[9]=i,t[10]=c):c=t[10];let u=c,d;return t[11]!==n||t[12]!==a||t[13]!==l||t[14]!==u||t[15]!==r?(d=(0,f.jsx)("button",{className:a,disabled:l,onClick:u,type:"button",...r,children:n}),t[11]=n,t[12]=a,t[13]=l,t[14]=u,t[15]=r,t[16]=d):d=t[16],d},av=e=>{var t;let n=(0,h.c)(22),{slug:a,children:l,className:o,gutter:r,Header:i,hoverTitle:c,title:u}=e,p=void 0===r||r,{t:m}=(0,d.d)(),{closeModal:v,modalState:g}=nT(),b=ax(),x=!!(null===(t=g[a])||void 0===t?void 0:t.isOpen),[y,w]=(0,s.useState)(x),j,C;if(n[0]!==x?(j=()=>{w(x)},C=[x],n[0]=x,n[1]=j,n[2]=C):(j=n[1],C=n[2]),(0,s.useLayoutEffect)(j,C),x){let e=y&&"".concat(af,"--is-open"),t=b>1&&"".concat(af,"--nested"),r;n[3]!==o||n[4]!==e||n[5]!==t?(r=[o,af,e,t].filter(Boolean),n[3]=o,n[4]=e,n[5]=t,n[6]=r):r=n[6];let s=r.join(" "),h=100+b,g;if(n[7]!==i||n[8]!==l||n[9]!==v||n[10]!==b||n[11]!==p||n[12]!==c||n[13]!==a||n[14]!==m||n[15]!==s||n[16]!==h||n[17]!==u){let e;n[19]!==v||n[20]!==a?(e=()=>v(a),n[19]=v,n[20]=a,n[21]=e):e=n[21],g=(0,f.jsx)(ab,{children:(0,f.jsxs)(nY,{className:s,slug:a,style:{zIndex:h},children:[(!b||1===b)&&(0,f.jsx)("div",{className:"".concat(af,"__blur-bg")}),(0,f.jsx)("button",{"aria-label":m("general:close"),className:"".concat(af,"__close"),id:"close-drawer__".concat(a),onClick:e,type:"button"}),(0,f.jsxs)("div",{className:"".concat(af,"__content"),style:{width:"calc(100% - (".concat(b," * var(--gutter-h)))")},children:[(0,f.jsx)("div",{className:"".concat(af,"__blur-bg-content")}),(0,f.jsxs)(ad,{className:"".concat(af,"__content-children"),left:p,right:p,children:[i,void 0===i&&(0,f.jsxs)("div",{className:"".concat(af,"__header"),children:[(0,f.jsx)("h2",{className:"".concat(af,"__header__title"),title:c?u:null,children:u}),(0,f.jsx)("button",{"aria-label":m("general:close"),className:"".concat(af,"__header__close"),id:"close-drawer__".concat(a),onClick:()=>v(a),type:"button",children:(0,f.jsx)(d.a,{})})]}),l]})]})]})}),n[7]=i,n[8]=l,n[9]=v,n[10]=b,n[11]=p,n[12]=c,n[13]=a,n[14]=m,n[15]=s,n[16]=h,n[17]=u,n[18]=g}else g=n[18];return g}return null},ag=(0,s.createContext)(1),ab=e=>{let t=(0,h.c)(3),{children:n}=e,a=ax()+1,l;return t[0]!==n||t[1]!==a?(l=(0,f.jsx)(ag,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},ax=()=>(0,s.use)(ag),ay="confirmation-modal";function aw(e){let t=(0,h.c)(37),{body:n,cancelLabel:a,className:l,confirmingLabel:o,confirmLabel:r,heading:i,modalSlug:c,onCancel:u,onConfirm:p}=e,m=ax(),[v,g]=s.useState(!1),{closeModal:b}=nT(),{t:x}=(0,d.d)(),y;t[0]!==b||t[1]!==v||t[2]!==c||t[3]!==p?(y=async()=>{v||(g(!0),"function"==typeof p&&await p(),g(!1),b(c))},t[0]=b,t[1]=v,t[2]=c,t[3]=p,t[4]=y):y=t[4];let w=y,j;t[5]!==b||t[6]!==v||t[7]!==c||t[8]!==u?(j=()=>{v||(b(c),"function"==typeof u&&u())},t[5]=b,t[6]=v,t[7]=c,t[8]=u,t[9]=j):j=t[9];let C=j,S;t[10]!==l?(S=[ay,l].filter(Boolean),t[10]=l,t[11]=S):S=t[11];let _=S.join(" "),k=100+m,N;if(t[12]!==n||t[13]!==a||t[14]!==r||t[15]!==v||t[16]!==o||t[17]!==i||t[18]!==c||t[19]!==C||t[20]!==w||t[21]!==x||t[22]!==_||t[23]!==k){let e,l,s,u;t[25]!==i?(e="string"==typeof i?(0,f.jsx)("h1",{children:i}):i,t[25]=i,t[26]=e):e=t[26],t[27]!==n?(l="string"==typeof n?(0,f.jsx)("p",{children:n}):n,t[27]=n,t[28]=l):l=t[28],t[29]!==a||t[30]!==x?(s=a||x("general:cancel"),t[29]=a,t[30]=x,t[31]=s):s=t[31],t[32]!==r||t[33]!==v||t[34]!==o||t[35]!==x?(u=v?o||"".concat(x("general:loading"),"..."):r||x("general:confirm"),t[32]=r,t[33]=v,t[34]=o,t[35]=x,t[36]=u):u=t[36],N=(0,f.jsx)(nY,{className:_,slug:c,style:{zIndex:k},children:(0,f.jsxs)("div",{className:"".concat(ay,"__wrapper"),children:[(0,f.jsxs)("div",{className:"".concat(ay,"__content"),children:[e,l]}),(0,f.jsxs)("div",{className:"".concat(ay,"__controls"),children:[(0,f.jsx)(tO,{buttonStyle:"secondary",disabled:v,id:"confirm-cancel",onClick:C,size:"large",type:"button",children:s}),(0,f.jsx)(tO,{id:"confirm-action",onClick:w,size:"large",children:u})]})]})}),t[12]=n,t[13]=a,t[14]=r,t[15]=v,t[16]=o,t[17]=i,t[18]=c,t[19]=C,t[20]=w,t[21]=x,t[22]=_,t[23]=k,t[24]=N}else N=t[24];return N}var aj="stay-logged-in",aC=()=>{let e=(0,h.c)(11),{refreshCookie:t}=aD(),n=(0,g.useRouter)(),{config:a}=(0,u.b)(),{admin:l,routes:o}=a,{routes:r}=l,{logout:i}=r,{admin:s}=o,{t:c}=(0,d.d)(),{startRouteTransition:p}=te(),m;e[0]!==s||e[1]!==i||e[2]!==n||e[3]!==p?(m=()=>p(()=>n.push((0,y.$)({adminRoute:s,path:i}))),e[0]=s,e[1]=i,e[2]=n,e[3]=p,e[4]=m):m=e[4];let v=m,b;e[5]!==t?(b=()=>{t()},e[5]=t,e[6]=b):b=e[6];let x=b,w;return e[7]!==x||e[8]!==v||e[9]!==c?(w=(0,f.jsx)(aw,{body:c("authentication:youAreInactive"),cancelLabel:c("authentication:stayLoggedIn"),confirmLabel:c("authentication:logOut"),heading:c("authentication:stayLoggedIn"),modalSlug:aj,onCancel:x,onConfirm:v}),e[7]=x,e[8]=v,e[9]=c,e[10]=w):w=e[10],w};function aS(e,t){let n=(0,h.c)(4),[a,l]=(0,s.useState)(e),o,r;return n[0]!==t||n[1]!==e?(o=()=>{let n=setTimeout(()=>{l(e)},t);return()=>{clearTimeout(n)}},r=[e,t],n[0]=t,n[1]=e,n[2]=o,n[3]=r):(o=n[2],r=n[3]),(0,s.useEffect)(o,r),a}function a_(e){let t,n=(0,h.c)(4),a=(0,s.useRef)(e),l,o;return n[0]!==e?(l=()=>{a.current=e},o=[e],n[0]=e,n[1]=l,n[2]=o):(l=n[1],o=n[2]),(0,s.useInsertionEffect)(l,o),n[3]===Symbol.for("react.memo_cache_sentinel")?(t=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.current)(...t)},n[3]=t):t=n[3],t}var ak={delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"delete"})},get:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n="";return t.params&&(n=w.P(t.params,{addQueryPrefix:!0})),fetch("".concat(e).concat(n),{credentials:"include",...t})},patch:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"PATCH"})},post:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{},a={...t,credentials:"include",headers:{...n},method:"post"};return fetch("".concat(e),a)},put:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{headers:{}},n=t&&t.headers?{...t.headers}:{};return fetch(e,{...t,credentials:"include",headers:{...n},method:"put"})}},aN=(0,s.createContext)({});function aE(e){let{children:t,permissions:n,user:a}=e,[l,o]=(0,s.useState)(a),[r,i]=(0,s.useState)(),[c,p]=(0,s.useState)(),h=(0,g.usePathname)(),m=(0,g.useRouter)(),{config:v}=(0,u.b)(),{admin:{routes:{inactivity:b},user:x},routes:{admin:j,api:C},serverURL:S}=v,[_,k]=(0,s.useState)(n),{i18n:N}=(0,d.d)(),{closeAllModals:E,openModal:D}=nT(),[P,T]=(0,s.useState)(0),R=aS(P,1e4),O=s.useRef(null),{startRouteTransition:L}=te(),F=null==l?void 0:l.id,I=(0,s.useCallback)(()=>{L(()=>m.replace((0,y.$)({adminRoute:j,path:"".concat(b).concat(window.location.pathname.startsWith(j)?"?redirect=".concat(encodeURIComponent(window.location.pathname)):"")}))),E()},[m,j,b,E,L]),A=(0,s.useCallback)(()=>{i(void 0),p(void 0),clearTimeout(O.current)},[]),M=(0,s.useCallback)(e=>{(null==e?void 0:e.user)?(o(e.user),i(e.token),p(e.exp)):(o(null),A())},[A]),B=(0,s.useCallback)(e=>{let t=("number"==typeof c?c:0)-Math.round(new Date().getTime()/1e3);return(e||c&&t<120)&&(O.current=setTimeout(()=>{(async function(){try{let e=await ak.post("".concat(S).concat(C,"/").concat(x,"/refresh-token?refresh"),{headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();M(t)}else M(null),I()}catch(e){e3.error(e.message)}})()},1e3)),()=>{clearTimeout(O.current)}},[C,N.language,I,S,M,c,x]),z=(0,s.useCallback)(async e=>{try{let t=await ak.post("".concat(S).concat(C,"/").concat(x,"/refresh-token"),{headers:{"Accept-Language":N.language}});if(200===t.status){let n=await t.json();return e||M(n),n.user}return M(null),I(),null}catch(e){return e3.error("Refreshing token failed: ".concat(e.message)),null}},[C,N.language,I,S,M,x]),U=(0,s.useCallback)(async()=>{try{return await ak.post("".concat(S).concat(C,"/").concat(l.collection,"/logout")),M(null),A(),!0}catch(e){return e3.error("Logging out failed: ".concat(e.message)),!1}},[C,A,S,M,l]),V=(0,s.useCallback)(async function(){let{locale:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=w.P({locale:e},{addQueryPrefix:!0});try{let e=await ak.get("".concat(S).concat(C,"/access").concat(t),{headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();k(t)}else throw Error("Fetching permissions failed with status code ".concat(e.status))}catch(e){e3.error("Refreshing permissions failed: ".concat(e.message))}},[S,C,N]),H=s.useCallback(async()=>{try{let e=await ak.get("".concat(S).concat(C,"/").concat(x,"/me"),{credentials:"include",headers:{"Accept-Language":N.language}});if(200===e.status){let t=await e.json();return M(t),null}}catch(e){e3.error("Fetching user failed: ".concat(e.message))}return null},[S,C,x,N.language,M]),q=a_(H);(0,s.useEffect)(()=>{q()},[]);let W=a_(()=>{F&&B()});return(0,s.useEffect)(()=>{W()},[R]),(0,s.useEffect)(()=>{T(Date.now())},[h]),(0,s.useEffect)(()=>{let e,t,n=Math.round(new Date().getTime()/1e3),a="number"==typeof c?c-n:0;if(!l){clearTimeout(e),clearTimeout(t);return}return a>0&&(e=setTimeout(()=>{D(aj)},Math.max(Math.min((a-60)*1e3,2147483647),0)),t=setTimeout(()=>{M(null),I()},Math.max(Math.min(1e3*a,2147483647),0))),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[c,D,N,M,l,I]),(0,f.jsx)(aN,{value:{fetchFullUser:H,logOut:U,permissions:_,refreshCookie:B,refreshCookieAsync:z,refreshPermissions:V,setPermissions:k,setUser:M,token:r,user:l},children:t})}var aD=()=>(0,s.use)(aN),aP=(0,s.createContext)({}),aT=(e,t)=>({body:JSON.stringify({value:e}),headers:{"Accept-Language":t,"Content-Type":"application/json"}}),aR=e=>{let{children:t}=e,n=(0,s.useRef)({}),a=(0,s.useRef)({}),l=(0,s.useRef)({}),{config:o}=(0,u.b)(),{user:r}=aD(),{i18n:i}=(0,d.d)(),{routes:{api:c},serverURL:p}=o;(0,s.useEffect)(()=>{r||(a.current={})},[r]);let h=(0,s.useCallback)(async e=>{let t=a.current;if("u">typeof t[e])return t[e];let n=new Promise(t=>{(async()=>{let n=await ak.get("".concat(p).concat(c,"/payload-preferences/").concat(e),{credentials:"include",headers:{"Accept-Language":i.language}}),l=null;200===n.status&&(l=(await n.json()).value),a.current[e]=l,t(l)})()});return t[e]=n,n},[i.language,c,a,p]),m=(0,s.useCallback)(async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1===n){a.current[e]=t,await ak.post("".concat(p).concat(c,"/payload-preferences/").concat(e),aT(t,i.language));return}let o=t,r=await h(e);if("object"==typeof t&&"object"==typeof r&&"object"==typeof o){if(r&&(o=function e(t,n){let a={...t};for(let l in n)Object.prototype.hasOwnProperty.call(n,l)&&("object"==typeof n[l]&&!Array.isArray(n[l])&&t[l]?a[l]=e(t[l],n[l]):a[l]=n[l]);return a}(r,o)),(0,j.J)(o,r))return;l.current[e]={...l.current[e],...o}}else{if(o===r)return;l.current[e]=o}let s=async()=>{(0,j.J)(l.current[e],a.current[e])||(a.current[e]=l.current[e],await ak.post("".concat(p).concat(c,"/payload-preferences/").concat(e),aT(a.current[e],i.language)),delete l.current[e])};setTimeout(()=>{s()})},[c,h,i.language,l,p]);return n.current.getPreference=h,n.current.setPreference=m,(0,f.jsx)(aP,{value:n.current,children:t})},aO=()=>(0,s.use)(aP),aL=(0,s.createContext)({}),aF=(0,s.createContext)({localeIsLoading:!1,setLocaleIsLoading:e=>{}}),aI=async(e,t)=>{var n;return await (null===(n=fetch("".concat(t,"/payload-preferences/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"}))||void 0===n?void 0:n.then(e=>e.json()))},aA=e=>{let t,n=(0,h.c)(27),{children:a,locale:l}=e,{config:o}=(0,u.b)(),{localization:r,routes:i,serverURL:c}=o,d=void 0!==r&&r,{api:p}=i,{user:m}=aD(),v=d?d.defaultLocale:"en",{getPreference:b}=aO(),x=(0,g.useSearchParams)(),y;n[0]!==x?(y=x.get("locale"),n[0]=x,n[1]=y):y=n[1];let w=y,j;n[2]!==v||n[3]!==l||n[4]!==w||n[5]!==d?(j=()=>d&&(!d||d.locales.length)?np(d,w)||np(d,l)||np(d,v)||np(d,d.locales[0].code):{},n[2]=v,n[3]=l,n[4]=w,n[5]=d,n[6]=j):j=n[6];let[C,S]=s.useState(j),[_,k]=(0,s.useState)(!1),N=(0,s.useRef)(C),E,D;n[7]!==C?(E=()=>{C.code!==N.current.code&&k(!1),N.current=C},D=[C],n[7]=C,n[8]=E,n[9]=D):(E=n[8],D=n[9]),(0,s.useEffect)(E,D);let P="".concat(c).concat(p),T;n[10]!==v||n[11]!==P||n[12]!==w||n[13]!==d||n[14]!==(null==m?void 0:m.id)?(T=()=>{(async function(){if(d&&(null==m?void 0:m.id)){var e,t,n;let a=np(d,w||await (null===(e=aI("locale",P))||void 0===e?void 0:e.then(az)))||np(d,v)||np(d,null==d?void 0:null===(n=d.locales)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.code);a&&S(a)}})()},n[10]=v,n[11]=P,n[12]=w,n[13]=d,n[14]=null==m?void 0:m.id,n[15]=T):T=n[15];let R=null==m?void 0:m.id,O;return n[16]!==v||n[17]!==P||n[18]!==b||n[19]!==w||n[20]!==d||n[21]!==R?(O=[v,b,d,P,w,R],n[16]=v,n[17]=P,n[18]=b,n[19]=w,n[20]=d,n[21]=R,n[22]=O):O=n[22],(0,s.useEffect)(T,O),n[23]!==a||n[24]!==_||n[25]!==C?(t=(0,f.jsx)(aL,{value:C,children:(0,f.jsx)(aF,{value:{localeIsLoading:_,setLocaleIsLoading:k},children:a})}),n[23]=a,n[24]=_,n[25]=C,n[26]=t):t=n[26],t},aM=()=>(0,s.use)(aF),aB=()=>(0,s.use)(aL);function az(e){return e.value}var aU=(e,t,n)=>{if(e)return"field-".concat(e.replace(/\./g,"__")).concat(t>1?"-".concat(t):"").concat(n?"-".concat(n):"")},aV=e=>{let t=(0,h.c)(25),{as:n,hideLocale:a,htmlFor:l,label:o,localized:r,path:i,required:s,unstyled:c}=e,u=void 0===n?"label":n,p=void 0!==a&&a,v=void 0!==r&&r,g=void 0!==s&&s,b=void 0!==c&&c,{uuid:x}=eP(),y=nd(),w;t[0]!==y||t[1]!==l||t[2]!==i||t[3]!==x?(w=l||aU(i,y,x),t[0]=y,t[1]=l,t[2]=i,t[3]=x,t[4]=w):w=t[4];let j=w,{i18n:C}=(0,d.d)(),{code:S,label:_}=aB(),k="label"===u?j?"label":"span":u||"span";if(o){let e="field-label".concat(b?" unstyled":""),n;if(t[5]!==k||t[6]!==S||t[7]!==p||t[8]!==j||t[9]!==C||t[10]!==o||t[11]!==_||t[12]!==v||t[13]!==g||t[14]!==e||t[15]!==b){let a,l;t[17]!==g||t[18]!==b?(a=g&&!b&&(0,f.jsx)("span",{className:"required",children:"*"}),t[17]=g,t[18]=b,t[19]=a):a=t[19],t[20]!==S||t[21]!==p||t[22]!==_||t[23]!==v?(l=v&&!p&&(0,f.jsxs)("span",{className:"localized",children:["— ","string"==typeof _?_:S]}),t[20]=S,t[21]=p,t[22]=_,t[23]=v,t[24]=l):l=t[24],n=(0,f.jsxs)(k,{className:e,htmlFor:j,children:[(0,m.i)(o,C),a,l]}),t[5]=k,t[6]=S,t[7]=p,t[8]=j,t[9]=C,t[10]=o,t[11]=_,t[12]=v,t[13]=g,t[14]=e,t[15]=b,t[16]=n}else n=t[16];return n}return null},aH=e=>{let{collapsed:t,rowID:n,rows:a}=e;return a.reduce((e,a)=>(n===a.id&&(a.collapsed=t),a.collapsed&&e.collapsedIDs.push(a.id),e.updatedRows.push(a),e),{collapsedIDs:[],updatedRows:[]})},aq=e=>{let{collapsed:t,rows:n}=e;return n.reduce((e,n)=>(n.collapsed=t,t&&e.collapsedIDs.push(n.id),e.updatedRows.push(n),e),{collapsedIDs:[],updatedRows:[]})},aW=(e,t,n)=>{let a,l=(0,h.c)(9),o;l[0]!==n?(o=void 0===n?[]:n,l[0]=n,l[1]=o):o=l[1];let r=o,i;l[2]===Symbol.for("react.memo_cache_sentinel")?(i=Date.now(),l[2]=i):i=l[2];let c=(0,s.useRef)(i),u;l[3]!==e||l[4]!==t?(u=()=>{let n=setTimeout(()=>{Date.now()-c.current>=t&&(e(),c.current=Date.now())},t-(Date.now()-c.current));return()=>{clearTimeout(n)}},l[3]=e,l[4]=t,l[5]=u):u=l[5],l[6]!==t||l[7]!==r?(a=[t,...r],l[6]=t,l[7]=r,l[8]=a):a=l[8],(0,s.useEffect)(u,a)};function aK(e,t){let[n,a]=(0,s.useState)(null!=e?e:t),l=(0,s.useRef)(!0);return(0,s.useEffect)(()=>{if(l.current){l.current=!1;return}a(e)},[e]),[n,(0,s.useCallback)(e=>{a(e)},[])]}var aY={},aG={};function a$(e,t){try{let n=(aY[e]||(aY[e]=new Intl.DateTimeFormat("en-GB",{timeZone:e,hour:"numeric",timeZoneName:"longOffset"}).format))(t).split("GMT")[1]||"";return n in aG?aG[n]:aQ(n,n.split(":"))}catch(n){if(e in aG)return aG[e];let t=null==e?void 0:e.match(aX);return t?aQ(e,t.slice(1)):NaN}}var aX=/([+-]\d\d):?(\d\d)?/;function aQ(e,t){let n=+t[0],a=+(t[1]||0);return aG[e]=n>0?60*n+a:60*n-a}var aZ=class e extends Date{static tz(t){for(var n=arguments.length,a=Array(n>1?n-1:0),l=1;l<n;l++)a[l-1]=arguments[l];return a.length?new e(...a,t):new e(Date.now(),t)}withTimeZone(t){return new e(+this,t)}getTimezoneOffset(){return-a$(this.timeZone,this)}setTime(e){return Date.prototype.setTime.apply(this,arguments),a0(this),+this}[Symbol.for("constructDateFrom")](t){return new e(+new Date(t),this.timeZone)}constructor(...e){super(),e.length>1&&"string"==typeof e[e.length-1]&&(this.timeZone=e.pop()),this.internal=new Date,isNaN(a$(this.timeZone,this))?this.setTime(NaN):e.length?"number"==typeof e[0]&&(1===e.length||2===e.length&&"number"!=typeof e[1])?this.setTime(e[0]):"string"==typeof e[0]?this.setTime(+new Date(e[0])):e[0]instanceof Date?this.setTime(+e[0]):(this.setTime(+new Date(...e)),a1(this,NaN),a0(this)):this.setTime(Date.now())}},aJ=/^(get|set)(?!UTC)/;function a0(e){e.internal.setTime(+e),e.internal.setUTCMinutes(e.internal.getUTCMinutes()-e.getTimezoneOffset())}function a1(e){let t=a$(e.timeZone,e),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);let a=-new Date(+e).getTimezoneOffset(),l=a- -new Date(+n).getTimezoneOffset(),o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);let r=a-t;r&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+r);let i=a$(e.timeZone,e),s=-new Date(+e).getTimezoneOffset()-i-r;if(i!==t&&s){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);let t=i-a$(e.timeZone,e);t&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+t),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+t))}}Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!aJ.test(e))return;let t=e.replace(aJ,"$1UTC");aZ.prototype[t]&&(e.startsWith("get")?aZ.prototype[e]=function(){return this.internal[t]()}:(aZ.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Date.prototype.setFullYear.call(this,this.internal.getUTCFullYear(),this.internal.getUTCMonth(),this.internal.getUTCDate()),Date.prototype.setHours.call(this,this.internal.getUTCHours(),this.internal.getUTCMinutes(),this.internal.getUTCSeconds(),this.internal.getUTCMilliseconds()),a1(this),+this},aZ.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),a0(this),+this}))});var a3=Symbol.for("constructDateFrom");function a2(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&a3 in e?e[a3](t):e instanceof Date?new e.constructor(t):new Date(t)}function a6(e,t){return a2(t||e,e)}var a5={};function a4(e,t){var n,a,l,o,r,i,s,c;let u=null!==(c=null!==(s=null!==(i=null!==(r=null==t?void 0:t.weekStartsOn)&&void 0!==r?r:null==t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(n=a.options)||void 0===n?void 0:n.weekStartsOn)&&void 0!==i?i:a5.weekStartsOn)&&void 0!==s?s:null===(o=a5.locale)||void 0===o?void 0:null===(l=o.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==c?c:0,d=a6(e,null==t?void 0:t.in),p=d.getDay();return d.setDate(d.getDate()-((p<u?7:0)+p-u)),d.setHours(0,0,0,0),d}function a8(e,t){return a4(e,{...t,weekStartsOn:1})}function a7(e,t){let n=a6(e,null==t?void 0:t.in),a=n.getFullYear(),l=a2(n,0);l.setFullYear(a+1,0,4),l.setHours(0,0,0,0);let o=a8(l),r=a2(n,0);r.setFullYear(a,0,4),r.setHours(0,0,0,0);let i=a8(r);return n.getTime()>=o.getTime()?a+1:n.getTime()>=i.getTime()?a:a-1}function a9(e){let t=a6(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function le(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];let l=a2.bind(null,e||n.find(e=>"object"==typeof e));return n.map(l)}function lt(e,t){let n=a6(e,null==t?void 0:t.in);return n.setHours(0,0,0,0),n}function ln(e,t){let n=+a6(e)-+a6(t);return n<0?-1:n>0?1:n}function la(e){return a2(e,Date.now())}function ll(e,t){let n=a6(e,null==t?void 0:t.in);return n.setHours(23,59,59,999),n}function lo(e,t){var n,a,l,o,r,i,s,c;let u=a6(e,null==t?void 0:t.in),d=u.getFullYear(),p=null!==(c=null!==(s=null!==(i=null!==(r=null==t?void 0:t.firstWeekContainsDate)&&void 0!==r?r:null==t?void 0:null===(a=t.locale)||void 0===a?void 0:null===(n=a.options)||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==i?i:a5.firstWeekContainsDate)&&void 0!==s?s:null===(o=a5.locale)||void 0===o?void 0:null===(l=o.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==c?c:1,f=a2((null==t?void 0:t.in)||e,0);f.setFullYear(d+1,0,p),f.setHours(0,0,0,0);let h=a4(f,t),m=a2((null==t?void 0:t.in)||e,0);m.setFullYear(d,0,p),m.setHours(0,0,0,0);let v=a4(m,t);return+u>=+h?d+1:+u>=+v?d:d-1}function lr(e,t){let n=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+n}var li={y(e,t){let n=e.getFullYear(),a=n>0?n:1-n;return lr("yy"===t?a%100:a,t.length)},M(e,t){let n=e.getMonth();return"M"===t?String(n+1):lr(n+1,2)},d:(e,t)=>lr(e.getDate(),t.length),a(e,t){let n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>lr(e.getHours()%12||12,t.length),H:(e,t)=>lr(e.getHours(),t.length),m:(e,t)=>lr(e.getMinutes(),t.length),s:(e,t)=>lr(e.getSeconds(),t.length),S(e,t){let n=t.length;return lr(Math.trunc(e.getMilliseconds()*Math.pow(10,n-3)),t.length)}},ls={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lc={G:function(e,t,n){let a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if("yo"===t){let t=e.getFullYear();return n.ordinalNumber(t>0?t:1-t,{unit:"year"})}return li.y(e,t)},Y:function(e,t,n,a){let l=lo(e,a),o=l>0?l:1-l;return"YY"===t?lr(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):lr(o,t.length)},R:function(e,t){return lr(a7(e),t.length)},u:function(e,t){return lr(e.getFullYear(),t.length)},Q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return lr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return lr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){let a=e.getMonth();switch(t){case"M":case"MM":return li.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return lr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){var l,o,r,i,s,c,u,d;let p,f,h,m;let v=Math.round((+a4(m=a6(e,null==a?void 0:a.in),a)-+(p=null!==(d=null!==(u=null!==(c=null!==(s=null==a?void 0:a.firstWeekContainsDate)&&void 0!==s?s:null==a?void 0:null===(o=a.locale)||void 0===o?void 0:null===(l=o.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==c?c:a5.firstWeekContainsDate)&&void 0!==u?u:null===(i=a5.locale)||void 0===i?void 0:null===(r=i.options)||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==d?d:1,f=lo(m,a),(h=a2((null==a?void 0:a.in)||m,0)).setFullYear(f,0,p),h.setHours(0,0,0,0),a4(h,a)))/6048e5)+1;return"wo"===t?n.ordinalNumber(v,{unit:"week"}):lr(v,t.length)},I:function(e,t,n){var a;let l,o,r;let i=Math.round((+a8(r=a6(e,void 0))-+(l=a7(r,void 0),(o=a2((null==a?void 0:a.in)||r,0)).setFullYear(l,0,4),o.setHours(0,0,0,0),a8(o)))/6048e5)+1;return"Io"===t?n.ordinalNumber(i,{unit:"week"}):lr(i,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):li.d(e,t)},D:function(e,t,n){let a,l;let o=function(e,t,n){let[a,l]=le(void 0,e,t),o=lt(a),r=lt(l);return Math.round((+o-a9(o)-(+r-a9(r)))/864e5)}(a=a6(e,void 0),((l=a6(a,void 0)).setFullYear(l.getFullYear(),0,1),l.setHours(0,0,0,0),l))+1;return"Do"===t?n.ordinalNumber(o,{unit:"dayOfYear"}):lr(o,t.length)},E:function(e,t,n){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){let l=e.getDay(),o=(l-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return lr(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(l,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(l,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(l,{width:"short",context:"formatting"});default:return n.day(l,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){let l=e.getDay(),o=(l-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return lr(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(l,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(l,{width:"narrow",context:"standalone"});case"cccccc":return n.day(l,{width:"short",context:"standalone"});default:return n.day(l,{width:"wide",context:"standalone"})}},i:function(e,t,n){let a=e.getDay(),l=0===a?7:a;switch(t){case"i":return String(l);case"ii":return lr(l,t.length);case"io":return n.ordinalNumber(l,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){let a=e.getHours(),l;switch(l=12===a?ls.noon:0===a?ls.midnight:a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},B:function(e,t,n){let a=e.getHours(),l;switch(l=a>=17?ls.evening:a>=12?ls.afternoon:a>=4?ls.morning:ls.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(l,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(l,{width:"narrow",context:"formatting"});default:return n.dayPeriod(l,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return li.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):li.H(e,t)},K:function(e,t,n){let a=e.getHours()%12;return"Ko"===t?n.ordinalNumber(a,{unit:"hour"}):lr(a,t.length)},k:function(e,t,n){let a=e.getHours();return 0===a&&(a=24),"ko"===t?n.ordinalNumber(a,{unit:"hour"}):lr(a,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):li.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):li.s(e,t)},S:function(e,t){return li.S(e,t)},X:function(e,t,n){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return ld(a);case"XXXX":case"XX":return lp(a);default:return lp(a,":")}},x:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"x":return ld(a);case"xxxx":case"xx":return lp(a);default:return lp(a,":")}},O:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+lu(a,":");default:return"GMT"+lp(a,":")}},z:function(e,t,n){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+lu(a,":");default:return"GMT"+lp(a,":")}},t:function(e,t,n){return lr(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return lr(+e,t.length)}};function lu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",a=Math.abs(e),l=Math.trunc(a/60),o=a%60;return 0===o?n+String(l):n+String(l)+t+lr(o,2)}function ld(e,t){return e%60==0?(e>0?"-":"+")+lr(Math.abs(e)/60,2):lp(e,t)}function lp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Math.abs(e);return(e>0?"-":"+")+lr(Math.trunc(n/60),2)+t+lr(n%60,2)}var lf=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},lh=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},lm={p:lh,P:(e,t)=>{let n,a=e.match(/(P+)(p+)?/)||[],l=a[1],o=a[2];if(!o)return lf(e,t);switch(l){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",lf(l,t)).replace("{{time}}",lh(o,t))}},lv=/^D+$/,lg=/^Y+$/,lb=["D","DD","YY","YYYY"],lx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ly=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lw=/^'([^]*?)'?$/,lj=/''/g,lC=/[a-zA-Z]/;function lS(e,t,n){var a,l,o,r,i,s,c,u,p,f,h,m,v,g,b,x,y,w;let j=null!==(f=null!==(p=null==n?void 0:n.locale)&&void 0!==p?p:a5.locale)&&void 0!==f?f:d.b,C=null!==(g=null!==(v=null!==(m=null!==(h=null==n?void 0:n.firstWeekContainsDate)&&void 0!==h?h:null==n?void 0:null===(l=n.locale)||void 0===l?void 0:null===(a=l.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==m?m:a5.firstWeekContainsDate)&&void 0!==v?v:null===(r=a5.locale)||void 0===r?void 0:null===(o=r.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==g?g:1,S=null!==(w=null!==(y=null!==(x=null!==(b=null==n?void 0:n.weekStartsOn)&&void 0!==b?b:null==n?void 0:null===(s=n.locale)||void 0===s?void 0:null===(i=s.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==x?x:a5.weekStartsOn)&&void 0!==y?y:null===(u=a5.locale)||void 0===u?void 0:null===(c=u.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==w?w:0,_=a6(e,null==n?void 0:n.in);if(!(_ instanceof Date||"object"==typeof _&&"[object Date]"===Object.prototype.toString.call(_))&&"number"!=typeof _||isNaN(+a6(_)))throw RangeError("Invalid time value");let k=t.match(ly).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,lm[t])(e,j.formatLong):e}).join("").match(lx).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t){let t;return{isToken:!1,value:(t=e.match(lw))?t[1].replace(lj,"'"):e}}if(lc[t])return{isToken:!0,value:e};if(t.match(lC))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});j.localize.preprocessor&&(k=j.localize.preprocessor(_,k));let N={firstWeekContainsDate:C,weekStartsOn:S,locale:j};return k.map(a=>{if(!a.isToken)return a.value;let l=a.value;return(!(null==n?void 0:n.useAdditionalWeekYearTokens)&&lg.test(l)||!(null==n?void 0:n.useAdditionalDayOfYearTokens)&&lv.test(l))&&function(e,t,n){let a;let l=(a="Y"===e[0]?"years":"days of the month","Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(a," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(console.warn(l),lb.includes(e))throw RangeError(l)}(l,t,String(e)),(0,lc[l[0]])(_,l,j.localize,N)}).join("")}function l_(e,t){var n;let a="function"==typeof t&&(null===(n=t.prototype)||void 0===n?void 0:n.constructor)===t?new t(0):a2(t,0);return a.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),a.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),a}var lk=e=>{let{date:t,i18n:n,pattern:a,timezone:l}=e,o=new aZ(new Date(t));if(l){let e=aZ.tz(l),t=l_(o.withTimeZone(l),e);return n.dateFNS?lS(t,a,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")}return n.dateFNS?lS(o,a,{locale:n.dateFNS}):"".concat(n.t("general:loading"),"...")},lN=e=>{var t;let{date:n,i18n:a}=e,l="string"==typeof n?new Date(n):n;return(null==a?void 0:a.dateFNS)?(t={locale:a.dateFNS},function(e,t,n){var a,l,o,r;let i;let s=null!==(l=null!==(a=null==n?void 0:n.locale)&&void 0!==a?a:a5.locale)&&void 0!==l?l:d.b,c=ln(e,t);if(isNaN(c))throw RangeError("Invalid time value");let u=Object.assign({},n,{addSuffix:null==n?void 0:n.addSuffix,comparison:c}),[p,f]=le(null==n?void 0:n.in,...c>0?[t,e]:[e,t]),h=(i=(+a6(f)-+a6(p))/1e3,(r=null==void 0?void 0:o.roundingMethod,e=>{let t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(i)),m=Math.round((h-(a9(f)-a9(p))/1e3)/60),v;if(m<2)return(null==n?void 0:n.includeSeconds)?h<5?s.formatDistance("lessThanXSeconds",5,u):h<10?s.formatDistance("lessThanXSeconds",10,u):h<20?s.formatDistance("lessThanXSeconds",20,u):h<40?s.formatDistance("halfAMinute",0,u):h<60?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",1,u):0===m?s.formatDistance("lessThanXMinutes",1,u):s.formatDistance("xMinutes",m,u);if(m<45)return s.formatDistance("xMinutes",m,u);if(m<90)return s.formatDistance("aboutXHours",1,u);if(m<1440){let e=Math.round(m/60);return s.formatDistance("aboutXHours",e,u)}if(m<2520)return s.formatDistance("xDays",1,u);if(m<43200){let e=Math.round(m/1440);return s.formatDistance("xDays",e,u)}if(m<86400)return v=Math.round(m/43200),s.formatDistance("aboutXMonths",v,u);if((v=function(e,t,n){var a;let l,o,r,[i,s,c]=le(void 0,e,e,t),u=ln(s,c),d=Math.abs(function(e,t,n){let[a,l]=le(void 0,e,t);return 12*(a.getFullYear()-l.getFullYear())+(a.getMonth()-l.getMonth())}(s,c));if(d<1)return 0;1===s.getMonth()&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-u*d);let p=ln(s,c)===-u;+ll(l=a6(i,void 0),a)==+(r=(o=a6(l,null==a?void 0:a.in)).getMonth(),o.setFullYear(o.getFullYear(),r+1,0),o.setHours(23,59,59,999),o)&&1===d&&1===ln(i,c)&&(p=!1);let f=u*(d-+p);return 0===f?0:f}(f,p))<12){let e=Math.round(m/43200);return s.formatDistance("xMonths",e,u)}{let e=v%12,t=Math.trunc(v/12);return e<3?s.formatDistance("aboutXYears",t,u):e<9?s.formatDistance("overXYears",t,u):s.formatDistance("almostXYears",t+1,u)}}(l,la(l),t)):"".concat(a.t("general:loading"),"...")};function lE(e){return"object"==typeof e&&"root"in e}function lD(e,t){for(let n of e)"text"in n&&n.text?t+=n.text:"children"in n||(t+="[".concat(n.type,"]")),"children"in n&&n.children&&(t+=lD(n.children,t));return t}var lP=e=>Array.isArray(e)?e.map(e=>"object"==typeof e&&null!==e?e.id:String(e)).filter(Boolean).join(", "):"object"==typeof e&&null!==e?e.id||"":String(e),lT=e=>{var t,n,a,l,o,r,i;let s,{collectionConfig:c,data:u,dateFormat:d,fallback:p,globalConfig:f,i18n:h}=e;if(c){let e=null==c?void 0:null===(o=c.admin)||void 0===o?void 0:o.useAsTitle;if(e&&(s=null==u?void 0:u[e])){let t=c.fields.find(t=>"name"in t&&t.name===e),n=(null==t?void 0:t.type)==="date",a=(null==t?void 0:t.type)==="relationship";n&&(s=lk({date:s,i18n:h,pattern:"date"in t.admin&&(null==t?void 0:null===(i=t.admin)||void 0===i?void 0:null===(r=i.date)||void 0===r?void 0:r.displayFormat)||d})||s),a&&(s=lP(u[e]))}}return f&&(s=(0,m.i)(null==f?void 0:f.label,h)||(null==f?void 0:f.slug)),s&&lE(s)&&(s=lD((null===(n=s.root.children)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.children)||[],"")),!s&&lE(p)&&(s=lD((null===(l=p.root.children)||void 0===l?void 0:null===(a=l[0])||void 0===a?void 0:a.children)||[],"")),s||(s="string"==typeof p?p:"[".concat(h.t("general:untitled"),"]")),s},lR=(0,s.createContext)({}),lO=()=>(0,s.use)(lR),lL=e=>{let{children:t}=e,{id:n,collectionSlug:a,docConfig:l,globalSlug:o,initialData:r,savedDocumentData:i}=lV(),{config:{admin:{dateFormat:c}}}=(0,u.b)(),{i18n:p}=(0,d.d)(),[h,m]=(0,s.useState)(()=>lT({collectionConfig:a?l:void 0,data:{...r||{},id:n},dateFormat:c,fallback:null==n?void 0:n.toString(),globalConfig:o?l:void 0,i18n:p}));return(0,s.useEffect)(()=>{m(lT({collectionConfig:a?l:void 0,data:{...i,id:n},dateFormat:c,fallback:null==n?void 0:n.toString(),globalConfig:o?l:void 0,i18n:p}))},[i,c,p,n,a,l,o]),(0,f.jsx)(lR,{value:{setDocumentTitle:m,title:h},children:t})},lF=s.createContext({getUploadEdits:()=>{},resetUploadEdits:void 0,updateUploadEdits:void 0,uploadEdits:void 0}),lI=e=>{let t=(0,h.c)(10),{children:n,initialUploadEdits:a}=e,l;t[0]!==a?(l=a||{},t[0]=a,t[1]=l):l=t[1];let[o,r]=s.useState(l),i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=()=>{r({})},t[2]=i):i=t[2];let c=i,u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=e=>{r(t=>({...t||{},...e||{}}))},t[3]=u):u=t[3];let d=u,p;t[4]!==o?(p=()=>o,t[4]=o,t[5]=p):p=t[5];let m=p,v;return t[6]!==n||t[7]!==m||t[8]!==o?(v=(0,f.jsx)(lF,{value:{getUploadEdits:m,resetUploadEdits:c,updateUploadEdits:d,uploadEdits:o},children:n}),t[6]=n,t[7]=m,t[8]=o,t[9]=v):v=t[9],v},lA=()=>s.use(lF),lM=e=>{let{collectionSlug:t,docPermissions:n,globalSlug:a,isEditing:l}=e;return t?!!(l&&(null==n?void 0:n.update)||!l&&(null==n?void 0:n.create)):!!a&&!!(null==n?void 0:n.update)},lB=e=>{let{id:t,collectionSlug:n,globalSlug:a}=e;return!!(a||n&&t)},lz=e=>{let{id:t,api:n,collectionSlug:a,globalSlug:l,i18n:o,locale:r,permissions:i,serverURL:c,setDocPermissions:u,setHasPublishPermission:d,setHasSavePermission:p}=e;return s.useCallback(async e=>{let s={locale:r||void 0},f=(null==e?void 0:e.id)||t,h=lB({id:f,collectionSlug:a,globalSlug:l});if(h){let t=a?"/".concat(a,"/access/").concat(f):l?"/globals/".concat(l,"/access"):null;if(t){let r=await (await fetch("".concat(c).concat(n).concat(t,"?").concat(w.P(s)),{body:JSON.stringify({...e||{},_status:"draft"}),credentials:"include",headers:{"Accept-Language":o.language,"Content-Type":"application/json"},method:"post"})).json(),i=await fetch("".concat(c).concat(n).concat(t,"?").concat(w.P(s)),{body:JSON.stringify({...e||{},_status:"published"}),credentials:"include",headers:{"Accept-Language":o.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());u(r),p(lM({collectionSlug:a,docPermissions:r,globalSlug:l,isEditing:h})),d(null==i?void 0:i.update)}}else{var m,v;let e=a?null==i?void 0:null===(m=i.collections)||void 0===m?void 0:m[a]:null==i?void 0:null===(v=i.globals)||void 0===v?void 0:v[l];u(e),p(lM({collectionSlug:a,docPermissions:e,globalSlug:l,isEditing:h}))}},[c,n,t,i,o.language,r,a,l])},lU=(0,s.createContext)({}),lV=()=>(0,s.use)(lU),lH=e=>{let{children:t,...n}=e,{id:a,collectionSlug:l,currentEditor:o,docPermissions:r,globalSlug:i,hasPublishedDoc:c,hasPublishPermission:p,hasSavePermission:h,initialData:m,initialState:v,isLocked:g,lastUpdateTime:b,mostRecentVersionIsAutosaved:x,unpublishedVersionCount:y,versionCount:j}=n,[C,S]=aK(r),[_,k]=aK(h),[N,E]=aK(p),{permissions:D}=aD(),{config:{admin:{dateFormat:P},routes:{api:T},serverURL:R},getEntityConfig:O}=(0,u.b)(),L=O({collectionSlug:l}),F=O({globalSlug:i}),I=(0,s.useRef)(new AbortController),A=L||F,{i18n:M}=(0,d.d)(),{uploadEdits:B}=lA(),[z,U]=(0,s.useState)(()=>lT({collectionConfig:L,data:{...m||{},id:a},dateFormat:P,fallback:null==a?void 0:a.toString(),globalConfig:F,i18n:M})),[V,H]=(0,s.useState)(x),[q,W]=(0,s.useState)(j),[K,Y]=(0,s.useState)(c),[G,$]=(0,s.useState)(y),[X,Q]=aK(g),[Z,J]=aK(o),[ee,et]=aK(b),[en,ea]=aK(m),[el,eo]=aK("idle"),er=(0,s.useCallback)(e=>{eo(e)},[eo]),{getPreference:ei,setPreference:es}=aO(),{code:ec}=aB(),{localeIsLoading:eu}=aM(),ed=(0,s.useMemo)(()=>void 0===v||void 0===m||eu,[m,v,eu]),ep="".concat(R).concat(T),ef,eh,em;i&&(ef=i,eh="globals",em="global-".concat(ef)),l&&(ef=l,eh="collections",a&&(em="collection-".concat(ef,"-").concat(a)));let ev=(0,s.useCallback)(async(e,t)=>{try{let n=t===i?"where[globalSlug][equals]=".concat(t):"where[document.value][equals]=".concat(e,"&where[document.relationTo][equals]=").concat(t),a=await ak.get("".concat(R).concat(T,"/payload-locked-documents?").concat(n),{credentials:"include"}),{docs:l}=await a.json();if((null==l?void 0:l.length)>0){let e=l[0].id;await ak.delete("".concat(R).concat(T,"/payload-locked-documents/").concat(e),{credentials:"include",headers:{"Content-Type":"application/json"}}),Q(!1)}}catch(e){console.error("Failed to unlock the document",e)}},[R,T,i,Q]),eg=(0,s.useCallback)(async(e,t,n)=>{try{let a=t===i?"where[globalSlug][equals]=".concat(t):"where[document.value][equals]=".concat(e,"&where[document.relationTo][equals]=").concat(t),l=await ak.get("".concat(R).concat(T,"/payload-locked-documents?").concat(a),{credentials:"include"}),{docs:o}=await l.json();if((null==o?void 0:o.length)>0){let e=o[0].id,t="object"==typeof n?{relationTo:n.collection,value:n.id}:{relationTo:"users",value:n};await ak.patch("".concat(R).concat(T,"/payload-locked-documents/").concat(e),{body:JSON.stringify({user:t}),credentials:"include",headers:{"Content-Type":"application/json"}})}}catch(e){console.error("Failed to update the document editor",e)}},[R,T,i]),eb=lz({id:a,api:T,collectionSlug:l,globalSlug:i,i18n:M,locale:ec,permissions:D,serverURL:R,setDocPermissions:S,setHasPublishPermission:E,setHasSavePermission:k}),ex=(0,s.useCallback)(()=>ei(em),[ei,em]),ey=(0,s.useCallback)(async(e,t)=>{let n=await ex();if(em)try{var a;await es(em,{...n,fields:{...(null==n?void 0:n.fields)||{},[e]:{...null==n?void 0:null===(a=n.fields)||void 0===a?void 0:a[e],...t}}})}catch(e){console.error(e)}},[es,em,ex]),ew=(0,s.useCallback)(()=>{let e=q+1;L&&L.versions?L.versions.maxPerDoc>0?W(Math.min(e,L.versions.maxPerDoc)):W(e):F&&F.versions&&(F.versions.max>0?W(Math.min(e,F.versions.max)):W(e))},[L,F,q]),ej=s.useCallback(e=>{ea(e)},[ea]);(0,s.useEffect)(()=>{U(lT({collectionConfig:L,data:{...en,id:a},dateFormat:P,fallback:null==a?void 0:a.toString(),globalConfig:F,i18n:M}))},[L,F,en,P,M,a]),(0,s.useEffect)(()=>{let e=I.current;return()=>{if(e)try{e.abort()}catch(e){}}},[]);let eC=s.useMemo(()=>"".concat("".concat(ep).concat("globals"===eh?"/globals":"","/").concat(ef).concat(a?"/".concat(a):"")).concat(w.P({depth:0,"fallback-locale":"null",locale:ec,uploadEdits:B||void 0},{addQueryPrefix:!0})),[ep,ec,eh,a,ef,B]),eS={...n,action:eC,currentEditor:Z,docConfig:A,docPermissions:C,documentIsLocked:X,getDocPermissions:eb,getDocPreferences:ex,hasPublishedDoc:K,hasPublishPermission:N,hasSavePermission:_,incrementVersionCount:ew,initialData:m,initialState:v,isInitializing:ed,lastUpdateTime:ee,mostRecentVersionIsAutosaved:V,preferencesKey:em,savedDocumentData:en,setCurrentEditor:J,setDocFieldPreferences:ey,setDocumentIsLocked:Q,setDocumentTitle:U,setHasPublishedDoc:Y,setLastUpdateTime:et,setMostRecentVersionIsAutosaved:H,setUnpublishedVersionCount:$,setUploadStatus:er,title:z,unlockDocument:ev,unpublishedVersionCount:G,updateDocumentEditor:eg,updateSavedDocumentData:ej,uploadStatus:el,versionCount:q};return(0,f.jsx)(lU,{value:eS,children:(0,f.jsx)(lL,{children:t})})},lq=e=>(0,f.jsx)(lI,{children:(0,f.jsx)(lH,{...e})}),lW=(0,s.createContext)(""),lK=e=>{let{children:t,operation:n}=e;return(0,f.jsx)(lW,{value:n,children:t})},lY=()=>(0,s.use)(lW),lG=s.createContext(void 0),l$=()=>{let e=s.useContext(lG);if(e)return e},lX=e=>{let t,n=(0,h.c)(64),a;n[0]!==e?(a=e||{},n[0]=e,n[1]=a):a=n[1];let{disableFormData:l,hasRows:o,path:r,potentiallyStalePath:i,validate:c}=a,p=void 0!==l&&l,f=l$(),m=r||f||i,v=eO(),g=eL(),b=eA(),{user:x}=aD(),{id:y,collectionSlug:w}=lV(),j=lY(),C=eM(lQ),S;n[2]!==m?(S=e=>{let[t]=e;return t&&(null==t?void 0:t[m])||null},n[2]=m,n[3]=S):S=n[3];let _=eM(S),{t:k}=(0,d.d)(),{config:N}=(0,u.b)(),{getData:E,getDataByPath:D,getSiblingData:P,setModified:T}=eP(),R=eT(),O=null==_?void 0:_.filterOptions,L=null==_?void 0:_.value,F=null==_?void 0:_.initialValue,I="boolean"!=typeof(null==_?void 0:_.valid)||_.valid,A=!1===I&&v,M=(0,s.useRef)(I),B=(0,s.useRef)(null==_?void 0:_.errorMessage),z;n[4]!==m?(z=m?m.split("."):[],n[4]=m,n[5]=z):z=n[5];let U=z,V;n[6]!==p||n[7]!==C||n[8]!==o||n[9]!==m||n[10]!==T?(V=(e,t)=>{let n=e&&"object"==typeof e&&"function"==typeof e.preventDefault&&"function"==typeof e.stopPropagation?e.target.value:e;C({type:"UPDATE",disableFormData:p||o&&n>0,path:m,value:n}),void 0!==t&&t||T(!0)},n[6]=p,n[7]=C,n[8]=o,n[9]=m,n[10]=T,n[11]=V):V=n[11];let H=V,q,W=null==_?void 0:_.customComponents,K=g||b,Y=null==_?void 0:_.errorMessage,G;n[12]!==(null==_?void 0:_.errorPaths)?(G=(null==_?void 0:_.errorPaths)||[],n[12]=null==_?void 0:_.errorPaths,n[13]=G):G=n[13];let $=null==_?void 0:_.rows,X=null==_?void 0:_.selectFilterOptions,Q=null==_?void 0:_.valid,Z;n[14]!==O||n[15]!==F||n[16]!==b||n[17]!==m||n[18]!==g||n[19]!==H||n[20]!==A||n[21]!==v||n[22]!==$||n[23]!==X||n[24]!==Q||n[25]!==W||n[26]!==K||n[27]!==Y||n[28]!==G||n[29]!==L?(Z={customComponents:W,disabled:K,errorMessage:Y,errorPaths:G,filterOptions:O,formInitializing:b,formProcessing:g,formSubmitted:v,initialValue:F,path:m,rows:$,selectFilterOptions:X,setValue:H,showError:A,valid:Q,value:L},n[14]=O,n[15]=F,n[16]=b,n[17]=m,n[18]=g,n[19]=H,n[20]=A,n[21]=v,n[22]=$,n[23]=X,n[24]=Q,n[25]=W,n[26]=K,n[27]=Y,n[28]=G,n[29]=L,n[30]=Z):Z=n[30],q=Z,n[31]!==w||n[32]!==N||n[33]!==p||n[34]!==C||n[35]!==R||n[36]!==_||n[37]!==E||n[38]!==D||n[39]!==P||n[40]!==o||n[41]!==y||n[42]!==j||n[43]!==m||n[44]!==U||n[45]!==k||n[46]!==x||n[47]!==c||n[48]!==L?(t=()=>{(async()=>{let e=L;(null==_?void 0:_.rows)&&Array.isArray(_.rows)&&(e=D(m));let t=B.current,n=M.current,a=E(),l="function"==typeof c?await c(e,{id:y,blockData:void 0,collectionSlug:w,data:(null==R?void 0:R.getData)?R.getData():a,event:"onChange",operation:j,path:U,preferences:{},req:{payload:{config:N},t:k,user:x},siblingData:P(m)}):"string"==typeof B.current?B.current:M.current;if("string"==typeof l?(n=!1,t=l):"boolean"==typeof l&&(n=l,t=void 0),n!==M.current||t!==B.current){M.current=n,B.current=t;let e={type:"UPDATE",errorMessage:t,path:m,rows:null==_?void 0:_.rows,valid:n,validate:c,value:L};(p||o&&"number"==typeof L&&L>0)&&(e.disableFormData=!0),"function"==typeof C&&C(e)}})()},n[31]=w,n[32]=N,n[33]=p,n[34]=C,n[35]=R,n[36]=_,n[37]=E,n[38]=D,n[39]=P,n[40]=o,n[41]=y,n[42]=j,n[43]=m,n[44]=U,n[45]=k,n[46]=x,n[47]=c,n[48]=L,n[49]=t):t=n[49];let J=null==_?void 0:_.rows,ee;return n[50]!==w||n[51]!==p||n[52]!==C||n[53]!==E||n[54]!==D||n[55]!==P||n[56]!==y||n[57]!==j||n[58]!==m||n[59]!==J||n[60]!==x||n[61]!==c||n[62]!==L?(ee=[L,p,C,E,P,D,y,j,m,x,c,J,w],n[50]=w,n[51]=p,n[52]=C,n[53]=E,n[54]=D,n[55]=P,n[56]=y,n[57]=j,n[58]=m,n[59]=J,n[60]=x,n[61]=c,n[62]=L,n[63]=ee):ee=n[63],aW(t,150,ee),q};function lQ(e){let[,t]=e;return t}var lZ=e=>{let t=(0,h.c)(2),{children:n,path:a}=e,l;t[0]!==a?(l=e=>{let[t]=e;return t&&(null==t?void 0:t[a])||null},t[0]=a,t[1]=l):l=t[1];let{passesCondition:o}=eM(l)||{};return!1===o?null:n},lJ=e=>t=>{let{path:n}=t;return(0,f.jsx)(lZ,{path:n,children:(0,f.jsx)(e,{...t})})},l0=e=>{var t,n,a,l;return{...(null==e?void 0:null===(t=e.admin)||void 0===t?void 0:t.style)||{},...(null==e?void 0:null===(n=e.admin)||void 0===n?void 0:n.width)?{"--field-width":e.admin.width}:{flex:"1 1 auto"},...(null==e?void 0:null===(l=e.admin)||void 0===l?void 0:null===(a=l.style)||void 0===a?void 0:a.flex)?{flex:e.admin.style.flex}:{}}},l1="field-type";function l3(e){let{fieldLocalized:t,fieldRTL:n,locale:a,localizationConfig:l}=e,o=a&&l&&l.locales&&l.locales.length>1,r=(null==a?void 0:a.code)===(null==l?void 0:l.defaultLocale);return!1!==n&&(null==a?void 0:a.rtl)===!0&&(t||!t&&!o||!t&&r)||!0===n}var l2=()=>(0,f.jsx)("svg",{className:"icon icon--check",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M15.3333 6.00001L8.00001 13.3333L4.66667 10",strokeLinecap:"square"})}),l6=()=>(0,f.jsx)("svg",{className:"icon icon--line",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M5.33333 10H14.6667",strokeLinecap:"square"})}),l5="checkbox-input",l4=e=>{let{id:t,name:n,AfterInput:a,BeforeInput:l,checked:o,className:r,inputRef:i,Label:s,label:c,localized:u,onToggle:d,partialChecked:p,readOnly:h,required:m}=e;return(0,f.jsxs)("div",{className:[r,l5,o&&"".concat(l5,"--checked"),h&&"".concat(l5,"--read-only")].filter(Boolean).join(" "),children:[(0,f.jsxs)("div",{className:"".concat(l5,"__input"),children:[l,(0,f.jsx)("input",{"aria-label":"",defaultChecked:!!o,disabled:h,id:t,name:n,onInput:d,ref:i,required:m,type:"checkbox"}),(0,f.jsxs)("span",{className:["".concat(l5,"__icon"),!o&&p?"partial":"check"].filter(Boolean).join(" "),children:[o&&(0,f.jsx)(l2,{}),!o&&p&&(0,f.jsx)(l6,{})]}),a]}),(0,f.jsx)(ef,{CustomComponent:s,Fallback:(0,f.jsx)(aV,{htmlFor:t,label:c,localized:u,required:m})})]})},l8="checkbox",l7=lJ(e=>{let{id:t,checked:n,disableFormData:a,field:l,field:{admin:{className:o,description:r}={},label:i,required:c}={},onChange:u,partialChecked:p,path:h,readOnly:m,validate:v}=e,{uuid:g}=eP(),b=nd(),{i18n:{language:x}}=(0,d.d)(),y=C.Dn.includes(x),{customComponents:{AfterInput:w,BeforeInput:j,Description:S,Error:_,Label:k}={},disabled:N,path:E,setValue:D,showError:P,value:T}=lX({disableFormData:a,potentiallyStalePath:h,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof v)return v(e,{...t,required:c})},[v,c])}),R=(0,s.useCallback)(()=>{m||(D(!T),"function"==typeof u&&u(!T))},[u,m,D,T]),O=n||!!T,L=t||aU(E,b,g),F=(0,s.useMemo)(()=>l0(l),[l]);return(0,f.jsxs)("div",{className:[l1,l8,P&&"error",o,T&&"".concat(l8,"--checked"),(m||N)&&"".concat(l8,"--read-only")].filter(Boolean).join(" "),style:F,children:[(0,f.jsx)(ef,{CustomComponent:_,Fallback:(0,f.jsx)(ns,{alignCaret:y?"right":"left",path:E,showError:P})}),(0,f.jsx)(l4,{AfterInput:w,BeforeInput:j,checked:O,id:L,inputRef:null,Label:k,label:i,name:E,onToggle:R,partialChecked:p,readOnly:m||N,required:c}),(0,f.jsx)(ef,{CustomComponent:S,Fallback:(0,f.jsx)(ni,{description:r,path:E})})]})}),l9=e=>{let t,n=(0,h.c)(4),{fieldValue:a,localized:l,path:o}=e,{code:r}=aB(),{config:i}=(0,u.b)(),{localization:c}=i,[p,m]=s.useState("number"!=typeof a),{t:v}=(0,d.d)();if(!l||!c||c.defaultLocale===r||!c.fallback)return null;if(a){let e=!1;if("number"==typeof a&&a>0&&(e=!0),Array.isArray(a)&&a.length>0&&(e=!0),e)return p&&m(!1),null}return n[0]!==p||n[1]!==o||n[2]!==v?(t=(0,f.jsx)(tr,{children:(0,f.jsx)(l7,{checked:p,field:{name:"",label:v("general:fallbackToDefaultLocale")},id:"field-".concat(o.replace(/\./g,"__")),path:o,schemaPath:""})}),n[0]=p,n[1]=o,n[2]=v,n[3]=t):t=n[3],t},oe=e=>{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect();window.scrollBy({behavior:"smooth",top:e.top-100})}},ot="array-actions",on=e=>{let t=(0,h.c)(12),{addRow:n,copyRow:a,duplicateRow:l,hasMaxRows:o,index:r,isSortable:i,moveRow:c,pasteRow:u,removeRow:p,rowCount:m}=e,{t:v}=(0,d.d)(),g;return t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==o||t[4]!==r||t[5]!==i||t[6]!==c||t[7]!==u||t[8]!==p||t[9]!==m||t[10]!==v?(g=(0,f.jsx)(tD,{button:(0,f.jsx)(tM,{}),buttonClassName:"".concat(ot,"__button"),className:ot,horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,f.jsxs)(tp.ButtonGroup,{buttonSize:"small",children:[i&&0!==r&&(0,f.jsxs)(tp.Button,{className:"".concat(ot,"__action ").concat(ot,"__move-up"),onClick:()=>{c(r,r-1),t()},children:[(0,f.jsx)("div",{className:"".concat(ot,"__action-chevron"),children:(0,f.jsx)(ti,{direction:"up"})}),v("general:moveUp")]}),i&&r<m-1&&(0,f.jsxs)(tp.Button,{className:"".concat(ot,"__action"),onClick:()=>{c(r,r+1),t()},children:[(0,f.jsx)("div",{className:"".concat(ot,"__action-chevron"),children:(0,f.jsx)(ti,{})}),v("general:moveDown")]}),!o&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)(tp.Button,{className:"".concat(ot,"__action ").concat(ot,"__add"),onClick:()=>{n(r+1),t()},children:[(0,f.jsx)(tu,{}),v("general:addBelow")]}),(0,f.jsxs)(tp.Button,{className:"".concat(ot,"__action ").concat(ot,"__duplicate"),onClick:()=>{l(r),t()},children:[(0,f.jsx)(tB,{}),v("general:duplicate")]})]}),(0,f.jsx)(tp.Button,{className:"".concat(ot,"__action ").concat(ot,"__copy"),onClick:()=>{a(r),t()},children:(0,f.jsx)(tz,{isRow:!0})}),(0,f.jsx)(tp.Button,{className:"".concat(ot,"__action ").concat(ot,"__paste"),onClick:()=>{u(r),t()},children:(0,f.jsx)(tz,{isPaste:!0,isRow:!0})}),(0,f.jsxs)(tp.Button,{className:"".concat(ot,"__action ").concat(ot,"__remove"),onClick:()=>{p(r),t()},children:[(0,f.jsx)(d.a,{}),v("general:remove")]})]})},size:"medium"}),t[0]=n,t[1]=a,t[2]=l,t[3]=o,t[4]=r,t[5]=i,t[6]=c,t[7]=u,t[8]=p,t[9]=m,t[10]=v,t[11]=g):g=t[11],g},oa=e=>{let{className:t}=e;return(0,f.jsxs)("svg",{className:["icon icon--drag-handle",t].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{className:"fill",d:"M7.99999 10.6667C8.36818 10.6667 8.66666 10.3682 8.66666 9.99999C8.66666 9.6318 8.36818 9.33332 7.99999 9.33332C7.63181 9.33332 7.33333 9.6318 7.33333 9.99999C7.33333 10.3682 7.63181 10.6667 7.99999 10.6667Z",strokeLinecap:"square"}),(0,f.jsx)("path",{className:"fill",d:"M7.99999 5.99999C8.36818 5.99999 8.66666 5.70151 8.66666 5.33332C8.66666 4.96513 8.36818 4.66666 7.99999 4.66666C7.63181 4.66666 7.33333 4.96513 7.33333 5.33332C7.33333 5.70151 7.63181 5.99999 7.99999 5.99999Z",strokeLinecap:"square"}),(0,f.jsx)("path",{className:"fill",d:"M7.99999 15.3333C8.36818 15.3333 8.66666 15.0348 8.66666 14.6667C8.66666 14.2985 8.36818 14 7.99999 14C7.63181 14 7.33333 14.2985 7.33333 14.6667C7.33333 15.0348 7.63181 15.3333 7.99999 15.3333Z",strokeLinecap:"square"}),(0,f.jsx)("path",{className:"fill",d:"M12 10.6667C12.3682 10.6667 12.6667 10.3682 12.6667 9.99999C12.6667 9.6318 12.3682 9.33332 12 9.33332C11.6318 9.33332 11.3333 9.6318 11.3333 9.99999C11.3333 10.3682 11.6318 10.6667 12 10.6667Z",strokeLinecap:"square"}),(0,f.jsx)("path",{className:"fill",d:"M12 5.99999C12.3682 5.99999 12.6667 5.70151 12.6667 5.33332C12.6667 4.96513 12.3682 4.66666 12 4.66666C11.6318 4.66666 11.3333 4.96513 11.3333 5.33332C11.3333 5.70151 11.6318 5.99999 12 5.99999Z",strokeLinecap:"square"}),(0,f.jsx)("path",{className:"fill",d:"M12 15.3333C12.3682 15.3333 12.6667 15.0348 12.6667 14.6667C12.6667 14.2985 12.3682 14 12 14C11.6318 14 11.3333 14.2985 11.3333 14.6667C11.3333 15.0348 11.6318 15.3333 12 15.3333Z",strokeLinecap:"square"})]})},ol=e=>{let{containerRef:t,contentRef:n,duration:a,open:l}=e,o=(0,s.useMemo)(()=>!!("u">typeof CSS&&CSS)&&!!CSS.supports&&CSS.supports("interpolate-size","allow-keywords"),[]),r=(0,s.useRef)(!1),i=(0,s.useRef)(l),[c,u]=(0,s.useState)(!1),d=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=t.current,s=n.current;if(!e||!s||o)return;let p=t=>{e.style.height=t},f=()=>{e&&(e.style.transition="",e.style.height=l?"auto":"0px",u(!1))};return(()=>{if(!r.current&&l){p("auto"),u(!1);return}r.current=!0,i.current!==l&&p(l?"0px":"".concat(s.scrollHeight,"px")),e.offsetHeight,u(!0),e.style.transition="height ".concat(a,"ms ease"),p(l?"".concat(s.scrollHeight,"px"):"0px");let t=()=>{f(),e.removeEventListener("transitionend",t)};e.addEventListener("transitionend",t)})(),i.current=l,d.current=new ResizeObserver(()=>{c&&(e.style.height=l?"".concat(s.scrollHeight,"px"):"0px")}),d.current.observe(s),()=>{var t;e&&(e.style.transition="",e.style.height=""),null===(t=d.current)||void 0===t||t.disconnect()}},[l,a,t,n,o]),{browserSupportsKeywordAnimation:o}},oo=e=>{let{id:t,children:n,className:a,duration:l=300,height:o}=e,[r,i]=s.useState(()=>!!o),c=(0,s.useRef)(r),[u,d]=s.useState(()=>r?"":"none"),[p,h]=s.useState(()=>r?"":"hidden"),[m,v]=s.useState(!1),g=(0,s.useRef)(null),b=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e,t,n=!!o,a=c.current!==n;return c.current=n,a&&(v(!0),h("hidden"),n?d(""):e=window.setTimeout(()=>{d("none")},l),i(n),t=window.setTimeout(()=>{h(""),v(!1)},l)),()=>{e&&clearTimeout(e),t&&clearTimeout(t)}},[o,l]),ol({containerRef:g,contentRef:b,duration:l,open:r}),(0,f.jsx)("div",{"aria-hidden":!r,className:[a,"rah-static",r&&"auto"===o&&"rah-static--height-auto",m&&"rah-animating--".concat(r?"down":"up"),m&&"auto"===o&&"rah-animating--to-height-auto"].filter(Boolean).join(" "),id:t,ref:g,style:{overflow:p,transition:"height ".concat(l,"ms ease")},children:(0,f.jsx)("div",{ref:b,...u?{style:{display:u}}:{},children:n})})},or=(0,s.createContext)({isCollapsed:void 0,isVisible:void 0,isWithinCollapsible:void 0,toggle:()=>{}}),oi=e=>{let{children:t,isCollapsed:n,isWithinCollapsible:a=!0,toggle:l}=e,{isCollapsed:o,isVisible:r}=os(),i=s.useMemo(()=>({isCollapsed:n,isVisible:r&&!o,isWithinCollapsible:a,toggle:l}),[n,a,l,o,r]);return(0,f.jsx)(or,{value:i,children:t})},os=()=>(0,s.use)(or),oc="collapsible",ou=e=>{let t=(0,h.c)(26),{actions:n,children:a,className:l,collapsibleStyle:o,dragHandleProps:r,header:i,initCollapsed:c,isCollapsed:u,onToggle:p}=e,[m,v]=(0,s.useState)(!!c),[g,b]=(0,s.useState)(!1),{isWithinCollapsible:x}=os(),{t:y}=(0,d.d)(),w="boolean"==typeof u?u:m,j;t[0]!==w||t[1]!==p?(j=()=>{"function"==typeof p&&p(!w),v(!w)},t[0]=w,t[1]=p,t[2]=j):j=t[2];let C=j,S=r&&"".concat(oc,"--has-drag-handle"),_=w&&"".concat(oc,"--collapsed"),k=x&&"".concat(oc,"--nested"),N=g&&"".concat(oc,"--hovered"),E="".concat(oc,"--style-").concat(void 0===o?"default":o),D;t[3]!==l||t[4]!==S||t[5]!==_||t[6]!==k||t[7]!==N||t[8]!==E?(D=[oc,l,S,_,k,N,E].filter(Boolean),t[3]=l,t[4]=S,t[5]=_,t[6]=k,t[7]=N,t[8]=E,t[9]=D):D=t[9];let P=D.join(" "),T,R;t[10]===Symbol.for("react.memo_cache_sentinel")?(T=()=>b(!0),R=()=>b(!1),t[10]=T,t[11]=R):(T=t[10],R=t[11]);let O="".concat(oc,"__toggle--").concat(w?"collapsed":"open"),L;t[12]!==O?(L=["".concat(oc,"__toggle"),O].filter(Boolean),t[12]=O,t[13]=L):L=t[13];let F=L.join(" "),I;if(t[14]!==n||t[15]!==a||t[16]!==r||t[17]!==i||t[18]!==w||t[19]!==y||t[20]!==F||t[21]!==P||t[22]!==C){let e;t[24]!==r?(e=r&&(0,f.jsx)("div",{className:"".concat(oc,"__drag"),...r.attributes,...r.listeners,children:(0,f.jsx)(oa,{})}),t[24]=r,t[25]=e):e=t[25],I=(0,f.jsx)("div",{className:P,children:(0,f.jsxs)(oi,{isCollapsed:w,toggle:C,children:[(0,f.jsxs)("div",{className:"".concat(oc,"__toggle-wrap"),onMouseEnter:T,onMouseLeave:R,children:[(0,f.jsx)("button",{className:F,onClick:C,type:"button",children:(0,f.jsx)("span",{children:y("fields:toggleBlock")})}),e,i?(0,f.jsx)("div",{className:["".concat(oc,"__header-wrap"),r&&"".concat(oc,"__header-wrap--has-drag-handle")].filter(Boolean).join(" "),children:i}):null,(0,f.jsxs)("div",{className:"".concat(oc,"__actions-wrap"),children:[n?(0,f.jsx)("div",{className:"".concat(oc,"__actions"),children:n}):null,(0,f.jsx)("div",{className:"".concat(oc,"__indicator"),children:(0,f.jsx)(ti,{direction:w?void 0:"up"})})]})]}),(0,f.jsx)(oo,{height:w?0:"auto",children:(0,f.jsx)("div",{className:"".concat(oc,"__content"),children:a})})]})}),t[14]=n,t[15]=a,t[16]=r,t[17]=i,t[18]=w,t[19]=y,t[20]=F,t[21]=P,t[22]=C,t[23]=I}else I=t[23];return I},od=e=>{var t;let n=(0,h.c)(9),{children:a,className:l,forceRender:o}=e,[r,i]=s.useState(!!o),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c={rootMargin:"1000px"},n[0]=c):c=n[0];let[u,d]=t_(c,!!o),p=!!(null==d?void 0:d.isIntersecting),m=(null==d?void 0:null===(t=d.boundingClientRect)||void 0===t?void 0:t.top)<0,v=o||p||m,g,b;n[1]!==r||n[2]!==v?(g=()=>{v&&!r&&i(!0)},b=[v,r],n[1]=r,n[2]=v,n[3]=g,n[4]=b):(g=n[3],b=n[4]),s.useEffect(g,b);let x=r?a:null,y;return n[5]!==l||n[6]!==u||n[7]!==x?(y=(0,f.jsx)("div",{className:l,ref:u,children:x}),n[5]=l,n[6]=u,n[7]=x,n[8]=y):y=n[8],y},op="pill",of=e=>{let t=(0,h.c)(12),{id:n,className:a}=e,l;t[0]!==n?(l={id:n},t[0]=n,t[1]=l):l=t[1];let{attributes:o,isDragging:r,listeners:i,setNodeRef:s,transform:c}=nt(l),u=r&&"".concat(op,"--is-dragging"),d;t[2]!==a||t[3]!==u?(d=[u,a].filter(Boolean),t[2]=a,t[3]=u,t[4]=d):d=t[4];let p=d.join(" "),m;return t[5]!==o||t[6]!==i||t[7]!==e||t[8]!==s||t[9]!==p||t[10]!==c?(m=(0,f.jsx)(oh,{...e,className:p,elementProps:{...i,...o,ref:s,style:{transform:c}}}),t[5]=o,t[6]=i,t[7]=e,t[8]=s,t[9]=p,t[10]=c,t[11]=m):m=t[11],m},oh=e=>{let{id:t,alignIcon:n="right","aria-checked":a,"aria-controls":l,"aria-expanded":o,"aria-label":r,children:i,className:s,draggable:c,elementProps:u,icon:d,onClick:p,pillStyle:h="light",rounded:m,size:v="medium",to:g}=e,b=[op,"".concat(op,"--style-").concat(h),"".concat(op,"--size-").concat(v),s&&s,g&&"".concat(op,"--has-link"),(g||p)&&"".concat(op,"--has-action"),d&&"".concat(op,"--has-icon"),d&&"".concat(op,"--align-icon-").concat(n),c&&"".concat(op,"--draggable"),m&&"".concat(op,"--rounded")].filter(Boolean).join(" "),x="div";return p&&!g&&(x="button"),g&&(x=tl),(0,f.jsxs)(x,{...u,"aria-checked":a,"aria-controls":l,"aria-expanded":o,"aria-label":r,className:b,href:g||null,id:t,onClick:p,type:"button"===x?"button":void 0,children:[(0,f.jsx)("span",{className:"".concat(op,"__label"),children:i}),!!d&&(0,f.jsx)("span",{className:"".concat(op,"__icon"),children:d})]})},om=e=>{let{draggable:t}=e;return t?(0,f.jsx)(of,{...e}):(0,f.jsx)(oh,{...e})};function ov(e,t){let[n,a]=(0,s.useState)(e);return(0,s.useEffect)(()=>{let n=setTimeout(()=>{a(e)},t);return()=>{clearTimeout(n)}},[e,t]),n}var og="thumbnail-card",ob=e=>{let t,n=(0,h.c)(15),{alignLabel:a,className:l,collection:o,doc:r,label:i,onClick:s,thumbnail:c}=e,{config:p}=(0,u.b)(),{i18n:m}=(0,d.d)(),v="function"==typeof s&&"".concat(og,"--has-on-click"),g=a&&"".concat(og,"--align-label-").concat(a),b;n[0]!==l||n[1]!==v||n[2]!==g?(b=[og,l,v,g].filter(Boolean),n[0]=l,n[1]=v,n[2]=g,n[3]=b):b=n[3];let x=b.join(" "),y=i;if(!y){let e=null==r?void 0:r.filename,t;n[4]!==o||n[5]!==p.admin.dateFormat||n[6]!==r||n[7]!==m||n[8]!==e?(t=lT({collectionConfig:o,data:r,dateFormat:p.admin.dateFormat,fallback:e,i18n:m}),n[4]=o,n[5]=p.admin.dateFormat,n[6]=r,n[7]=m,n[8]=e,n[9]=t):t=n[9],y=t}return n[10]!==x||n[11]!==s||n[12]!==c||n[13]!==y?(t=(0,f.jsxs)("button",{className:x,onClick:s,title:y,type:"button",children:[(0,f.jsx)("div",{className:"".concat(og,"__thumbnail"),children:c}),(0,f.jsx)("div",{className:"".concat(og,"__label"),children:y})]}),n[10]=x,n[11]=s,n[12]=c,n[13]=y,n[14]=t):t=n[14],t},ox=[];for(oy=0;oy<256;++oy)ox.push((oy+256).toString(16).slice(1));var oy,ow,oj=new Uint8Array(16),oC={randomUUID:"u">typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},oS=function(e,t,n){if(oC.randomUUID&&!t&&!e)return oC.randomUUID();var a=(e=e||{}).random||(e.rng||function(){if(!ow&&!(ow="u">typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ow(oj)})();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var l=0;l<16;++l)t[n+l]=a[l];return t}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(ox[e[t+0]]+ox[e[t+1]]+ox[e[t+2]]+ox[e[t+3]]+"-"+ox[e[t+4]]+ox[e[t+5]]+"-"+ox[e[t+6]]+ox[e[t+7]]+"-"+ox[e[t+8]]+ox[e[t+9]]+"-"+ox[e[t+10]]+ox[e[t+11]]+ox[e[t+12]]+ox[e[t+13]]+ox[e[t+14]]+ox[e[t+15]]).toLowerCase()}(a)},o_=()=>{let[e]=(0,s.useState)(()=>"pattern".concat(oS()));return(0,f.jsxs)("svg",{fill:"none",height:"151",preserveAspectRatio:"xMidYMid slice",viewBox:"0 0 231 151",width:"231",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsxs)("g",{clipPath:"url(#".concat(e,")"),children:[(0,f.jsx)("rect",{fill:"#D9D9D9",height:"100%",rx:"2",width:"100%"}),(0,f.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 33.7051 79.3051)",width:"85.8593",x:"33.7051",y:"79.3051"}),(0,f.jsx)("rect",{fill:"#BCBCBC",height:"116.063",transform:"rotate(52.0687 86.1219 92.6272)",width:"85.8593",x:"86.1219",y:"92.6272"}),(0,f.jsx)("circle",{cx:"189",cy:"45",fill:"#BCBCBC",r:"19"}),(0,f.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"98",x:"66",y:"70"}),(0,f.jsx)("rect",{fill:"#B8B8B8",height:"5",rx:"2.5",width:"76",x:"77",y:"82"})]}),(0,f.jsx)("defs",{children:(0,f.jsx)("clipPath",{id:"".concat(e),children:(0,f.jsx)("rect",{fill:"white",height:"151",width:"231"})})})]})},ok=()=>(0,f.jsx)("svg",{className:"icon icon--search",fill:"none",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M16 16L13.1333 13.1333M14.6667 9.33333C14.6667 12.2789 12.2789 14.6667 9.33333 14.6667C6.38781 14.6667 4 12.2789 4 9.33333C4 6.38781 6.38781 4 9.33333 4C12.2789 4 14.6667 6.38781 14.6667 9.33333Z",strokeLinecap:"square"})}),oN="block-search",oE=e=>{let t=(0,h.c)(5),{setSearchTerm:n}=e,{t:a}=(0,d.d)(),l;t[0]!==n?(l=e=>{n(e.target.value)},t[0]=n,t[1]=l):l=t[1];let o=l,r;return t[2]!==o||t[3]!==a?(r=(0,f.jsxs)("div",{className:oN,children:[(0,f.jsx)("input",{className:"".concat(oN,"__input"),onChange:o,placeholder:a("fields:searchForBlock")}),(0,f.jsx)(ok,{})]}),t[2]=o,t[3]=a,t[4]=r):r=t[4],r},oD="blocks-drawer",oP=(e,t)=>"string"==typeof e.labels.singular?e.labels.singular.toLowerCase():"object"==typeof e.labels.singular?(0,m.i)(e.labels.singular,t).toLowerCase():"",oT=e=>{let{addRow:t,addRowIndex:n,blocks:a,drawerSlug:l,labels:o}=e,[r,i]=(0,s.useState)(""),[c,p]=(0,s.useState)(a),{closeModal:h,isModalOpen:v}=nT(),{i18n:g,t:b}=(0,d.d)(),{config:x}=(0,u.b)(),y=(0,s.useMemo)(()=>{let e={_none:[]};return c.forEach(t=>{var n;if("object"==typeof t&&(null===(n=t.admin)||void 0===n?void 0:n.group)){let n=t.admin.group,a="string"==typeof n?n:(0,m.i)(n,g);Object.hasOwn(e,a)?e[a].push(t):e[a]=[t]}else e._none.push(t)}),e},[c,g]);return(0,s.useEffect)(()=>{v(l)||i("")},[v,l]),(0,s.useEffect)(()=>{let e=r.toLowerCase();p(null==a?void 0:a.reduce((t,n)=>{let a="string"==typeof n?x.blocksMap[n]:n;return oP(a,g).includes(e)&&t.push(a),t},[]))},[r,a,g,x.blocksMap]),(0,f.jsxs)(av,{slug:l,title:b("fields:addLabel",{label:(0,m.i)(o.singular,g)}),children:[(0,f.jsx)(oE,{setSearchTerm:i}),(0,f.jsx)("div",{className:"".concat(oD,"__blocks-wrapper"),children:(0,f.jsx)("ul",{className:"".concat(oD,"__block-groups"),children:Object.entries(y).map(e=>{let[a,o]=e;return o.length?(0,f.jsxs)("li",{className:["".concat(oD,"__block-group"),"_none"===a&&"".concat(oD,"__block-group-none")].filter(Boolean).join(" "),children:["_none"!==a&&(0,f.jsx)("h3",{className:"".concat(oD,"__block-group-label"),children:a}),(0,f.jsx)("ul",{className:"".concat(oD,"__blocks"),children:o.map((e,a)=>{let{slug:o,imageAltText:r,imageURL:i,labels:s}="string"==typeof e?x.blocksMap[e]:e;return(0,f.jsx)("li",{className:"".concat(oD,"__block"),children:(0,f.jsx)(ob,{alignLabel:"center",label:(0,m.i)(null==s?void 0:s.singular,g),onClick:()=>{t(n,o),h(l)},thumbnail:(0,f.jsx)("div",{className:"".concat(oD,"__default-image"),children:i?(0,f.jsx)("img",{alt:r,src:i}):(0,f.jsx)(o_,{})})})},a)})})]},a):null})})})]})},oR=e=>{let t,n=(0,h.c)(28),{addRow:a,blocks:l,blockType:o,copyRow:r,duplicateRow:i,hasMaxRows:c,isSortable:u,labels:d,moveRow:p,pasteRow:m,removeRow:v,rowCount:g,rowIndex:b}=e,{closeModal:x,openModal:y}=nT(),w=ap("blocks-drawer"),[j,C]=s.useState(null),S;if(n[0]!==a||n[1]!==x||n[2]!==w||n[3]!==j?(S=(e,t)=>{"function"==typeof a&&a(j,t),x(w)},n[0]=a,n[1]=x,n[2]=w,n[3]=j,n[4]=S):S=n[4],n[5]!==o||n[6]!==l||n[7]!==r||n[8]!==w||n[9]!==i||n[10]!==c||n[11]!==u||n[12]!==d||n[13]!==p||n[14]!==y||n[15]!==m||n[16]!==v||n[17]!==g||n[18]!==b||n[19]!==S){let e,a;n[21]!==w||n[22]!==y?(e=e=>{C(e),y(w)},n[21]=w,n[22]=y,n[23]=e):e=n[23],n[24]!==o||n[25]!==i||n[26]!==b?(a=()=>i(b,o),n[24]=o,n[25]=i,n[26]=b,n[27]=a):a=n[27],t=(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(oT,{addRow:S,addRowIndex:b,blocks:l,drawerSlug:w,labels:d}),(0,f.jsx)(on,{addRow:e,copyRow:r,duplicateRow:a,hasMaxRows:c,index:b,isSortable:u,moveRow:p,pasteRow:m,removeRow:v,rowCount:g})]}),n[5]=o,n[6]=l,n[7]=r,n[8]=w,n[9]=i,n[10]=c,n[11]=u,n[12]=d,n[13]=p,n[14]=y,n[15]=m,n[16]=v,n[17]=g,n[18]=b,n[19]=S,n[20]=t}else t=n[20];return t},oO="section-title",oL=e=>{let t=(0,h.c)(14),{customOnChange:n,customValue:a,path:l,readOnly:o}=e,r;t[0]!==l?(r={path:l},t[0]=l,t[1]=r):r=t[1];let{setValue:i,value:s}=lX(r),{t:c}=(0,d.d)(),u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=[oO].filter(Boolean),t[2]=u):u=t[2];let p=u.join(" "),m;t[3]!==n||t[4]!==i?(m=n||(e=>{e.stopPropagation(),e.preventDefault(),i(e.target.value)}),t[3]=n,t[4]=i,t[5]=m):m=t[5];let v=m,g=a||s,b;return t[6]!==a||t[7]!==v||t[8]!==l||t[9]!==o||t[10]!==c||t[11]!==g||t[12]!==s?(b=(0,f.jsx)("div",{className:p,"data-value":g,children:(0,f.jsx)("input",{className:"".concat(oO,"__input"),id:l,name:l,onChange:v,placeholder:c("general:untitled"),readOnly:o,type:"text",value:a||s||""})}),t[6]=a,t[7]=v,t[8]=l,t[9]=o,t[10]=c,t[11]=g,t[12]=s,t[13]=b):b=t[13],b},oF="blocks-field",oI=e=>{var t,n;let a=(0,h.c)(42),{addRow:l,attributes:o,block:r,blocks:i,copyRow:s,duplicateRow:c,errorCount:p,fields:v,hasMaxRows:g,isLoading:b,isSortable:x,Label:y,labels:w,listeners:j,moveRow:C,parentPath:S,pasteRow:_,path:k,permissions:N,readOnly:E,removeRow:D,row:P,rowCount:T,rowIndex:R,schemaPath:O,setCollapse:L,setNodeRef:F,transform:I}=e,A=ov(b,500),{i18n:M}=(0,d.d)(),B=eO()&&p>0,z=!(null===(t=r.admin)||void 0===t?void 0:t.disableBlockName),U=B?"".concat(oF,"__row--has-errors"):"".concat(oF,"__row--no-errors"),V;a[0]!==U?(V=["".concat(oF,"__row"),U].filter(Boolean),a[0]=U,a[1]=V):V=a[1];let H=V.join(" "),q;if(!0===N)q=!0;else{let e=null==N?void 0:null===(n=N.blocks)||void 0===n?void 0:n[r.slug];q=!0===e||(null==e?void 0:e.fields)}let W="".concat(null==S?void 0:S.split(".").join("-"),"-row-").concat(R),K;if(a[2]!==y||a[3]!==l||a[4]!==o||a[5]!==r.fields||a[6]!==r.labels||a[7]!==q||a[8]!==i||a[9]!==H||a[10]!==s||a[11]!==c||a[12]!==p||a[13]!==B||a[14]!==v||a[15]!==g||a[16]!==M||a[17]!==A||a[18]!==x||a[19]!==w||a[20]!==j||a[21]!==C||a[22]!==S||a[23]!==_||a[24]!==k||a[25]!==E||a[26]!==D||a[27]!==P.blockType||a[28]!==P.collapsed||a[29]!==P.id||a[30]!==T||a[31]!==R||a[32]!==O||a[33]!==L||a[34]!==F||a[35]!==z||a[36]!==W||a[37]!==I){let e;a[39]!==P.id||a[40]!==L?(e=e=>L(P.id,e),a[39]=P.id,a[40]=L,a[41]=e):e=a[41],K=(0,f.jsx)("div",{id:W,ref:F,style:{transform:I},children:(0,f.jsx)(ou,{actions:E?void 0:(0,f.jsx)(oR,{addRow:l,blocks:i,blockType:P.blockType,copyRow:s,duplicateRow:c,fields:r.fields,hasMaxRows:g,isSortable:x,labels:w,moveRow:C,pasteRow:_,removeRow:D,rowCount:T,rowIndex:R}),className:H,collapsibleStyle:B?"error":"default",dragHandleProps:x?{id:P.id,attributes:o,listeners:j}:void 0,header:A?(0,f.jsx)(u.d,{height:"1rem",width:"8rem"}):(0,f.jsxs)("div",{className:"".concat(oF,"__block-header"),children:[(0,f.jsx)(eH,{CustomComponent:y,label:(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"".concat(oF,"__block-number"),children:String(R+1).padStart(2,"0")}),(0,f.jsx)(om,{className:"".concat(oF,"__block-pill ").concat(oF,"__block-pill-").concat(P.blockType),pillStyle:"white",size:"small",children:(0,m.i)(r.labels.singular,M)}),z&&(0,f.jsx)(oL,{path:"".concat(k,".blockName"),readOnly:E})]}),path:k,rowNumber:R}),B&&(0,f.jsx)(no,{count:p,i18n:M,withMessage:!0})]}),isCollapsed:P.collapsed,onToggle:e,children:A?(0,f.jsx)(u.d,{}):(0,f.jsx)(f1,{className:"".concat(oF,"__fields"),fields:v,margins:"small",parentIndexPath:"",parentPath:k,parentSchemaPath:O,permissions:q,readOnly:E})},P.id)},"".concat(S,"-row-").concat(R)),a[2]=y,a[3]=l,a[4]=o,a[5]=r.fields,a[6]=r.labels,a[7]=q,a[8]=i,a[9]=H,a[10]=s,a[11]=c,a[12]=p,a[13]=B,a[14]=v,a[15]=g,a[16]=M,a[17]=A,a[18]=x,a[19]=w,a[20]=j,a[21]=C,a[22]=S,a[23]=_,a[24]=k,a[25]=E,a[26]=D,a[27]=P.blockType,a[28]=P.collapsed,a[29]=P.id,a[30]=T,a[31]=R,a[32]=O,a[33]=L,a[34]=F,a[35]=z,a[36]=W,a[37]=I,a[38]=K}else K=a[38];return K},oA="blocks-field",oM=lJ(e=>{let{i18n:t,t:n}=(0,d.d)(),{field:{name:a,type:l,admin:{className:o,description:r,isSortable:i=!0}={},blockReferences:c,blocks:p,label:h,labels:v,localized:g,maxRows:b,minRows:x,required:y},path:w,permissions:j,readOnly:C,schemaPath:S,validate:_}=e,k=null!=S?S:a,N=(null!=x?x:y)?1:0,{setDocFieldPreferences:E}=lV(),{addFieldRow:D,dispatchFields:P,getFields:T,moveFieldRow:R,removeFieldRow:O,replaceState:L,setModified:F}=eP(),{code:I}=aB(),{config:{localization:A},config:M}=(0,u.b)(),B=ap("blocks-drawer"),z=eO(),U={plural:n("fields:blocks"),singular:n("fields:block"),...v},V=!A||!A.fallback||I===A.defaultLocale,H=(0,s.useMemo)(()=>{if(!c)return p;let e=[];for(let t of c){let n="string"==typeof t?M.blocksMap[t]:t;n&&e.push(n)}return e},[c,p,M.blocksMap]),{customComponents:{AfterInput:q,BeforeInput:W,Description:K,Error:Y,Label:G}={},disabled:$,errorPaths:X,path:Q,rows:Z=[],showError:J,valid:ee,value:et}=lX({hasRows:!0,potentiallyStalePath:w,validate:(0,s.useCallback)((e,t)=>!V&&null===e||("function"==typeof _?_(e,{...t,maxRows:b,minRows:N,required:y}):void 0),[b,N,y,_,V])}),en=(0,s.useCallback)((e,t)=>{D({blockType:t,path:Q,rowIndex:e,schemaPath:k}),setTimeout(()=>{oe("".concat(Q,"-row-").concat(e+1))},0)},[D,Q,k]),ea=(0,s.useCallback)(e=>{P({type:"DUPLICATE_ROW",path:Q,rowIndex:e}),F(!0),setTimeout(()=>{oe("".concat(Q,"-row-").concat(e+1))},0)},[P,Q,F]),el=(0,s.useCallback)(e=>{O({path:Q,rowIndex:e})},[Q,O]),eo=(0,s.useCallback)((e,t)=>{R({moveFromIndex:e,moveToIndex:t,path:Q})},[R,Q]),er=(0,s.useCallback)(e=>{let{collapsedIDs:t,updatedRows:n}=aq({collapsed:e,rows:Z});P({type:"SET_ALL_ROWS_COLLAPSED",path:Q,updatedRows:n}),E(Q,{collapsed:t})},[P,Q,Z,E]),ei=(0,s.useCallback)((e,t)=>{let{collapsedIDs:n,updatedRows:a}=aH({collapsed:t,rowID:e,rows:Z});P({type:"SET_ROW_COLLAPSED",path:Q,updatedRows:a}),E(Q,{collapsed:n})},[P,Q,Z,E]),es=(0,s.useCallback)(e=>{let t=tI({type:l,blocks:H,getDataToCopy:()=>tV({formState:{...T()},path:Q,rowIndex:e}),path:Q,rowIndex:e,t:n});"string"==typeof t?e3.error(t):e3.success(n("general:copied"))},[H,Q,n,l,T]),ec=(0,s.useCallback)(e=>{let t=tA({onPaste:t=>{L(tH({dataFromClipboard:t,formState:{...T()},path:Q,rowIndex:e})),F(!0)},path:Q,schemaBlocks:H,t:n});"string"==typeof t&&e3.error(t)},[H,T,Q,L,F,n]),eu=(0,s.useCallback)(e=>{L(tH({dataFromClipboard:e,formState:{...T()},path:Q})),F(!0)},[T,Q,L,F]),ed=b&&Z.length>=b,ep=X.length,eh=z&&ep+(ee?0:1)>0,em=Z.length<N||y&&0===Z.length,ev=C&&0===Z.length;return(0,f.jsxs)("div",{className:[l1,oA,o,eh?"".concat(oA,"--has-error"):"".concat(oA,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(null==Q?void 0:Q.replace(/\./g,"__")),children:[J&&(0,f.jsx)(ef,{CustomComponent:Y,Fallback:(0,f.jsx)(ns,{path:Q,showError:J})}),(0,f.jsxs)("header",{className:"".concat(oA,"__header"),children:[(0,f.jsxs)("div",{className:"".concat(oA,"__header-wrap"),children:[(0,f.jsxs)("div",{className:"".concat(oA,"__heading-with-error"),children:[(0,f.jsx)("h3",{children:(0,f.jsx)(ef,{CustomComponent:G,Fallback:(0,f.jsx)(aV,{label:h,localized:g,path:Q,required:y})})}),eh&&ep>0&&(0,f.jsx)(no,{count:ep,i18n:t,withMessage:!0})]}),(0,f.jsxs)("ul",{className:"".concat(oA,"__header-actions"),children:[Z.length>0&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"".concat(oA,"__header-action"),onClick:()=>er(!0),type:"button",children:n("fields:collapseAll")})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"".concat(oA,"__header-action"),onClick:()=>er(!1),type:"button",children:n("fields:showAll")})})]}),(0,f.jsx)("li",{children:(0,f.jsx)(tU,{allowCopy:(null==Z?void 0:Z.length)>0,allowPaste:!C,blocks:H,className:"".concat(oA,"__header-action"),disabled:$,getDataToCopy:()=>tV({formState:{...T()},path:Q}),onPaste:eu,path:Q,type:l})})]})]}),(0,f.jsx)(ef,{CustomComponent:K,Fallback:(0,f.jsx)(ni,{description:r,path:Q})})]}),W,(0,f.jsx)(l9,{fieldValue:et,localized:g,path:Q}),(Z.length>0||!ee&&(ev||em))&&(0,f.jsxs)(na,{className:"".concat(oA,"__rows"),ids:Z.map(e=>e.id),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return eo(t,n)},children:[Z.map((e,t)=>{var n;let{blockType:a,isLoading:l}=e,o=null!==(n=M.blocksMap[a])&&void 0!==n?n:(null!=c?c:p).find(e=>"string"!=typeof e&&e.slug===a);if(o){let n="".concat(Q,".").concat(t),a=X.filter(e=>e.startsWith(n+".")).length;return(0,f.jsx)(nn,{disabled:C||$||!i,id:e.id,children:r=>{var s,u;return(0,f.jsx)(oI,{...r,addRow:en,block:o,blocks:null!=c?c:p,copyRow:es,duplicateRow:ea,errorCount:a,fields:o.fields,hasMaxRows:ed,isLoading:l,isSortable:i,Label:null==Z?void 0:null===(u=Z[t])||void 0===u?void 0:null===(s=u.customComponents)||void 0===s?void 0:s.RowLabel,labels:U,moveRow:eo,parentPath:Q,pasteRow:ec,path:n,permissions:j,readOnly:C||$,removeRow:el,row:e,rowCount:Z.length,rowIndex:t,schemaPath:k+o.slug,setCollapse:ei})}},e.id)}return null}),!V&&(0,f.jsxs)(s.Fragment,{children:[em&&(0,f.jsx)(tr,{type:"error",children:n("validation:requiresAtLeast",{count:N,label:(0,m.i)(N>1?U.plural:U.singular,t)||n(N>1?"general:row":"general:rows")})}),ev&&(0,f.jsx)(tr,{children:n("validation:fieldHasNo",{label:(0,m.i)(U.plural,t)})})]})]}),!ed&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(am,{className:"".concat(oA,"__drawer-toggler"),disabled:C||$,slug:B,children:(0,f.jsx)(tO,{buttonStyle:"icon-label",disabled:C||$,el:"span",icon:"plus",iconPosition:"left",iconStyle:"with-border",children:n("fields:addLabel",{label:(0,m.i)(U.singular,t)})})}),(0,f.jsx)(oT,{addRow:en,addRowIndex:(null==Z?void 0:Z.length)||0,blocks:null!=c?c:p,drawerSlug:B,labels:U})]}),q]})}),oB=(0,s.lazy)(()=>n.e(958).then(n.bind(n,70958))),oz=e=>(0,f.jsx)(s.Suspense,{fallback:(0,f.jsx)(u.d,{}),children:(0,f.jsx)(oB,{...e})}),oU={js:"javascript",ts:"typescript"},oV=lJ(e=>{let{field:t,field:{admin:{className:n,description:a,editorOptions:l={},language:o="javascript"}={},label:r,localized:i,required:c},onMount:u,path:d,readOnly:p,validate:h}=e,{customComponents:{AfterInput:m,BeforeInput:v,Description:g,Error:b,Label:x}={},disabled:y,path:w,setValue:j,showError:C,value:S}=lX({potentiallyStalePath:d,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof h)return h(e,{...t,required:c})},[h,c])}),_=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsxs)("div",{className:[l1,"code-field",n,C&&"error",(p||y)&&"read-only"].filter(Boolean).join(" "),style:_,children:[(0,f.jsx)(ef,{CustomComponent:x,Fallback:(0,f.jsx)(aV,{label:r,localized:i,path:w,required:c})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:b,Fallback:(0,f.jsx)(ns,{path:w,showError:C})}),v,(0,f.jsx)(oz,{defaultLanguage:oU[o]||o,onChange:p||y?()=>null:e=>j(e),onMount:u,options:l,readOnly:p||y,value:S||""}),m]}),(0,f.jsx)(ef,{CustomComponent:g,Fallback:(0,f.jsx)(ni,{description:a,path:w})})]})}),oH=e=>e.reduce((e,t)=>{var n;let a="fields"in t?t.fields:void 0;return a?(0,b.j7)(t)?e.push("".concat(t.name,".")):e.push(...oH(a)):"tabs"===t.type?"tabs"in t&&(null===(n=t.tabs)||void 0===n||n.forEach(t=>{"name"in t?e.push("".concat(t.name,".")):e.push(...oH(t.fields))})):(0,b.j7)(t)&&e.push(t.name),e},[]),oq=e=>{let t,n=(0,h.c)(12),{fields:a,path:l,setErrorCount:o}=e,[r]=eB(),i=eO(),s;n[0]!==a?(s=oH(a),n[0]=a,n[1]=s):s=n[1];let c=s,u;return n[2]!==r||n[3]!==i||n[4]!==l||n[5]!==c||n[6]!==o?(u=()=>{if(i){let e=0;Object.entries(r).forEach(t=>{let[n]=t;if(null==c?void 0:c.some(e=>{let t=[...l,e].join(".");return t.endsWith(".")?n.startsWith(t):n===t})){let t=r[n];"valid"in t&&!t.valid&&(e+=1)}}),o(e)}},n[2]=r,n[3]=i,n[4]=l,n[5]=c,n[6]=o,n[7]=u):u=n[7],n[8]!==a||n[9]!==r||n[10]!==i?(t=[r,i,a],n[8]=a,n[9]=r,n[10]=i,n[11]=t):t=n[11],aW(u,250,t),null},oW="collapsible-field",oK=lJ(e=>{let{field:t,field:{admin:{className:n,description:a,initCollapsed:l=!1}={},fields:o,label:r}={},indexPath:i,parentPath:c,parentSchemaPath:u,path:p,permissions:h,readOnly:v}=e,{i18n:g}=(0,d.d)(),{getPreference:b,setPreference:x}=aO(),{preferencesKey:y}=lV(),[w,j]=(0,s.useState)(),C="collapsible-".concat(null==p?void 0:p.replace(/\./g,"__")),[S,_]=(0,s.useState)(0),k=S>0,{customComponents:{AfterInput:N,BeforeInput:E,Description:D,Label:P}={},disabled:T}=lX({path:p}),R=(0,s.useCallback)(async e=>{var t,n;let a=await b(y);y&&x(y,{...a,...p?{fields:{...(null==a?void 0:a.fields)||{},[p]:{...null==a?void 0:null===(t=a.fields)||void 0===t?void 0:t[p],collapsed:e}}}:{fields:{...(null==a?void 0:a.fields)||{},[C]:{...null==a?void 0:null===(n=a.fields)||void 0===n?void 0:n[C],collapsed:e}}}})},[y,C,b,x,p]);(0,s.useEffect)(()=>{(async()=>{if(y){var e,t,n,a;let o=await b(y),r=p?null==o?void 0:null===(t=o.fields)||void 0===t?void 0:null===(e=t[p])||void 0===e?void 0:e.collapsed:null==o?void 0:null===(a=o.fields)||void 0===a?void 0:null===(n=a[C])||void 0===n?void 0:n.collapsed;j(void 0!==r?!!r:"boolean"==typeof l&&l)}else j("boolean"==typeof l&&l)})()},[b,y,C,l,p]);let O=(0,s.useMemo)(()=>l0(t),[t]);return"boolean"!=typeof w?null:(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(oq,{fields:o,path:p.split(".").slice(0,-1),setErrorCount:_}),(0,f.jsxs)("div",{className:[l1,oW,n,k?"".concat(oW,"--has-error"):"".concat(oW,"--has-no-error")].filter(Boolean).join(" "),id:"field-".concat(C),style:O,children:[E,(0,f.jsx)(ou,{className:"".concat(oW,"__collapsible"),collapsibleStyle:k?"error":"default",header:(0,f.jsxs)("div",{className:"".concat(oW,"__row-label-wrap"),children:[(0,f.jsx)(eH,{CustomComponent:P,label:(0,m.i)(r,g),path:p}),k&&(0,f.jsx)(no,{count:S,i18n:g,withMessage:!0})]}),initCollapsed:w,onToggle:R,children:(0,f.jsx)(f1,{fields:o,margins:"small",parentIndexPath:i,parentPath:c,parentSchemaPath:u,permissions:h,readOnly:v||T})}),N,(0,f.jsx)(ef,{CustomComponent:D,Fallback:(0,f.jsx)(ni,{description:a,path:p})})]})]})}),oY=(0,s.lazy)(()=>n.e(6261).then(n.bind(n,46261))),oG=e=>(0,f.jsx)(s.Suspense,{fallback:(0,f.jsx)(u.d,{height:50}),children:(0,f.jsx)(oY,{...e})});function o$(e){return(o$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oX(e){var t=function(e,t){if("object"!=o$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=o$(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o$(t)?t:t+""}function oQ(e,t,n){return(t=oX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function oJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oZ(Object(n),!0).forEach(function(t){oQ(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o0(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function o1(e,t){if(e){if("string"==typeof e)return o0(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o0(e,t):void 0}}function o3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,l,o,r,i=[],s=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=o.call(n)).done)&&(i.push(a.value),i.length!==t);s=!0);}catch(e){c=!0,l=e}finally{try{if(!s&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw l}}return i}}(e,t)||o1(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o2(e,t){if(null==e)return{};var n,a,l=nh(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.includes(n)||({}).propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var o6=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function o5(e){var t=e.defaultInputValue,n=e.defaultMenuIsOpen,a=e.defaultValue,l=e.inputValue,o=e.menuIsOpen,r=e.onChange,i=e.onInputChange,c=e.onMenuClose,u=e.onMenuOpen,d=e.value,p=o2(e,o6),f=o3((0,s.useState)(void 0!==l?l:void 0===t?"":t),2),h=f[0],m=f[1],v=o3((0,s.useState)(void 0!==o?o:void 0!==n&&n),2),g=v[0],b=v[1],x=o3((0,s.useState)(void 0!==d?d:void 0===a?null:a),2),y=x[0],w=x[1],j=(0,s.useCallback)(function(e,t){"function"==typeof r&&r(e,t),w(e)},[r]),C=(0,s.useCallback)(function(e,t){var n;"function"==typeof i&&(n=i(e,t)),m(void 0!==n?n:e)},[i]),S=(0,s.useCallback)(function(){"function"==typeof u&&u(),b(!0)},[u]),_=(0,s.useCallback)(function(){"function"==typeof c&&c(),b(!1)},[c]),k=void 0!==l?l:h,N=void 0!==o?o:g,E=void 0!==d?d:y;return oJ(oJ({},p),{},{inputValue:k,menuIsOpen:N,onChange:j,onInputChange:C,onMenuClose:_,onMenuOpen:S,value:E})}function o4(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,oX(a.key),a)}}function o8(e){return(o8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(o7=function(){return!!e})()}function o9(e){return function(e){if(Array.isArray(e))return o0(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o1(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var re=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(((t=document.createElement("style")).setAttribute("data-emotion",this.key),void 0!==this.nonce&&t.setAttribute("nonce",this.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t));var t,n=this.tags[this.tags.length-1];if(this.isSpeedy){var a=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(n);try{a.insertRule(e,a.cssRules.length)}catch(e){}}else n.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),rt="-ms-",rn="-moz-",ra="-webkit-",rl="comm",ro="rule",rr="decl",ri="@keyframes",rs=Math.abs,rc=String.fromCharCode,ru=Object.assign;function rd(e,t,n){return e.replace(t,n)}function rp(e,t){return e.indexOf(t)}function rf(e,t){return 0|e.charCodeAt(t)}function rh(e,t,n){return e.slice(t,n)}function rm(e){return e.length}function rv(e,t){return t.push(e),e}var rg=1,rb=1,rx=0,ry=0,rw=0,rj="";function rC(e,t,n,a,l,o,r){return{value:e,root:t,parent:n,type:a,props:l,children:o,line:rg,column:rb,length:r,return:""}}function rS(e,t){return ru(rC("",null,null,"",null,null,0),e,{length:-e.length},t)}function r_(){return rw=ry<rx?rf(rj,ry++):0,rb++,10===rw&&(rb=1,rg++),rw}function rk(){return rf(rj,ry)}function rN(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function rE(e){return rg=rb=1,rx=rm(rj=e),ry=0,[]}function rD(e){var t,n;return(t=ry-1,n=function e(t){for(;r_();)switch(rw){case t:return ry;case 34:case 39:34!==t&&39!==t&&e(rw);break;case 40:41===t&&e(t);break;case 92:r_()}return ry}(91===e?e+2:40===e?e+1:e),rh(rj,t,n)).trim()}function rP(e,t,n,a,l,o,r,i,s,c,u){for(var d=l-1,p=0===l?o:[""],f=p.length,h=0,m=0,v=0;h<a;++h)for(var g=0,b=rh(e,d+1,d=rs(m=r[h])),x=e;g<f;++g)(x=(m>0?p[g]+" "+b:rd(b,/&\f/g,p[g])).trim())&&(s[v++]=x);return rC(e,t,n,0===l?ro:i,s,c,u)}function rT(e,t,n,a){return rC(e,t,n,rr,rh(e,0,a),rh(e,a+1,-1),a)}function rR(e,t){for(var n="",a=e.length,l=0;l<a;l++)n+=t(e[l],l,e,t)||"";return n}function rO(e,t,n,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case rr:return e.return=e.return||e.value;case rl:return"";case ri:return e.return=e.value+"{"+rR(e.children,a)+"}";case ro:e.value=e.props.join(",")}return rm(n=rR(e.children,a))?e.return=e.value+"{"+n+"}":""}var rL=function(e,t,n){for(var a=0,l=0;a=l,l=rk(),38===a&&12===l&&(t[n]=1),!rN(l);)r_();return rh(rj,e,ry)},rF=function(e,t){var n=-1,a=44;do switch(rN(a)){case 0:38===a&&12===rk()&&(t[n]=1),e[n]+=rL(ry-1,t,n);break;case 2:e[n]+=rD(a);break;case 4:if(44===a){e[++n]=58===rk()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=rc(a)}while(a=r_());return e},rI=function(e,t){var n;return n=rF(rE(e),t),rj="",n},rA=new WeakMap,rM=function(e){if(!("rule"!==e.type||!e.parent||e.length<1)){for(var t=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if(!(1===e.props.length&&58!==t.charCodeAt(0)&&!rA.get(n))&&!a){rA.set(e,!0);for(var l=[],o=rI(t,l),r=n.props,i=0,s=0;i<o.length;i++)for(var c=0;c<r.length;c++,s++)e.props[s]=l[i]?o[i].replace(/&\f/g,r[c]):r[c]+" "+o[i]}}},rB=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},rz=[function(e,t,n,a){if(e.length>-1&&!e.return)switch(e.type){case rr:e.return=function e(t,n){switch(45^rf(t,0)?(((n<<2^rf(t,0))<<2^rf(t,1))<<2^rf(t,2))<<2^rf(t,3):0){case 5103:return ra+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ra+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return ra+t+rn+t+rt+t+t;case 6828:case 4268:return ra+t+rt+t+t;case 6165:return ra+t+rt+"flex-"+t+t;case 5187:return ra+t+rd(t,/(\w+).+(:[^]+)/,ra+"box-$1$2"+rt+"flex-$1$2")+t;case 5443:return ra+t+rt+"flex-item-"+rd(t,/flex-|-self/,"")+t;case 4675:return ra+t+rt+"flex-line-pack"+rd(t,/align-content|flex-|-self/,"")+t;case 5548:return ra+t+rt+rd(t,"shrink","negative")+t;case 5292:return ra+t+rt+rd(t,"basis","preferred-size")+t;case 6060:return ra+"box-"+rd(t,"-grow","")+ra+t+rt+rd(t,"grow","positive")+t;case 4554:return ra+rd(t,/([^-])(transform)/g,"$1"+ra+"$2")+t;case 6187:return rd(rd(rd(t,/(zoom-|grab)/,ra+"$1"),/(image-set)/,ra+"$1"),t,"")+t;case 5495:case 3959:return rd(t,/(image-set\([^]*)/,ra+"$1$`$1");case 4968:return rd(rd(t,/(.+:)(flex-)?(.*)/,ra+"box-pack:$3"+rt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ra+t+t;case 4095:case 3583:case 4068:case 2532:return rd(t,/(.+)-inline(.+)/,ra+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(rm(t)-1-n>6)switch(rf(t,n+1)){case 109:if(45!==rf(t,n+4))break;case 102:return rd(t,/(.+:)(.+)-([^]+)/,"$1"+ra+"$2-$3$1"+rn+(108==rf(t,n+3)?"$3":"$2-$3"))+t;case 115:return~rp(t,"stretch")?e(rd(t,"stretch","fill-available"),n)+t:t}break;case 4949:if(115!==rf(t,n+1))break;case 6444:switch(rf(t,rm(t)-3-(~rp(t,"!important")&&10))){case 107:return rd(t,":",":"+ra)+t;case 101:return rd(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ra+(45===rf(t,14)?"inline-":"")+"box$3$1"+ra+"$2$3$1"+rt+"$2box$3")+t}break;case 5936:switch(rf(t,n+11)){case 114:return ra+t+rt+rd(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return ra+t+rt+rd(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return ra+t+rt+rd(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return ra+t+rt+t+t}return t}(e.value,e.length);break;case ri:return rR([rS(e,{value:rd(e.value,"@","@"+ra)})],a);case ro:if(e.length){var l,o;return l=e.props,o=function(t){var n;switch(n=t,(n=/(::plac\w+|:read-\w+)/.exec(n))?n[0]:n){case":read-only":case":read-write":return rR([rS(e,{props:[rd(t,/:(read-\w+)/,":"+rn+"$1")]})],a);case"::placeholder":return rR([rS(e,{props:[rd(t,/:(plac\w+)/,":"+ra+"input-$1")]}),rS(e,{props:[rd(t,/:(plac\w+)/,":"+rn+"$1")]}),rS(e,{props:[rd(t,/:(plac\w+)/,rt+"input-$1")]})],a)}return""},l.map(o).join("")}}}],rU=function(e,t,n){var a=e.key+"-"+t.name;!1===n&&void 0===e.registered[a]&&(e.registered[a]=t.styles)},rV=function(e,t,n){rU(e,t,n);var a=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var l=t;do e.insert(t===l?"."+a:"",l,e.sheet,!0),l=l.next;while(void 0!==l)}},rH={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},rq=/[A-Z]|^ms/g,rW=/_EMO_([^_]+?)_([^]*?)_EMO_/g,rK=function(e){return 45===e.charCodeAt(1)},rY=function(e){return null!=e&&"boolean"!=typeof e},rG=(rQ=function(e){return rK(e)?e:e.replace(rq,"-$&").toLowerCase()},rZ=Object.create(null),function(e){return void 0===rZ[e]&&(rZ[e]=rQ(e)),rZ[e]}),r$=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(rW,function(e,t,n){return rJ={name:t,styles:n,next:rJ},t})}return 1===rH[e]||rK(e)||"number"!=typeof t||0===t?t:t+"px"};function rX(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return rJ={name:n.name,styles:n.styles,next:rJ},n.name;if(void 0!==n.styles){var a=n.next;if(void 0!==a)for(;void 0!==a;)rJ={name:a.name,styles:a.styles,next:rJ},a=a.next;return n.styles+";"}return function(e,t,n){var a="";if(Array.isArray(n))for(var l=0;l<n.length;l++)a+=rX(e,t,n[l])+";";else for(var o in n){var r=n[o];if("object"!=typeof r)null!=t&&void 0!==t[r]?a+=o+"{"+t[r]+"}":rY(r)&&(a+=rG(o)+":"+r$(o,r)+";");else if(Array.isArray(r)&&"string"==typeof r[0]&&(null==t||void 0===t[r[0]]))for(var i=0;i<r.length;i++)rY(r[i])&&(a+=rG(o)+":"+r$(o,r[i])+";");else{var s=rX(e,t,r);switch(o){case"animation":case"animationName":a+=rG(o)+":"+s+";";break;default:a+=o+"{"+s+"}"}}}return a}(e,t,n);case"function":if(void 0!==e){var l=rJ,o=n(e);return rJ=l,rX(e,t,o)}}if(null==t)return n;var r=t[n];return void 0!==r?r:n}var rQ,rZ,rJ,r0=/label:\s*([^\s;{]+)\s*(;|$)/g;function r1(e,t,n){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var a=!0,l="";rJ=void 0;var o=e[0];null==o||void 0===o.raw?(a=!1,l+=rX(n,t,o)):l+=o[0];for(var r=1;r<e.length;r++)l+=rX(n,t,e[r]),a&&(l+=o[r]);r0.lastIndex=0;for(var i,s="";null!==(i=r0.exec(l));)s+="-"+i[1];return{name:function(e){for(var t,n=0,a=0,l=e.length;l>=4;++a,l-=4)t=(65535&(t=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24))*1540483477+((t>>>16)*59797<<16),t^=t>>>24,n=(65535&t)*1540483477+((t>>>16)*59797<<16)^(65535&n)*1540483477+((n>>>16)*59797<<16);switch(l){case 3:n^=(255&e.charCodeAt(a+2))<<16;case 2:n^=(255&e.charCodeAt(a+1))<<8;case 1:n^=255&e.charCodeAt(a),n=(65535&n)*1540483477+((n>>>16)*59797<<16)}return n^=n>>>13,(((n=(65535&n)*1540483477+((n>>>16)*59797<<16))^n>>>15)>>>0).toString(36)}(l)+s,styles:l,next:rJ}}var r3=!!s.useInsertionEffect&&s.useInsertionEffect||function(e){return e()},r2=s.createContext("u">typeof HTMLElement?function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var a,l=e.stylisPlugins||rz,o={},r=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;r.push(e)});var i,s,c,u,d,p=(s=(i=[rM,rB].concat(l,[rO,(u=function(e){d.insert(e)},function(e){e.root||(e=e.return)&&u(e)})])).length,function(e,t,n,a){for(var l="",o=0;o<s;o++)l+=i[o](e,t,n,a)||"";return l}),f=function(e){var t,n;return rR((n=function e(t,n,a,l,o,r,i,s,c){for(var u,d=0,p=0,f=i,h=0,m=0,v=0,g=1,b=1,x=1,y=0,w="",j=o,C=r,S=l,_=w;b;)switch(v=y,y=r_()){case 40:if(108!=v&&58==rf(_,f-1)){-1!=rp(_+=rd(rD(y),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:_+=rD(y);break;case 9:case 10:case 13:case 32:_+=function(e){for(;(rw=rk())&&rw<33;)r_();return rN(e)>2||rN(rw)>3?"":" "}(v);break;case 92:_+=function(e,t){for(var n;--t&&r_()&&!(rw<48||rw>102||rw>57&&rw<65||rw>70&&rw<97););return n=ry+(t<6&&32==rk()&&32==r_()),rh(rj,e,n)}(ry-1,7);continue;case 47:switch(rk()){case 42:case 47:rv(rC(u=function(e,t){for(;r_()&&e+rw!==57&&(e+rw!==84||47!==rk()););return"/*"+rh(rj,t,ry-1)+"*"+rc(47===e?e:r_())}(r_(),ry),n,a,rl,rc(rw),rh(u,2,-2),0),c);break;default:_+="/"}break;case 123*g:s[d++]=rm(_)*x;case 125*g:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+p:-1==x&&(_=rd(_,/\f/g,"")),m>0&&rm(_)-f&&rv(m>32?rT(_+";",l,a,f-1):rT(rd(_," ","")+";",l,a,f-2),c);break;case 59:_+=";";default:if(rv(S=rP(_,n,a,d,p,o,s,w,j=[],C=[],f),r),123===y){if(0===p)e(_,n,S,S,j,r,f,s,C);else switch(99===h&&110===rf(_,3)?100:h){case 100:case 108:case 109:case 115:e(t,S,S,l&&rv(rP(t,S,S,0,0,o,s,w,o,j=[],f),C),o,C,f,s,l?j:C);break;default:e(_,S,S,S,[""],C,0,s,C)}}}d=p=m=0,g=x=1,w=_="",f=i;break;case 58:f=1+rm(_),m=v;default:if(g<1){if(123==y)--g;else if(125==y&&0==g++&&125==(rw=ry>0?rf(rj,--ry):0,rb--,10===rw&&(rb=1,rg--),rw))continue}switch(_+=rc(y),y*g){case 38:x=p>0?1:(_+="\f",-1);break;case 44:s[d++]=(rm(_)-1)*x,x=1;break;case 64:45===rk()&&(_+=rD(r_())),h=rk(),p=f=rm(w=_+=function(e){for(;!rN(rk());)r_();return rh(rj,e,ry)}(ry)),y++;break;case 45:45===v&&2==rm(_)&&(g=0)}}return r}("",null,null,null,[""],t=rE(t=e),0,[0],t),rj="",n),p)};c=function(e,t,n,a){d=n,f(e?e+"{"+t.styles+"}":t.styles),a&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new re({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:c};return h.sheet.hydrate(r),h}({key:"css"}):null);r2.Provider;var r6=s.createContext({}),r5={}.hasOwnProperty,r4="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",r8=function(e,t){var n={};for(var a in t)r5.call(t,a)&&(n[a]=t[a]);return n[r4]=e,n},r7=function(e){var t=e.cache,n=e.serialized,a=e.isStringTag;return rU(t,n,a),r3(function(){return rV(t,n,a)}),null},r9=(iw=function(e,t,n){var a,l,o,r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[r4],c=[r],u="";"string"==typeof e.className?(a=t.registered,l=e.className,o="",l.split(" ").forEach(function(e){void 0!==a[e]?c.push(a[e]+";"):e&&(o+=e+" ")}),u=o):null!=e.className&&(u=e.className+" ");var d=r1(c,void 0,s.useContext(r6));u+=t.key+"-"+d.name;var p={};for(var f in e)r5.call(e,f)&&"css"!==f&&f!==r4&&(p[f]=e[f]);return p.className=u,n&&(p.ref=n),s.createElement(s.Fragment,null,s.createElement(r7,{cache:t,serialized:d,isStringTag:"string"==typeof i}),s.createElement(i,p))},(0,s.forwardRef)(function(e,t){return iw(e,(0,s.useContext)(r2),t)}));(0,p.e)(er());var ie=function(e,t){var n=arguments;if(null==t||!r5.call(t,"css"))return s.createElement.apply(void 0,n);var a=n.length,l=Array(a);l[0]=r9,l[1]=r8(e,t);for(var o=2;o<a;o++)l[o]=n[o];return s.createElement.apply(null,l)};function it(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r1(t)}ij=ie||(ie={}),iC||(iC=ij.JSX||(ij.JSX={})),(0,d.l)();var ia=s.useLayoutEffect,il=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],io=function(){};function ir(e,t){for(var n=arguments.length,a=Array(n>2?n-2:0),l=2;l<n;l++)a[l-2]=arguments[l];var o=[].concat(a);if(t&&e)for(var r in t)t.hasOwnProperty(r)&&t[r]&&o.push("".concat(r?"-"===r[0]?e+r:e+"__"+r:e));return o.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var ii=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===o$(e)&&null!==e?[e]:[]},is=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,oJ({},o2(e,il))},ic=function(e,t,n){var a=e.cx,l=e.getStyles,o=e.getClassNames,r=e.className;return{css:l(t,e),className:a(null!=n?n:{},o(t,e),r)}};function iu(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function id(e){return iu(e)?window.pageYOffset:e.scrollTop}function ip(e,t){if(iu(e)){window.scrollTo(0,t);return}e.scrollTop=t}function ih(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:io,l=id(e),o=t-l,r=0;!function t(){var i;r+=10,ip(e,o*((i=(i=r)/n-1)*i*i+1)+l),r<n?window.requestAnimationFrame(t):a(e)}()}function im(e,t){var n=e.getBoundingClientRect(),a=t.getBoundingClientRect(),l=t.offsetHeight/3;a.bottom+l>n.bottom?ip(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+l,e.scrollHeight)):a.top-l<n.top&&ip(e,Math.max(t.offsetTop-l,0))}function iv(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var ig=!1,ib="u">typeof window?window:{};ib.addEventListener&&ib.removeEventListener&&(ib.addEventListener("p",io,{get passive(){return ig=!0}}),ib.removeEventListener("p",io,!1));var ix=ig;function iy(e){return null!=e}var iw,ij,iC,iS,i_=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Object.entries(e).filter(function(e){var t=o3(e,1)[0];return!n.includes(t)}).reduce(function(e,t){var n=o3(t,2),a=n[0],l=n[1];return e[a]=l,e},{})},ik=["children","innerProps"],iN=["children","innerProps"],iE=function(e){return"auto"===e?"bottom":e},iD=(0,s.createContext)(null),iP=function(e){var t=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,l=e.menuPlacement,o=e.menuPosition,r=e.menuShouldScrollIntoView,i=e.theme,c=((0,s.useContext)(iD)||{}).setPortalPlacement,u=(0,s.useRef)(null),d=o3((0,s.useState)(a),2),p=d[0],f=d[1],h=o3((0,s.useState)(null),2),m=h[0],v=h[1],g=i.spacing.controlHeight;return ia(function(){var e=u.current;if(e){var t="fixed"===o,i=function(e){var t=e.maxHeight,n=e.menuEl,a=e.minHeight,l=e.placement,o=e.shouldScroll,r=e.isFixedPosition,i=e.controlHeight,s=function(e){var t=getComputedStyle(e),n="absolute"===t.position,a=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var l=e;l=l.parentElement;)if(t=getComputedStyle(l),!(n&&"static"===t.position)&&a.test(t.overflow+t.overflowY+t.overflowX))return l;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=s.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,f=d.height,h=d.top,m=n.offsetParent.getBoundingClientRect().top,v=r?window.innerHeight:iu(s)?window.innerHeight:s.clientHeight,g=id(s),b=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),y=m-x,w=v-h,j=y+g,C=u-g-h,S=p-v+g+b,_=g+h-x;switch(l){case"auto":case"bottom":if(w>=f)return{placement:"bottom",maxHeight:t};if(C>=f&&!r)return o&&ih(s,S,160),{placement:"bottom",maxHeight:t};if(!r&&C>=a||r&&w>=a)return o&&ih(s,S,160),{placement:"bottom",maxHeight:r?w-b:C-b};if("auto"===l||r){var k=t,N=r?y:j;return N>=a&&(k=Math.min(N-b-i,t)),{placement:"top",maxHeight:k}}if("bottom"===l)return o&&ip(s,S),{placement:"bottom",maxHeight:t};break;case"top":if(y>=f)return{placement:"top",maxHeight:t};if(j>=f&&!r)return o&&ih(s,_,160),{placement:"top",maxHeight:t};if(!r&&j>=a||r&&y>=a){var E=t;return(!r&&j>=a||r&&y>=a)&&(E=r?y-x:j-x),o&&ih(s,_,160),{placement:"top",maxHeight:E}}return{placement:"bottom",maxHeight:t};default:throw Error('Invalid placement provided "'.concat(l,'".'))}return c}({maxHeight:a,menuEl:e,minHeight:n,placement:l,shouldScroll:r&&!t,isFixedPosition:t,controlHeight:g});f(i.maxHeight),v(i.placement),null==c||c(i.placement)}},[a,l,o,r,n,c,g]),t({ref:u,placerProps:oJ(oJ({},e),{},{placement:m||iE(l),maxHeight:p})})},iT=function(e,t){var n=e.theme,a=n.spacing.baseUnit,l=n.colors;return oJ({textAlign:"center"},t?{}:{color:l.neutral40,padding:"".concat(2*a,"px ").concat(3*a,"px")})},iR=["size"],iO=["innerProps","isRtl","size"],iL={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},iF=function(e){var t=e.size,n=o2(e,iR);return ie("svg",nf({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:iL},n))},iI=function(e){return ie(iF,nf({size:20},e),ie("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},iA=function(e){return ie(iF,nf({size:20},e),ie("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},iM=function(e,t){var n=e.isFocused,a=e.theme,l=a.spacing.baseUnit,o=a.colors;return oJ({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*l,":hover":{color:n?o.neutral80:o.neutral40}})},iB=function(){var e=it.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(iS||(i3=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],i2||(i2=i3.slice(0)),iS=Object.freeze(Object.defineProperties(i3,{raw:{value:Object.freeze(i2)}})))),iz=function(e){var t=e.delay,n=e.offset;return ie("span",{css:it({animation:"".concat(iB," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},iU=["data"],iV=["innerRef","isDisabled","isHidden","inputClassName"],iH={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},iq={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":oJ({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},iH)},iW=function(e){var t=e.children,n=e.innerProps;return ie("div",n,t)},iK={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return ie("div",nf({},ic(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||ie(iI,null))},Control:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,l=e.innerRef,o=e.innerProps,r=e.menuIsOpen;return ie("div",nf({ref:l},ic(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":r}),o,{"aria-disabled":n||void 0}),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return ie("div",nf({},ic(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||ie(iA,null))},DownChevron:iA,CrossIcon:iI,Group:function(e){var t=e.children,n=e.cx,a=e.getStyles,l=e.getClassNames,o=e.Heading,r=e.headingProps,i=e.innerProps,s=e.label,c=e.theme,u=e.selectProps;return ie("div",nf({},ic(e,"group",{group:!0}),i),ie(o,nf({},r,{selectProps:u,theme:c,getStyles:a,getClassNames:l,cx:n}),s),ie("div",null,t))},GroupHeading:function(e){var t=is(e);t.data;var n=o2(t,iU);return ie("div",nf({},ic(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return ie("div",nf({},ic(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return ie("span",nf({},t,ic(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,a=is(e),l=a.innerRef,o=a.isDisabled,r=a.isHidden,i=a.inputClassName,s=o2(a,iV);return ie("div",nf({},ic(e,"input",{"input-container":!0}),{"data-value":n||""}),ie("input",nf({className:t({input:!0},i),ref:l,style:oJ({label:"input",color:"inherit",background:0,opacity:r?0:1,width:"100%"},iH),disabled:o},s)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,a=e.size,l=o2(e,iO);return ie("div",nf({},ic(oJ(oJ({},l),{},{innerProps:t,isRtl:n,size:void 0===a?4:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),ie(iz,{delay:0,offset:n}),ie(iz,{delay:160,offset:!0}),ie(iz,{delay:320,offset:!n}))},Menu:function(e){var t=e.children,n=e.innerRef,a=e.innerProps;return ie("div",nf({},ic(e,"menu",{menu:!0}),{ref:n},a),t)},MenuList:function(e){var t=e.children,n=e.innerProps,a=e.innerRef,l=e.isMulti;return ie("div",nf({},ic(e,"menuList",{"menu-list":!0,"menu-list--is-multi":l}),{ref:a},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,a=e.controlElement,l=e.innerProps,o=e.menuPlacement,r=e.menuPosition,i=(0,s.useRef)(null),u=(0,s.useRef)(null),p=o3((0,s.useState)(iE(o)),2),f=p[0],h=p[1],m=(0,s.useMemo)(function(){return{setPortalPlacement:h}},[]),v=o3((0,s.useState)(null),2),g=v[0],b=v[1],x=(0,s.useCallback)(function(){if(a){var e,t={bottom:(e=a.getBoundingClientRect()).bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width},n="fixed"===r?0:window.pageYOffset,l=t[f]+n;(l!==(null==g?void 0:g.offset)||t.left!==(null==g?void 0:g.rect.left)||t.width!==(null==g?void 0:g.rect.width))&&b({offset:l,rect:t})}},[a,r,f,null==g?void 0:g.offset,null==g?void 0:g.rect.left,null==g?void 0:g.rect.width]);ia(function(){x()},[x]);var y=(0,s.useCallback)(function(){"function"==typeof u.current&&(u.current(),u.current=null),a&&i.current&&(u.current=(0,d.k)(a,i.current,x,{elementResize:"ResizeObserver"in window}))},[a,x]);ia(function(){y()},[y]);var w=(0,s.useCallback)(function(e){i.current=e,y()},[y]);if(!t&&"fixed"!==r||!g)return null;var j=ie("div",nf({ref:w},ic(oJ(oJ({},e),{},{offset:g.offset,position:r,rect:g.rect}),"menuPortal",{"menu-portal":!0}),l),n);return ie(iD.Provider,{value:m},t?(0,c.createPortal)(j,t):j)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,a=e.innerProps,l=o2(e,iN);return ie("div",nf({},ic(oJ(oJ({},l),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,a=e.innerProps,l=o2(e,ik);return ie("div",nf({},ic(oJ(oJ({},l),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},MultiValue:function(e){var t=e.children,n=e.components,a=e.data,l=e.innerProps,o=e.isDisabled,r=e.removeProps,i=e.selectProps,s=n.Container,c=n.Label,u=n.Remove;return ie(s,{data:a,innerProps:oJ(oJ({},ic(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),l),selectProps:i},ie(c,{data:a,innerProps:oJ({},ic(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:i},t),ie(u,{data:a,innerProps:oJ(oJ({},ic(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},r),selectProps:i}))},MultiValueContainer:iW,MultiValueLabel:iW,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return ie("div",nf({role:"button"},n),t||ie(iI,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,a=e.isFocused,l=e.isSelected,o=e.innerRef,r=e.innerProps;return ie("div",nf({},ic(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":l}),{ref:o,"aria-disabled":n},r),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return ie("div",nf({},ic(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,a=e.isDisabled,l=e.isRtl;return ie("div",nf({},ic(e,"container",{"--is-disabled":a,"--is-rtl":l}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,a=e.innerProps;return ie("div",nf({},ic(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,a=e.isMulti,l=e.hasValue;return ie("div",nf({},ic(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":l}),n),t)}},iY=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function iG(e,t){if(e.length!==t.length)return!1;for(var n,a,l=0;l<e.length;l++)if(!((n=e[l])===(a=t[l])||iY(n)&&iY(a)))return!1;return!0}var i$={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},iX=function(e){return ie("span",nf({css:i$},e))},iQ={guidance:function(e){var t=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,l=e.context,o=e.isInitialFocus;switch(l){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,a=void 0===n?"":n,l=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(l.length>1?"s":""," ").concat(l.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,a=e.options,l=e.label,o=void 0===l?"":l,r=e.selectValue,i=e.isDisabled,s=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&r)return"value ".concat(o," focused, ").concat(u(r,n),".");if("menu"===t&&c){var d="".concat(s?" selected":"").concat(i?" disabled":"");return"".concat(o).concat(d,", ").concat(u(a,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},iZ=function(e){var t=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,l=e.focusableOptions,o=e.isFocused,r=e.selectValue,i=e.selectProps,c=e.id,u=e.isAppleDevice,d=i.ariaLiveMessages,p=i.getOptionLabel,f=i.inputValue,h=i.isMulti,m=i.isOptionDisabled,v=i.isSearchable,g=i.menuIsOpen,b=i.options,x=i.screenReaderStatus,y=i.tabSelectsValue,w=i.isLoading,j=i["aria-label"],C=i["aria-live"],S=(0,s.useMemo)(function(){return oJ(oJ({},iQ),d||{})},[d]),_=(0,s.useMemo)(function(){var e="";if(t&&S.onChange){var n=t.option,a=t.options,l=t.removedValue,o=t.removedValues,i=t.value,s=l||n||(Array.isArray(i)?null:i),c=s?p(s):"",u=a||o||void 0,d=u?u.map(p):[],f=oJ({isDisabled:s&&m(s,r),label:c,labels:d},t);e=S.onChange(f)}return e},[t,S,m,r,p]),k=(0,s.useMemo)(function(){var e="",t=n||a,o=!!(n&&r&&r.includes(n));if(t&&S.onFocus){var i={focused:t,label:p(t),isDisabled:m(t,r),isSelected:o,options:l,context:t===n?"menu":"value",selectValue:r,isAppleDevice:u};e=S.onFocus(i)}return e},[n,a,p,m,S,l,r,u]),N=(0,s.useMemo)(function(){var e="";if(g&&b.length&&!w&&S.onFilter){var t=x({count:l.length});e=S.onFilter({inputValue:f,resultsMessage:t})}return e},[l,f,g,S,b,x,w]),E=(null==t?void 0:t.action)==="initial-input-focus",D=(0,s.useMemo)(function(){var e="";if(S.guidance){var t=a?"value":g?"menu":"input";e=S.guidance({"aria-label":j,context:t,isDisabled:n&&m(n,r),isMulti:h,isSearchable:v,tabSelectsValue:y,isInitialFocus:E})}return e},[j,n,a,h,m,v,g,S,r,y,E]),P=ie(s.Fragment,null,ie("span",{id:"aria-selection"},_),ie("span",{id:"aria-focused"},k),ie("span",{id:"aria-results"},N),ie("span",{id:"aria-guidance"},D));return ie(s.Fragment,null,ie(iX,{id:c},E&&P),ie(iX,{"aria-live":C,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!E&&P))},iJ=[{base:"A",letters:"AⒶＡ\xc0\xc1\xc2ẦẤẪẨ\xc3ĀĂẰẮẴẲȦǠ\xc4ǞẢ\xc5ǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"\xc6ǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČ\xc7ḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥ\xc8\xc9\xcaỀẾỄỂẼĒḔḖĔĖ\xcbẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩ\xcc\xcd\xceĨĪĬİ\xcfḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃ\xd1ṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯ\xd2\xd3\xd4ỒỐỖỔ\xd5ṌȬṎŌṐṒŎȮȰ\xd6ȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬ\xd8ǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵ\xd9\xda\xdbŨṸŪṺŬ\xdcǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲ\xddŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚ\xe0\xe1\xe2ầấẫẩ\xe3āăằắẵẳȧǡ\xe4ǟả\xe5ǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"\xe6ǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċč\xe7ḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅ\xe8\xe9\xeaềếễểẽēḕḗĕė\xebẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉ\xec\xed\xeeĩīĭ\xefḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹń\xf1ṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏ\xf2\xf3\xf4ồốỗổ\xf5ṍȭṏōṑṓŏȯȱ\xf6ȫỏőǒȍȏơờớỡởợọộǫǭ\xf8ǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓ\xdfśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕ\xf9\xfa\xfbũṹūṻŭ\xfcǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳ\xfdŷỹȳẏ\xffỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],i0=RegExp("["+iJ.map(function(e){return e.letters}).join("")+"]","g"),i1={};for(i4=0;i4<iJ.length;i4++)for(i6=iJ[i4],i5=0;i5<i6.letters.length;i5++)i1[i6.letters[i5]]=i6.base;var i3,i2,i6,i5,i4,i8=function(e){return e.replace(i0,function(e){return i1[e]})},i7=function(e,t){void 0===t&&(t=iG);var n=null;function a(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];if(n&&n.lastThis===this&&t(a,n.lastArgs))return n.lastResult;var o=e.apply(this,a);return n={lastResult:o,lastArgs:a,lastThis:this},o}return a.clear=function(){n=null},a}(i8),i9=function(e){return e.replace(/^\s+|\s+$/g,"")},se=function(e){return"".concat(e.label," ").concat(e.value)},st=["innerRef"];function sn(e){var t=e.innerRef,n=i_(o2(e,st),"onExited","in","enter","exit","appear");return ie("input",nf({ref:t},n,{css:it({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var sa=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()},sl=["boxSizing","height","overflow","paddingRight","position"],so={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function sr(e){e.cancelable&&e.preventDefault()}function si(e){e.stopPropagation()}function ss(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function sc(){return"ontouchstart"in window||navigator.maxTouchPoints}var su=!!("u">typeof window&&window.document&&window.document.createElement),sd=0,sp={capture:!1,passive:!1},sf=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},sh={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function sm(e){var t,n,a,l,o,r,i,c,u,d,p,f,h,m,v,g,b,x,y,w,j,C,S,_,k=e.children,N=e.lockEnabled,E=e.captureEnabled,D=(n=(t={isEnabled:void 0===E||E,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}).isEnabled,a=t.onBottomArrive,l=t.onBottomLeave,o=t.onTopArrive,r=t.onTopLeave,i=(0,s.useRef)(!1),c=(0,s.useRef)(!1),u=(0,s.useRef)(0),d=(0,s.useRef)(null),p=(0,s.useCallback)(function(e,t){if(null!==d.current){var n=d.current,s=n.scrollTop,u=n.scrollHeight,p=n.clientHeight,f=d.current,h=t>0,m=u-p-s,v=!1;m>t&&i.current&&(l&&l(e),i.current=!1),h&&c.current&&(r&&r(e),c.current=!1),h&&t>m?(a&&!i.current&&a(e),f.scrollTop=u,v=!0,i.current=!0):!h&&-t>s&&(o&&!c.current&&o(e),f.scrollTop=0,v=!0,c.current=!0),v&&sa(e)}},[a,l,o,r]),f=(0,s.useCallback)(function(e){p(e,e.deltaY)},[p]),h=(0,s.useCallback)(function(e){u.current=e.changedTouches[0].clientY},[]),m=(0,s.useCallback)(function(e){var t=u.current-e.changedTouches[0].clientY;p(e,t)},[p]),v=(0,s.useCallback)(function(e){if(e){var t=!!ix&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",h,t),e.addEventListener("touchmove",m,t)}},[m,h,f]),g=(0,s.useCallback)(function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",h,!1),e.removeEventListener("touchmove",m,!1))},[m,h,f]),(0,s.useEffect)(function(){if(n){var e=d.current;return v(e),function(){g(e)}}},[n,v,g]),function(e){d.current=e}),P=(x=(b={isEnabled:N}).isEnabled,w=void 0===(y=b.accountForScrollbars)||y,j=(0,s.useRef)({}),C=(0,s.useRef)(null),S=(0,s.useCallback)(function(e){if(su){var t=document.body,n=t&&t.style;if(w&&sl.forEach(function(e){var t=n&&n[e];j.current[e]=t}),w&&sd<1){var a=parseInt(j.current.paddingRight,10)||0,l=document.body?document.body.clientWidth:0,o=window.innerWidth-l+a||0;Object.keys(so).forEach(function(e){var t=so[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(o,"px"))}t&&sc()&&(t.addEventListener("touchmove",sr,sp),e&&(e.addEventListener("touchstart",ss,sp),e.addEventListener("touchmove",si,sp))),sd+=1}},[w]),_=(0,s.useCallback)(function(e){if(su){var t=document.body,n=t&&t.style;sd=Math.max(sd-1,0),w&&sd<1&&sl.forEach(function(e){var t=j.current[e];n&&(n[e]=t)}),t&&sc()&&(t.removeEventListener("touchmove",sr,sp),e&&(e.removeEventListener("touchstart",ss,sp),e.removeEventListener("touchmove",si,sp)))}},[w]),(0,s.useEffect)(function(){if(x){var e=C.current;return S(e),function(){_(e)}}},[x,S,_]),function(e){C.current=e});return ie(s.Fragment,null,N&&ie("div",{onClick:sf,css:sh}),k(function(e){D(e),P(e)}))}var sv={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},sg=function(e){var t=e.name,n=e.onFocus;return ie("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:sv,value:"",onChange:function(){}})};function sb(e){var t;return"u">typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}var sx=function(e){return e.label},sy=function(e){return e.value},sw={clearIndicator:iM,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,a=e.isFocused,l=e.theme,o=l.colors,r=l.borderRadius;return oJ({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:r,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},dropdownIndicator:iM,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,a=n.colors,l=n.spacing;return oJ({label:"group",cursor:"default",display:"block"},t?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*l.baseUnit,paddingRight:3*l.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,a=e.theme,l=a.spacing.baseUnit,o=a.colors;return oJ({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*l,marginTop:2*l})},input:function(e,t){var n=e.isDisabled,a=e.value,l=e.theme,o=l.spacing,r=l.colors;return oJ(oJ({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},iq),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:r.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,a=e.size,l=e.theme,o=l.colors,r=l.spacing.baseUnit;return oJ({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*r})},loadingMessage:iT,menu:function(e,t){var n,a=e.placement,l=e.theme,o=l.borderRadius,r=l.spacing,i=l.colors;return oJ((oQ(n={label:"menu"},a?({bottom:"top",top:"bottom"})[a]:"bottom","100%"),oQ(n,"position","absolute"),oQ(n,"width","100%"),oQ(n,"zIndex",1),n),t?{}:{backgroundColor:i.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:r.menuGutter,marginTop:r.menuGutter})},menuList:function(e,t){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return oJ({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:a,paddingTop:a})},menuPortal:function(e){var t=e.rect,n=e.offset,a=e.position;return{left:t.left,position:a,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,a=n.spacing,l=n.borderRadius,o=n.colors;return oJ({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:l/2,margin:a.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,a=n.borderRadius,l=n.colors,o=e.cropWithEllipsis;return oJ({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:a/2,color:l.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,a=n.spacing,l=n.borderRadius,o=n.colors,r=e.isFocused;return oJ({alignItems:"center",display:"flex"},t?{}:{borderRadius:l/2,backgroundColor:r?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:iT,option:function(e,t){var n=e.isDisabled,a=e.isFocused,l=e.isSelected,o=e.theme,r=o.spacing,i=o.colors;return oJ({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:l?i.primary:a?i.primary25:"transparent",color:n?i.neutral20:l?i.neutral0:"inherit",padding:"".concat(2*r.baseUnit,"px ").concat(3*r.baseUnit,"px"),":active":{backgroundColor:n?void 0:l?i.primary:i.primary50}})},placeholder:function(e,t){var n=e.theme,a=n.spacing,l=n.colors;return oJ({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:l.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,a=e.theme,l=a.spacing,o=a.colors;return oJ({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:l.baseUnit/2,marginRight:l.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,a=e.isMulti,l=e.hasValue,o=e.selectProps.controlShouldRenderValue;return oJ({alignItems:"center",display:a&&l&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},sj={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},sC={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:iv(),captureMenuScroll:!iv(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=oJ({ignoreCase:!0,ignoreAccents:!0,stringify:se,trim:!0,matchFrom:"any"},void 0),a=n.ignoreCase,l=n.ignoreAccents,o=n.stringify,r=n.trim,i=n.matchFrom,s=r?i9(t):t,c=r?i9(o(e)):o(e);return a&&(s=s.toLowerCase(),c=c.toLowerCase()),l&&(s=i7(s),c=i8(c)),"start"===i?c.substr(0,s.length)===s:c.indexOf(s)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:sx,getOptionValue:sy,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function sS(e,t,n,a){var l=sR(e,t,n),o=sO(e,t,n),r=sP(e,t),i=sT(e,t);return{type:"option",data:t,isDisabled:l,isSelected:o,label:r,value:i,index:a}}function s_(e,t){return e.options.map(function(n,a){if("options"in n){var l=n.options.map(function(n,a){return sS(e,n,t,a)}).filter(function(t){return sE(e,t)});return l.length>0?{type:"group",data:n,options:l,index:a}:void 0}var o=sS(e,n,t,a);return sE(e,o)?o:void 0}).filter(iy)}function sk(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,o9(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function sN(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,o9(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function sE(e,t){var n=e.inputValue,a=t.data,l=t.isSelected,o=t.label,r=t.value;return(!sF(e)||!l)&&sL(e,{label:o,value:r,data:a},void 0===n?"":n)}var sD=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},sP=function(e,t){return e.getOptionLabel(t)},sT=function(e,t){return e.getOptionValue(t)};function sR(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function sO(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var a=sT(e,t);return n.some(function(t){return sT(e,t)===a})}function sL(e,t,n){return!e.filterOption||e.filterOption(t,n)}var sF=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},sI=1,sA=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nm(e,t)}(o,e);var t,n,a,l=(t=o7(),function(){var e,n=o8(o);return e=t?Reflect.construct(n,arguments,o8(this).constructor):n.apply(this,arguments),function(e,t){if(t&&("object"==o$(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function o(e){var t;if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,o),(t=l.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=sb(/^Mac/i)||sb(/^iPhone/i)||sb(/^iPad/i)||sb(/^Mac/i)&&navigator.maxTouchPoints>1,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var a=t.props,l=a.onChange,o=a.name;n.name=o,t.ariaOnChange(e,n),l(e,n)},t.setValue=function(e,n,a){var l=t.props,o=l.closeMenuOnSelect,r=l.isMulti,i=l.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:i}),o&&(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:a})},t.selectOption=function(e){var n=t.props,a=n.blurInputOnSelect,l=n.isMulti,o=n.name,r=t.state.selectValue,i=l&&t.isOptionSelected(e,r),s=t.isOptionDisabled(e,r);if(i){var c=t.getOptionValue(e);t.setValue(r.filter(function(e){return t.getOptionValue(e)!==c}),"deselect-option",e)}else if(s){t.ariaOnChange(e,{action:"select-option",option:e,name:o});return}else l?t.setValue([].concat(o9(r),[e]),"select-option",e):t.setValue(e,"select-option");a&&t.blurInput()},t.removeValue=function(e){var n,a=t.props.isMulti,l=t.state.selectValue,o=t.getOptionValue(e),r=l.filter(function(e){return t.getOptionValue(e)!==o}),i=(n=r[0]||null,a?r:n);t.onChange(i,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e,n,a=t.state.selectValue;t.onChange((e=t.props.isMulti,n=[],e?n:null),{action:"clear",removedValues:a})},t.popValue=function(){var e,n=t.props.isMulti,a=t.state.selectValue,l=a[a.length-1],o=a.slice(0,a.length-1),r=(e=o[0]||null,n?o:e);l&&t.onChange(r,{action:"pop-value",removedValue:l})},t.getFocusedOptionId=function(e){return sD(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return sN(s_(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return ir.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return sP(t.props,e)},t.getOptionValue=function(e){return sT(t.props,e)},t.getStyles=function(e,n){var a=t.props.unstyled,l=sw[e](n,a);l.boxSizing="border-box";var o=t.props.styles[e];return o?o(l,n):l},t.getClassNames=function(e,n){var a,l;return null===(a=(l=t.props.classNames)[e])||void 0===a?void 0:a.call(l,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){var e;return e=t.props,oJ(oJ({},iK),e.components)},t.buildCategorizedOptions=function(){return s_(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return sk(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:oJ({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button)&&!t.props.isDisabled){var n=t.props,a=n.isMulti,l=n.menuIsOpen;t.focusInput(),l?(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout(function(){return t.focusInput()}))},t.onScroll=function(e){"boolean"==typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&iu(e.target)&&t.props.onMenuClose():"function"==typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,a=n&&n.item(0);a&&(t.initialTouchX=a.clientX,t.initialTouchY=a.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,a=n&&n.item(0);if(a){var l=Math.abs(a.clientX-t.initialTouchX),o=Math.abs(a.clientY-t.initialTouchY);t.userIsDragging=l>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,a=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(a,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;if(t.menuListRef&&t.menuListRef.contains(document.activeElement)){t.inputRef.focus();return}t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1})},t.onOptionHover=function(e){if(!(t.blockOptionHover||t.state.focusedOption===e)){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return sF(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,a=n.isMulti,l=n.backspaceRemovesValue,o=n.escapeClearsValue,r=n.inputValue,i=n.isClearable,s=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,d=n.tabSelectsValue,p=n.openMenuOnFocus,f=t.state,h=f.focusedOption,m=f.focusedValue,v=f.selectValue;if(!s&&!("function"==typeof u&&(u(e),e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!a||r)return;t.focusValue("previous");break;case"ArrowRight":if(!a||r)return;t.focusValue("next");break;case"Delete":case"Backspace":if(r)return;if(m)t.removeValue(m);else{if(!l)return;a?t.popValue():i&&t.clearValue()}break;case"Tab":if(t.isComposing||e.shiftKey||!c||!d||!h||p&&t.isOptionSelected(h,v))return;t.selectOption(h);break;case"Enter":if(229===e.keyCode)break;if(c){if(!h||t.isComposing)return;t.selectOption(h);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:r}),t.onMenuClose()):i&&o&&t.clearValue();break;case" ":if(r)return;if(!c){t.openMenu("first");break}if(!h)return;t.selectOption(h);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++sI),t.state.selectValue=ii(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),a=t.buildFocusableOptions(),r=a.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=a[r],t.state.focusedOptionId=sD(n,a[r])}return t}return n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&im(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,a=t.menuIsOpen,l=this.state.isFocused;(l&&!n&&e.isDisabled||l&&a&&!e.menuIsOpen)&&this.focusInput(),l&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):l||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(im(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,a=n.selectValue,l=n.isFocused,o=this.buildFocusableOptions(),r="first"===e?0:o.length-1;if(!this.props.isMulti){var i=o.indexOf(a[0]);i>-1&&(r=i)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[r],focusedOptionId:this.getFocusedOptionId(o[r])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,a=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=n.indexOf(a);a||(l=-1);var o=n.length-1,r=-1;if(n.length){switch(e){case"previous":r=0===l?0:-1===l?o:l-1;break;case"next":l>-1&&l<o&&(r=l+1)}this.setState({inputIsHidden:-1!==r,focusedValue:n[r]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,o=a.indexOf(n);n||(o=-1),"up"===e?l=o>0?o-1:a.length-1:"down"===e?l=(o+1)%a.length:"pageup"===e?(l=o-t)<0&&(l=0):"pagedown"===e?(l=o+t)>a.length-1&&(l=a.length-1):"last"===e&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(sj):oJ(oJ({},sj),this.props.theme):sj}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,a=this.getClassNames,l=this.getValue,o=this.selectOption,r=this.setValue,i=this.props,s=i.isMulti,c=i.isRtl,u=i.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:a,getValue:l,hasValue:this.hasValue(),isMulti:s,isRtl:c,options:u,selectOption:o,selectProps:i,setValue:r,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return sR(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return sO(this.props,e,t)}},{key:"filterOption",value:function(e,t){return sL(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"!=typeof this.props.formatOptionLabel)return this.getOptionLabel(e);var n=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:a})}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,a=e.inputId,l=e.inputValue,o=e.tabIndex,r=e.form,i=e.menuIsOpen,c=e.required,u=this.getComponents().Input,d=this.state,p=d.inputIsHidden,f=d.ariaSelection,h=this.commonProps,m=a||this.getElementId("input"),v=oJ(oJ(oJ({"aria-autocomplete":"list","aria-expanded":i,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},i&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?(null==f?void 0:f.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?s.createElement(u,nf({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:p,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:r,type:"text",value:l},v)):s.createElement(sn,nf({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:io,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:r,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,a=t.MultiValueContainer,l=t.MultiValueLabel,o=t.MultiValueRemove,r=t.SingleValue,i=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,p=u.isDisabled,f=u.isMulti,h=u.inputValue,m=u.placeholder,v=this.state,g=v.selectValue,b=v.focusedValue,x=v.isFocused;if(!this.hasValue()||!d)return h?null:s.createElement(i,nf({},c,{key:"placeholder",isDisabled:p,isFocused:x,innerProps:{id:this.getElementId("placeholder")}}),m);if(f)return g.map(function(t,r){var i=t===b,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return s.createElement(n,nf({},c,{components:{Container:a,Label:l,Remove:o},isFocused:i,isDisabled:p,key:u,index:r,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(h)return null;var y=g[0];return s.createElement(r,nf({},c,{data:y,isDisabled:p}),this.formatOptionLabel(y,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,l=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||a||!this.hasValue()||l)return null;var r={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return s.createElement(e,nf({},t,{innerProps:r,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,a=n.isDisabled,l=n.isLoading,o=this.state.isFocused;return e&&l?s.createElement(e,nf({},t,{innerProps:{"aria-hidden":"true"},isDisabled:a,isFocused:o})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var a=this.commonProps,l=this.props.isDisabled,o=this.state.isFocused;return s.createElement(n,nf({},a,{isDisabled:l,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,a=this.state.isFocused,l={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return s.createElement(e,nf({},t,{innerProps:l,isDisabled:n,isFocused:a}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,a=t.GroupHeading,l=t.Menu,o=t.MenuList,r=t.MenuPortal,i=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,p=this.state.focusedOption,f=this.props,h=f.captureMenuScroll,m=f.inputValue,v=f.isLoading,g=f.loadingMessage,b=f.minMenuHeight,x=f.maxMenuHeight,y=f.menuIsOpen,w=f.menuPlacement,j=f.menuPosition,C=f.menuPortalTarget,S=f.menuShouldBlockScroll,_=f.menuShouldScrollIntoView,k=f.noOptionsMessage,N=f.onMenuScrollToTop,E=f.onMenuScrollToBottom;if(!y)return null;var D,P=function(t,n){var a=t.type,l=t.data,o=t.isDisabled,r=t.isSelected,i=t.label,c=t.value,f=p===l,h=o?void 0:function(){return e.onOptionHover(l)},m=o?void 0:function(){return e.selectOption(l)},v="".concat(e.getElementId("option"),"-").concat(n),g={id:v,onClick:m,onMouseMove:h,onMouseOver:h,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:r};return s.createElement(u,nf({},d,{innerProps:g,data:l,isDisabled:o,isSelected:r,key:v,label:i,type:a,value:c,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())D=this.getCategorizedOptions().map(function(t){if("group"===t.type){var l=t.data,o=t.options,r=t.index,i="".concat(e.getElementId("group"),"-").concat(r),c="".concat(i,"-heading");return s.createElement(n,nf({},d,{key:i,data:l,options:o,Heading:a,headingProps:{id:c,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return P(e,"".concat(r,"-").concat(e.index))}))}if("option"===t.type)return P(t,"".concat(t.index))});else if(v){var T=g({inputValue:m});if(null===T)return null;D=s.createElement(i,d,T)}else{var R=k({inputValue:m});if(null===R)return null;D=s.createElement(c,d,R)}var O={minMenuHeight:b,maxMenuHeight:x,menuPlacement:w,menuPosition:j,menuShouldScrollIntoView:_},L=s.createElement(iP,nf({},d,O),function(t){var n=t.ref,a=t.placerProps,r=a.placement,i=a.maxHeight;return s.createElement(l,nf({},d,O,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:v,placement:r}),s.createElement(sm,{captureEnabled:h,onTopArrive:N,onBottomArrive:E,lockEnabled:S},function(t){return s.createElement(o,nf({},d,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":d.isMulti,id:e.getElementId("listbox")},isLoading:v,maxHeight:i,focusedOption:p}),D)}))});return C||"fixed"===j?s.createElement(r,nf({},d,{appendTo:C,controlElement:this.controlRef,menuPlacement:w,menuPosition:j}),L):L}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,a=t.isDisabled,l=t.isMulti,o=t.name,r=t.required,i=this.state.selectValue;if(r&&!this.hasValue()&&!a)return s.createElement(sg,{name:o,onFocus:this.onValueInputFocus});if(!(!o||a)){if(l){if(n){var c=i.map(function(t){return e.getOptionValue(t)}).join(n);return s.createElement("input",{name:o,type:"hidden",value:c})}var u=i.length>0?i.map(function(t,n){return s.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})}):s.createElement("input",{name:o,type:"hidden",value:""});return s.createElement("div",null,u)}var d=i[0]?this.getOptionValue(i[0]):"";return s.createElement("input",{name:o,type:"hidden",value:d})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,a=t.focusedOption,l=t.focusedValue,o=t.isFocused,r=t.selectValue,i=this.getFocusableOptions();return s.createElement(iZ,nf({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:a,focusedValue:l,isFocused:o,selectValue:r,focusableOptions:i,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,a=e.SelectContainer,l=e.ValueContainer,o=this.props,r=o.className,i=o.id,c=o.isDisabled,u=o.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return s.createElement(a,nf({},p,{className:r,innerProps:{id:i,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),s.createElement(t,nf({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),s.createElement(l,nf({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),s.createElement(n,nf({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){var n,a=t.prevProps,l=t.clearFocusValueOnUpdate,o=t.inputIsHiddenAfterUpdate,r=t.ariaSelection,i=t.isFocused,s=t.prevWasFocused,c=t.instancePrefix,u=e.options,d=e.value,p=e.menuIsOpen,f=e.inputValue,h=e.isMulti,m=ii(d),v={};if(a&&(d!==a.value||u!==a.options||p!==a.menuIsOpen||f!==a.inputValue)){var g,b=p?sk(s_(e,m)):[],x=p?sN(s_(e,m),"".concat(c,"-option")):[],y=l?function(e,t){var n=e.focusedValue,a=e.selectValue.indexOf(n);if(a>-1){if(t.indexOf(n)>-1)return n;if(a<t.length)return t[a]}return null}(t,m):null,w=(g=t.focusedOption)&&b.indexOf(g)>-1?g:b[0],j=sD(x,w);v={selectValue:m,focusedOption:w,focusedOptionId:j,focusableOptionsWithIds:x,focusedValue:y,clearFocusValueOnUpdate:!1}}var C=null!=o&&e!==a?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{},S=r,_=i&&s;return i&&!_&&(S={value:(n=m[0]||null,h?m:n),options:m,action:"initial-input-focus"},_=!s),(null==r?void 0:r.action)==="initial-input-focus"&&(S=null),oJ(oJ(oJ({},v),C),{},{prevProps:e,ariaSelection:S,prevWasFocused:_})}}],n&&o4(o.prototype,n),a&&o4(o,a),Object.defineProperty(o,"prototype",{writable:!1}),o}(s.Component);sA.defaultProps=sC;var sM=(0,s.forwardRef)(function(e,t){var n=o5(e);return s.createElement(sA,nf({ref:t},n))}),sB=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],sz=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),l=String(n.getOptionValue(t)).toLowerCase(),o=String(n.getOptionLabel(t)).toLowerCase();return l===a||o===a},sU={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n,a){return!(!e||t.some(function(t){return sz(e,t,a)})||n.some(function(t){return sz(e,t,a)}))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}},sV=(0,s.forwardRef)(function(e,t){var n,a,l,o,r,i,c,u,d,p,f,h,m,v,g,b,x,y,w,j,C,S,_,k,N,E,D,P,T=(l=void 0!==(a=(n=o5(e)).allowCreateWhileLoading)&&a,r=void 0===(o=n.createOptionPosition)?"last":o,c=void 0===(i=n.formatCreateLabel)?sU.formatCreateLabel:i,d=void 0===(u=n.isValidNewOption)?sU.isValidNewOption:u,f=void 0===(p=n.getNewOptionData)?sU.getNewOptionData:p,h=n.onCreateOption,v=void 0===(m=n.options)?[]:m,g=n.onChange,y=void 0===(x=(b=o2(n,sB)).getOptionValue)?sy:x,j=void 0===(w=b.getOptionLabel)?sx:w,C=b.inputValue,S=b.isLoading,_=b.isMulti,k=b.value,N=b.name,E=(0,s.useMemo)(function(){return d(C,ii(k),v,{getOptionValue:y,getOptionLabel:j})?f(C,c(C)):void 0},[c,f,j,y,C,d,v,k]),D=(0,s.useMemo)(function(){return(l||!S)&&E?"first"===r?[E].concat(o9(v)):[].concat(o9(v),[E]):v},[l,r,S,E,v]),P=(0,s.useCallback)(function(e,t){if("select-option"!==t.action)return g(e,t);var n=Array.isArray(e)?e:[e];if(n[n.length-1]===E){if(h)h(C);else{var a,l=f(C,C);g((a=[].concat(o9(ii(k)),[l]),_?a:l),{action:"create-option",name:N,option:l})}return}g(e,t)},[f,C,_,N,E,h,g,k]),oJ(oJ({},b),{},{options:D,onChange:P}));return s.createElement(sA,nf({ref:t},T))}),sH="clear-indicator",sq=e=>{let{clearValue:t,innerProps:{ref:n,...a}}=e;return(0,f.jsx)("div",{className:sH,ref:"string"==typeof n?null:n,...a,onKeyDown:e=>{"Enter"===e.key&&(t(),e.stopPropagation())},role:"button",tabIndex:0,children:(0,f.jsx)(d.a,{className:"".concat(sH,"__icon")})})},sW=e=>{let{children:t,innerProps:n,selectProps:{customProps:{disableKeyDown:a,disableMouseDown:l}={}}={}}=e;return(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(iK.Control,{...e,innerProps:{...n,onKeyDown:e=>{if(a){e.stopPropagation();let t=new CustomEvent("bypassKeyDown",{detail:e});document.dispatchEvent(t)}},onMouseDown:e=>{l||n.onMouseDown(e)}},children:t})})},sK="dropdown-indicator",sY=e=>{let{innerProps:{ref:t,...n}}=e;return(0,f.jsx)("button",{className:sK,ref:t,...n,onKeyDown:e=>{"Enter"===e.key&&(e.key=" ")},type:"button",children:(0,f.jsx)(ti,{className:"".concat(sK,"__icon")})})},sG=e=>(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(iK.Input,{...e,"aria-activedescendant":void 0})}),s$="multi-value";function sX(e,t){return"function"==typeof t?t(e):e.value}var sQ=e=>{let t=(0,h.c)(26),{className:n,data:a,innerProps:l,isDisabled:o,selectProps:r}=e,i;t[0]!==r?(i=void 0===r?{}:r,t[0]=r,t[1]=i):i=t[1];let{customProps:c,getOptionValue:u,isSortable:d}=i,p;t[2]!==c?(p=void 0===c?{}:c,t[2]=c,t[3]=p):p=t[3];let{disableMouseDown:m}=p,v;t[4]!==a||t[5]!==u?(v=sX(a,u),t[4]=a,t[5]=u,t[6]=v):v=t[6];let g=!d,b;t[7]!==v||t[8]!==g?(b={id:v,disabled:g},t[7]=v,t[8]=g,t[9]=b):b=t[9];let{attributes:x,isDragging:y,listeners:w,setNodeRef:j,transform:C}=nt(b),S=!o&&d&&"draggable",_=y&&"".concat(s$,"--is-dragging"),k;t[10]!==n||t[11]!==S||t[12]!==_?(k=[s$,n,S,_].filter(Boolean),t[10]=n,t[11]=S,t[12]=_,t[13]=k):k=t[13];let N=k.join(" "),E;if(t[14]!==x||t[15]!==N||t[16]!==m||t[17]!==l||t[18]!==d||t[19]!==w||t[20]!==e||t[21]!==j||t[22]!==C){let n;t[24]!==m?(n=e=>{m||e.stopPropagation()},t[24]=m,t[25]=n):n=t[25],E=(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(iK.MultiValue,{...e,className:N,innerProps:{...d?{...x,...w}:{},...l,onMouseDown:n,ref:j,style:d?{transform:C,...null==x?void 0:x.style}:{}}})}),t[14]=x,t[15]=N,t[16]=m,t[17]=l,t[18]=d,t[19]=w,t[20]=e,t[21]=j,t[22]=C,t[23]=E}else E=t[23];return E},sZ="multi-value-label",sJ=e=>{let{data:t,selectProps:{customProps:{draggableProps:n,editableProps:a}={}}={}}=e,l="".concat(sZ,"__text");return(0,f.jsx)("div",{className:sZ,children:(0,f.jsx)(iK.MultiValueLabel,{...e,innerProps:{className:l,...a&&a(t,l,e.selectProps)||{},...n||{}}})})},s0="multi-value-remove",s1=e=>{let t=(0,h.c)(12),{innerProps:n}=e,{className:a,onClick:l,onTouchEnd:o}=n,[r,i]=s.useState(!1),{t:c}=(0,d.d)(),u;if(t[0]!==a||t[1]!==l||t[2]!==o||t[3]!==r||t[4]!==c){let e,n,s,p=c("general:remove"),h;t[6]!==a?(h=[s0,a].filter(Boolean),t[6]=a,t[7]=h):h=t[7],t[8]!==l?(e=e=>{i(!1),l(e)},t[8]=l,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(n=()=>i(!0),s=()=>i(!1),t[10]=n,t[11]=s):(n=t[10],s=t[11]),u=(0,f.jsxs)("button",{"aria-label":p,className:h.join(" "),onClick:e,onKeyDown:s3,onMouseDown:s2,onMouseEnter:n,onMouseLeave:s,onTouchEnd:o,type:"button",children:[(0,f.jsx)(tP,{className:"".concat(s0,"__tooltip"),show:r,children:c("general:remove")}),(0,f.jsx)(d.a,{className:"".concat(s0,"__icon")})]}),t[0]=a,t[1]=l,t[2]=o,t[3]=r,t[4]=c,t[5]=u}else u=t[5];return u};function s3(e){"Enter"===e.key&&e.stopPropagation()}function s2(e){return e.stopPropagation()}var s6=e=>{let{children:t,className:n}=e;return(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(iK.SingleValue,{...e,className:["react-select--single-value",n].filter(Boolean).join(" "),children:t})})},s5="value-container",s4=e=>{let{selectProps:{customProps:t}={}}=e;return(0,f.jsxs)("div",{className:s5,ref:null==t?void 0:t.droppableRef,children:[(null==t?void 0:t.valueContainerLabel)&&(0,f.jsx)("span",{className:"".concat(s5,"__label"),children:null==t?void 0:t.valueContainerLabel}),(0,f.jsx)(iK.ValueContainer,{...e})]})},s8=e=>({label:e,value:e}),s7=e=>{let{i18n:t,t:n}=(0,d.d)(),[a,l]=s.useState(""),o=(0,s.useId)(),[r,i]=s.useState(!1);(0,s.useEffect)(()=>{i(!0)},[]);let{className:c,components:p,customProps:h,disabled:v=!1,filterOption:g,getOptionValue:b,isClearable:x=!0,isCreatable:y,isLoading:w,isSearchable:j=!0,noOptionsMessage:C=()=>n("general:noOptions"),numberOnly:S=!1,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,placeholder:D=n("general:selectValue"),showError:P,value:T}=e,R=()=>n("general:loading")+"...",O=[c,"react-select",P&&"react-select--error"].filter(Boolean).join(" "),L={menu:e=>({...e,zIndex:void 0})};return r?y?(0,f.jsx)(sV,{captureMenuScroll:!0,isLoading:w,...e,className:O,classNamePrefix:"rs",components:{ClearIndicator:sq,Control:sW,DropdownIndicator:sY,Input:sG,MultiValue:sQ,MultiValueLabel:sJ,MultiValueRemove:s1,SingleValue:s6,ValueContainer:s4,...p},filterOption:g,inputValue:a,instanceId:o,isClearable:x,isDisabled:v,isSearchable:j,loadingMessage:R,menuPlacement:"auto",noOptionsMessage:C,onChange:_,onInputChange:e=>l(e),onKeyDown:e=>{if(!0===S){let t=!/\D/.test(e.key),n=["Tab","Escape","Backspace","Enter","ArrowRight","ArrowLeft","ArrowUp","ArrowDown"].includes(e.key);if(!t&&!n){e.preventDefault();return}}if(!(!T||!a||""===a.trim())&&!(g&&!g(null,a)))switch(e.key){case"Enter":case"Tab":_([...T,s8(a)]),l(""),e.preventDefault()}},onMenuClose:k,onMenuOpen:N,options:E,placeholder:(0,m.i)(D,t),styles:L,unstyled:!0,value:T}):(0,f.jsx)(sM,{captureMenuScroll:!0,customProps:h,isLoading:w,...e,className:O,classNamePrefix:"rs",components:{ClearIndicator:sq,Control:sW,DropdownIndicator:sY,Input:sG,MultiValue:sQ,MultiValueLabel:sJ,MultiValueRemove:s1,SingleValue:s6,ValueContainer:s4,...p},filterOption:g,getOptionValue:b,instanceId:o,isClearable:x,isDisabled:v,isSearchable:j,loadingMessage:R,menuPlacement:"auto",noOptionsMessage:C,onChange:_,onMenuClose:k,onMenuOpen:N,options:E,placeholder:(0,m.i)(D,t),styles:L,unstyled:!0,value:T}):(0,f.jsx)(u.d,{height:"calc(var(--base) * 2 + 2px)"})},s9=e=>{let{getOptionValue:t,onChange:n,value:a}=e,l=[];return a&&(l=(Array.isArray(a)?a:[a]).map(e=>sX(e,t))),(0,f.jsx)(na,{className:"react-select-container",ids:l,onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:l}=e,o=a;a&&Array.isArray(a)&&(o=t$(a,t,l)),n(o)},children:(0,f.jsx)(s7,{...e})})},ce=e=>{let{isMulti:t,isSortable:n}=e;return t&&n?(0,f.jsx)(s9,{...e}):(0,f.jsx)(s7,{...e})},ct=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),cn=e=>{let{id:t,onChange:n,options:a,required:l,selectedTimezone:o}=e,{t:r}=(0,d.d)(),i=ct(a),c=(0,s.useMemo)(()=>i.find(e=>("string"==typeof e?e:e.value)===(o||"UTC")),[i,o]);return(0,f.jsxs)("div",{className:"timezone-picker-wrapper",children:[(0,f.jsx)(aV,{htmlFor:t,label:"".concat(r("general:timezone")," ").concat(l?"*":""),required:l,unstyled:!0}),(0,f.jsx)(ce,{className:"timezone-picker",inputId:t,isClearable:!0,isCreatable:!1,onChange:e=>{n&&n((null==e?void 0:e.value)||"")},options:i,value:c})]})},ca="date-time-field",cl=lJ(e=>{let{field:t,field:{admin:{className:n,date:a,description:l,placeholder:o}={},label:r,localized:i,required:c,timezone:p},path:h,readOnly:v,validate:g}=e,b=(null==a?void 0:a.pickerAppearance)||"default",x=Intl.DateTimeFormat().resolvedOptions().timeZone,{config:y}=(0,u.b)(),{i18n:w}=(0,d.d)(),{dispatchFields:j,setModified:C}=eP(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:D,path:P,setValue:T,showError:R,value:O}=lX({potentiallyStalePath:h,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof g)return g(e,{...t,required:c})},[g,c])}),L=P+"_tz",F=eM(e=>{let[t,n]=e;return null==t?void 0:t[L]}),I=y.admin.timezones.supportedTimezones,A=["dayOnly","default","monthOnly"].includes(b),M=null==F?void 0:F.value,B=(0,s.useMemo)(()=>{if(p&&M&&x&&O){let e=aZ.tz(M),t=aZ.tz(x),n=l_(new aZ(O).withTimeZone(M),e);return l_(n,t).toISOString()}return O},[p,M,O,x]),z=(0,s.useMemo)(()=>l0(t),[t]),U=(0,s.useCallback)(e=>{if(!(v||D)){if(p&&M&&e){let t=aZ.tz(M);if(A){let n=e.getTimezoneOffset()/60,a=e.getHours()+n;e.setHours(a),T(l_(e,t).toISOString()||null)}else T(l_(new aZ(e),t).toISOString()||null)}else T((null==e?void 0:e.toISOString())||null)}},[v,D,p,M,A,T]),V=(0,s.useCallback)(e=>{L&&(j({type:"UPDATE",path:L,value:e}),C(!0))},[j,C,L]);return(0,f.jsxs)("div",{className:[l1,ca,n,R&&"".concat(ca,"--has-error"),(v||D)&&"read-only"].filter(Boolean).join(" "),style:z,children:[(0,f.jsx)(ef,{CustomComponent:E,Fallback:(0,f.jsx)(aV,{label:r,localized:i,path:P,required:c})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),id:"field-".concat(P.replace(/\./g,"__")),children:[(0,f.jsx)(ef,{CustomComponent:N,Fallback:(0,f.jsx)(ns,{path:P,showError:R})}),_,(0,f.jsx)(oG,{...a,onChange:U,overrides:{...null==a?void 0:a.overrides},placeholder:(0,m.i)(o,w),readOnly:v||D,value:B}),p&&I.length>0&&(0,f.jsx)(cn,{id:"".concat(P,"-timezone-picker"),onChange:V,options:I,required:c,selectedTimezone:M}),S]}),(0,f.jsx)(ef,{CustomComponent:k,Fallback:(0,f.jsx)(ni,{description:l,path:P})})]})}),co=lJ(e=>{let{field:t,field:{admin:{autoComplete:n,className:a,description:l,placeholder:o}={},label:r,localized:i,required:c}={},path:u,readOnly:p,validate:h}=e,{i18n:v}=(0,d.d)(),{customComponents:{AfterInput:g,BeforeInput:b,Description:x,Error:y,Label:w}={},disabled:j,path:C,setValue:S,showError:_,value:k}=lX({potentiallyStalePath:u,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof h)return h(e,{...t,required:c})},[h,c])}),N=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsxs)("div",{className:[l1,"email",a,_&&"error",(p||j)&&"read-only"].filter(Boolean).join(" "),style:N,children:[(0,f.jsx)(ef,{CustomComponent:w,Fallback:(0,f.jsx)(aV,{label:r,localized:i,path:C,required:c})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:y,Fallback:(0,f.jsx)(ns,{path:C,showError:_})}),b,(0,f.jsx)("input",{autoComplete:n,disabled:p||j,id:"field-".concat(C.replace(/\./g,"__")),name:C,onChange:S,placeholder:(0,m.i)(o,v),required:c,type:"email",value:k||""}),g]}),(0,f.jsx)(ef,{CustomComponent:x,Fallback:(0,f.jsx)(ni,{description:l,path:C})})]})}),cr=(0,s.createContext)(!1),ci=e=>{let{children:t,withinRow:n=!0}=e;return(0,f.jsx)(cr,{value:n,children:t})},cs=()=>(0,s.use)(cr),cc=(0,s.createContext)(!1),cu=e=>{let{children:t,withinTab:n=!0}=e;return(0,f.jsx)(cc,{value:n,children:t})},cd=()=>(0,s.use)(cc),cp=(0,s.createContext)(!1),cf=e=>{let{children:t,withinGroup:n=!0}=e;return(0,f.jsx)(cp,{value:n,children:t})},ch=()=>(0,s.use)(cp),cm="group-field",cv=lJ(e=>{let{field:t,field:{admin:{className:n,description:a,hideGutter:l}={},fields:o,label:r},indexPath:i,parentPath:c,parentSchemaPath:u,path:p,permissions:h,readOnly:v,schemaPath:g}=e,x=null!=g?g:"group"===t.type&&(0,b.fs)(t)?t.name:p,{i18n:y}=(0,d.d)(),{isWithinCollapsible:w}=os(),j=ch(),C=cs(),S=cd(),{customComponents:{AfterInput:_,BeforeInput:k,Description:N,Label:E}={},errorPaths:D}=lX({path:p}),P=eO(),T=D.length,R=P&&T>0,O=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsxs)("div",{className:[l1,cm,!(w||j||C)&&"".concat(cm,"--top-level"),w&&"".concat(cm,"--within-collapsible"),j&&"".concat(cm,"--within-group"),C&&"".concat(cm,"--within-row"),S&&"".concat(cm,"--within-tab"),!l&&j&&"".concat(cm,"--gutter"),R&&"".concat(cm,"--has-error"),n].filter(Boolean).join(" "),id:"field-".concat(null==p?void 0:p.replace(/\./g,"__")),style:O,children:[(0,f.jsx)(cf,{children:(0,f.jsxs)("div",{className:"".concat(cm,"__wrap"),children:[!!(E||N||r||R)&&(0,f.jsxs)("div",{className:"".concat(cm,"__header"),children:[!!(E||N||r)&&(0,f.jsxs)("header",{children:[(0,f.jsx)(ef,{CustomComponent:E,Fallback:(0,f.jsx)("h3",{className:"".concat(cm,"__title"),children:(0,f.jsx)(aV,{as:"span",label:(0,m.i)(r,y),localized:!1,path:p,required:!1})})}),(0,f.jsx)(ef,{CustomComponent:N,Fallback:(0,f.jsx)(ni,{description:a,path:p})})]}),R&&(0,f.jsx)(no,{count:T,i18n:y,withMessage:!0})]}),k,(0,b.fs)(t)?(0,f.jsx)(f1,{fields:o,margins:"small",parentIndexPath:"",parentPath:p,parentSchemaPath:x,permissions:!0===h?h:null==h?void 0:h.fields,readOnly:v}):(0,f.jsx)(f1,{fields:o,margins:"small",parentIndexPath:i,parentPath:c,parentSchemaPath:u,permissions:h,readOnly:v})]})}),_]})}),cg=lJ(e=>{let t=(0,h.c)(13),{disableModifyingForm:n,path:a,value:l}=e,o=void 0===n||n,r;t[0]!==a?(r={potentiallyStalePath:a},t[0]=a,t[1]=r):r=t[1];let{formInitializing:i,path:c,setValue:u,value:d}=lX(r),p,m;t[2]!==o||t[3]!==i||t[4]!==u||t[5]!==l?(p=()=>{void 0===l||i||u(l,o)},m=[l,u,o,i],t[2]=o,t[3]=i,t[4]=u,t[5]=l,t[6]=p,t[7]=m):(p=t[6],m=t[7]),(0,s.useEffect)(p,m);let v="field-".concat(null==c?void 0:c.replace(/\./g,"__")),g=d||"",b;return t[8]!==c||t[9]!==u||t[10]!==v||t[11]!==g?(b=(0,f.jsx)("input",{id:v,name:c,onChange:u,type:"hidden",value:g}),t[8]=c,t[9]=u,t[10]=v,t[11]=g,t[12]=b):b=t[12],b}),cb=(0,p.e)(ei(),1),cx=(0,s.createContext)({}),cy=e=>{let{children:t,...n}=e;return(0,f.jsx)(cx,{value:{isInDrawer:!!n.drawerSlug,...n},children:t})},cw=()=>{let e=(0,s.use)(cx);if(!e)throw Error("useListDrawerContext must be used within a ListDrawerContextProvider");return e};function cj(e){let t=e.toString();return P.Q(t,{depth:10,ignoreQueryPrefix:!0})}var cC=(0,s.createContext)({}),cS=()=>(0,s.use)(cC),c_=(0,s.createContext)(!1),ck=e=>{let{children:t,collectionSlug:n,columns:a,data:l,defaultLimit:o,defaultSort:r,listPreferences:i,modifySearchParams:c,onQueryChange:u,orderableFieldName:d}=e,p=(0,g.useRouter)(),h=(0,g.useSearchParams)(),{startRouteTransition:m}=te(),[v,b]=(0,s.useState)(!1),x=(0,s.useMemo)(()=>cj(h),[h]),y=(0,s.useRef)({});y.current.modified=v;let{onQueryChange:j}=cw(),[C,S]=(0,s.useState)(()=>c?x:{limit:String(o),sort:r}),_=(0,s.useCallback)(function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a="page"in n?n.page:null==C?void 0:C.page;return("where"in n||"search"in n)&&(a="1"),{...C,...n,columns:"columns"in n?n.columns:C.columns,limit:"limit"in n?n.limit:null!==(e=null==C?void 0:C.limit)&&void 0!==e?e:String(o),page:a,preset:"preset"in n?n.preset:null==C?void 0:C.preset,search:"search"in n?n.search:null==C?void 0:C.search,sort:"sort"in n?n.sort:null!==(t=null==C?void 0:C.sort)&&void 0!==t?t:r,where:"where"in n?n.where:null==C?void 0:C.where}},[C,o,r]),k=(0,s.useCallback)(async(e,t)=>{b(void 0===t||t);let n=_(e);c?m(()=>p.replace("".concat(w.P({...n,columns:JSON.stringify(n.columns)},{addQueryPrefix:!0})))):("function"==typeof j||"function"==typeof u)&&(j||u)(n),S(n)},[_,c,j,u,m,p]),N=(0,s.useCallback)(async e=>{await k({page:String(e)})},[k]),P=s.useCallback(async e=>{await k({limit:String(e),page:"1"})},[k]),T=(0,s.useCallback)(async e=>{await k({search:""===e?void 0:e})},[k]),R=(0,s.useCallback)(async e=>{await k({sort:e})},[k]),O=(0,s.useCallback)(async e=>{await k({where:e})},[k]),L=a_(()=>{let e=!1,t={...C||{}};!(0,D.h)(o)||"limit"in C||(t.limit=String(o),e=!0),!r||"sort"in C||(t.sort=r,e=!0),a&&(null==i?void 0:i.columns)&&!("columns"in C)&&(t.columns=(0,E.z)(a),e=!0),e&&(S(t),window.history.replaceState(null,"","?".concat(w.P({...t,columns:JSON.stringify(t.columns)}))))});return(0,s.useEffect)(()=>{c&&L()},[r,o,c,a]),(0,f.jsx)(cC,{value:{collectionSlug:n,data:l,handlePageChange:N,handlePerPageChange:P,handleSearchChange:T,handleSortChange:R,handleWhereChange:O,orderableFieldName:d,query:C,refineListData:k,setModified:b,...y.current},children:(0,f.jsx)(c_,{value:v,children:t})})},cN=(0,s.createContext)(void 0),cE=()=>{let e=s.use(cN);if(void 0===e)throw Error("useServerFunctions must be used within a ServerFunctionsProvider");return e},cD=e=>{let{children:t,serverFunction:n}=e;if(!n)throw Error("ServerFunctionsProvider requires a serverFunction prop");let a=(0,s.useCallback)(async e=>await n({name:"render-document-slots",args:e}),[n]),l=(0,s.useCallback)(async e=>{let{signal:t,...a}=e;try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"schedule-publish",args:{...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}let l="Error scheduling ".concat(a.type);return a.doc&&(l+=" for document with ID ".concat(a.doc.value," in collection ").concat(a.doc.relationTo)),{error:l}},[n]),o=(0,s.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"form-state",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}return{state:null}},[n]),r=(0,s.useCallback)(async e=>{let{signal:t,...a}=e||{};try{if(!(null==t?void 0:t.aborted)){let e=await n({name:"table-state",args:{fallbackLocale:!1,...a}});if(!(null==t?void 0:t.aborted))return e}}catch(e){console.error(e)}},[n]),i=(0,s.useCallback)(async e=>{let{signal:t,...a}=e||{};try{return await n({name:"render-document",args:{fallbackLocale:!1,...a}})}catch(e){console.error(e)}},[n]),c=(0,s.useCallback)(async e=>{let{signal:t,...a}=e||{};try{let e=await n({name:"copy-data-from-locale",args:a});if(!(null==t?void 0:t.aborted))return e}catch(e){console.error(e)}},[n]),u=(0,s.useCallback)(async e=>{let{signal:t,...a}=e||{};try{let e=await n({name:"get-folder-results-component-and-data",args:a});if(!(null==t?void 0:t.aborted))return e}catch(e){console.error(e)}},[n]);return(0,f.jsx)(cN,{value:{copyDataFromLocale:c,getDocumentSlots:a,getFolderResultsComponentAndData:u,getFormState:o,getTableState:r,renderDocument:i,schedulePublish:l,serverFunction:n},children:t})},cP=(0,s.createContext)({}),cT=()=>(0,s.use)(cP),cR=e=>{let{children:t,collectionSlug:n,columnState:a,LinkedCellOverride:l}=e,{getEntityConfig:o}=(0,u.b)(),{query:r,refineListData:i}=cS(),{admin:{defaultColumns:c}={}}=o({collectionSlug:n}),[d,p]=s.useOptimistic(a,(e,t)=>t),h=(0,s.useRef)({}),m=(0,s.useCallback)(async e=>{let t=(d||[]).map(t=>t.accessor===e?{...t,active:!t.active}:t);(0,s.startTransition)(()=>{p(t)}),await i({columns:(0,E.z)(t)})},[i,d,p]),v=(0,s.useCallback)(async e=>{let{fromIndex:t,toIndex:n}=e,a=[...d||[]],[l]=a.splice(t,1);a.splice(n,0,l),(0,s.startTransition)(()=>{p(a)}),await i({columns:(0,E.z)(a)})},[d,i,p]),g=(0,s.useCallback)(async e=>{let t=r.columns;e.forEach(e=>{let n=t.findIndex(t=>e===t);void 0!==n&&"-"===t[n][0]&&(t[n]=e.slice(1))}),await i({columns:t})},[r,i]),b=s.useCallback(async()=>{await i({columns:c||[]})},[c,i]);return(0,f.jsx)(cP,{value:{columns:d,LinkedCellOverride:l,moveColumn:v,resetColumnsState:b,setActiveColumns:g,toggleColumn:m,...h.current},children:t})},cO="pill-selector",cL=e=>{let{draggable:t,onClick:n,pills:a}=e,l=s.useMemo(()=>t?e=>{let{children:n}=e;return(0,f.jsx)(na,{className:cO,ids:a.map(e=>e.name),onDragEnd:e=>{let{moveFromIndex:n,moveToIndex:a}=e;t.onDragEnd({moveFromIndex:n,moveToIndex:a})},children:n})}:e=>{let{children:t}=e;return(0,f.jsx)("div",{className:cO,children:t})},[t,a]);return(0,f.jsx)(l,{children:a.map((e,a)=>{var l,o;return(0,f.jsx)(om,{alignIcon:"left","aria-checked":e.selected,className:["".concat(cO,"__pill"),e.selected&&"".concat(cO,"__pill--selected")].filter(Boolean).join(" "),draggable:!!t,icon:e.selected?(0,f.jsx)(d.a,{}):(0,f.jsx)(tu,{}),id:e.name,onClick:()=>{n&&n({pill:e})},size:"small",children:null!==(l=e.Label)&&void 0!==l?l:(0,f.jsx)("span",{className:"".concat(cO,"__pill-label"),children:e.name})},null!==(o=e.key)&&void 0!==o?o:"".concat(e.name,"-").concat(a))})})},cF=e=>{let{collectionSlug:t}=e,{columns:n,moveColumn:a,toggleColumn:l}=cT(),o=(0,s.useId)(),r=nd(),i=(0,s.useMemo)(()=>n.filter(e=>{var t,n;return!((0,b.XI)(e.field)&&!(0,b.Ve)(e.field))&&!(null==e?void 0:null===(n=e.field)||void 0===n?void 0:null===(t=n.admin)||void 0===t?void 0:t.disableListColumn)}),[n]),c=(0,s.useMemo)(()=>i?i.map((e,n)=>{let{accessor:a,active:l,field:i}=e,s="labelWithPrefix"in i&&void 0!==i.labelWithPrefix?i.labelWithPrefix:"label"in i&&void 0!==i.label?i.label:"name"in i&&void 0!==i.name?i.name:void 0;return{name:a,key:"".concat(t,"-").concat(a,"-").concat(n).concat(r?"-".concat(r,"-"):"").concat(o),Label:(0,f.jsx)(aV,{label:s,unstyled:!0}),selected:l}}):null,[t,r,i,o]);return c?(0,f.jsx)(cL,{draggable:{onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;a({fromIndex:t,toIndex:n})}},onClick:e=>{let{pill:t}=e;l(t.name)},pills:c}):null},cI=e=>{let t=(0,h.c)(3),{getEntityConfig:n}=(0,u.b)(),a;t[0]!==n||t[1]!==e?(a=()=>e?("string"==typeof e?[e]:e).map(e=>n({collectionSlug:e})):[],t[0]=n,t[1]=e,t[2]=a):a=t[2];let[l]=(0,s.useState)(a);return l},cA=e=>{let t,n=(0,h.c)(13),{delayBeforeShow:a,inTimeout:l,minShowTime:o,outTimeout:r,show:i}=e,c=l+o+r,[d,p]=(0,u.c)(a),[f,m]=s.useState(!1),[v,g]=s.useState(!1),b=s.useRef(0),x=s.useRef(void 0),y;n[0]!==r?(y=()=>{g(!0),x.current=setTimeout(()=>{m(!1),g(!1)},r)},n[0]=r,n[1]=y):y=n[1];let w=y,j,C;return n[2]!==d||n[3]!==f||n[4]!==i||n[5]!==c||n[6]!==w?(j=()=>{let e=d&&!f&&i,t=f&&!i;if(e)b.current=Date.now(),m(!0);else if(t){let e=c-(Date.now()-b.current);clearTimeout(x.current),x.current=setTimeout(w,Math.max(0,e))}},C=[f,i,w,c,d],n[2]=d,n[3]=f,n[4]=i,n[5]=c,n[6]=w,n[7]=j,n[8]=C):(j=n[7],C=n[8]),s.useEffect(j,C),n[9]!==f||n[10]!==v||n[11]!==p?(t={isMounted:f,isUnmounting:v,triggerDelayedRender:p},n[9]=f,n[10]=v,n[11]=p,n[12]=t):t=n[12],t},cM={isLoading:!1,loaders:[],loadingText:"",overlayType:null},cB=(e,t)=>{let n=[...e.loaders],{type:a="fullscreen",key:l="user",loadingText:o}=t.payload;if("add"===t.type)n.push({type:a,key:l,loadingText:o});else if("remove"===t.type){let e=n.findIndex(e=>e.key===l&&e.type===a);n.splice(e,1)}let r=(null==n?void 0:n.length)>0?n[n.length-1]:null;return{isLoading:!!r,loaders:n,loadingText:(null==r?void 0:r.loadingText)||(null==e?void 0:e.loadingText),overlayType:(null==r?void 0:r.type)||(null==e?void 0:e.overlayType)}},cz=(0,s.createContext)({isOnScreen:!1,toggleLoadingOverlay:void 0}),cU=e=>{let t=(0,h.c)(21),{children:n}=e,{t:a}=(0,d.d)(),l;t[0]!==a?(l=a("general:loading"),t[0]=a,t[1]=l):l=t[1];let o=l,[r,i]=s.useReducer(cB,cM),c;t[2]!==r.isLoading?(c={delayBeforeShow:1e3,inTimeout:250,minShowTime:500,outTimeout:250,show:r.isLoading},t[2]=r.isLoading,t[3]=c):c=t[3];let{isMounted:u,isUnmounting:p,triggerDelayedRender:m}=cA(c),v;t[4]!==o||t[5]!==m?(v=e=>{let{type:t,isLoading:n,key:a,loadingText:l}=e,r=void 0===l?o:l;n?(m(),i({type:"add",payload:{type:t,key:a,loadingText:r}})):i({type:"remove",payload:{type:t,key:a}})},t[4]=o,t[5]=m,t[6]=v):v=t[6];let g=v,b;if(t[7]!==n||t[8]!==o||t[9]!==u||t[10]!==p||t[11]!==r.loadingText||t[12]!==r.overlayType||t[13]!==g){let e;t[15]!==o||t[16]!==u||t[17]!==p||t[18]!==r.loadingText||t[19]!==r.overlayType?(e=u&&(0,f.jsx)(cq,{animationDuration:"".concat(250,"ms"),loadingText:r.loadingText||o,overlayType:r.overlayType,show:!p}),t[15]=o,t[16]=u,t[17]=p,t[18]=r.loadingText,t[19]=r.overlayType,t[20]=e):e=t[20],b=(0,f.jsxs)(cz,{value:{isOnScreen:u,toggleLoadingOverlay:g},children:[e,n]}),t[7]=n,t[8]=o,t[9]=u,t[10]=p,t[11]=r.loadingText,t[12]=r.overlayType,t[13]=g,t[14]=b}else b=t[14];return b},cV=()=>{let e=s.use(cz);if(void 0===e)throw Error("useLoadingOverlay must be used within a LoadingOverlayProvider");return e},cH="loading-overlay",cq=e=>{let t=(0,h.c)(11),{animationDuration:n,loadingText:a,overlayType:l,show:o}=e,{t:r}=(0,d.d)(),i=void 0===o||o?"".concat(cH,"--entering"):"".concat(cH,"--exiting"),s=l?"".concat(cH,"--").concat(l):"",c;t[0]!==i||t[1]!==s?(c=[cH,i,s].filter(Boolean),t[0]=i,t[1]=s,t[2]=c):c=t[2];let u=c.join(" "),p=n||"500ms",m;if(t[3]!==a||t[4]!==r||t[5]!==u||t[6]!==p){let e;t[8]!==a||t[9]!==r?(e=a||r("general:loading"),t[8]=a,t[9]=r,t[10]=e):e=t[10],m=(0,f.jsxs)("div",{className:u,style:{animationDuration:p},children:[(0,f.jsxs)("div",{className:"".concat(cH,"__bars"),children:[(0,f.jsx)("div",{className:"".concat(cH,"__bar")}),(0,f.jsx)("div",{className:"".concat(cH,"__bar")}),(0,f.jsx)("div",{className:"".concat(cH,"__bar")}),(0,f.jsx)("div",{className:"".concat(cH,"__bar")}),(0,f.jsx)("div",{className:"".concat(cH,"__bar")})]}),(0,f.jsx)("span",{className:"".concat(cH,"__text"),children:e})]}),t[3]=a,t[4]=r,t[5]=u,t[6]=p,t[7]=m}else m=t[7];return m},cW=e=>{let t=(0,h.c)(7),{name:n,type:a,loadingText:l,show:o}=e,r=void 0===a?"fullscreen":a,{toggleLoadingOverlay:i}=cV(),c,u;return t[0]!==n||t[1]!==l||t[2]!==o||t[3]!==i||t[4]!==r?(c=()=>(i({type:r,isLoading:o,key:n,loadingText:l||void 0}),()=>{i({type:r,isLoading:!1,key:n})}),u=[o,i,n,r,l],t[0]=n,t[1]=l,t[2]=o,t[3]=i,t[4]=r,t[5]=c,t[6]=u):(c=t[5],u=t[6]),s.useEffect(c,u),null},cK=e=>{let t=(0,h.c)(6),{name:n,type:a,action:l,formIsLoading:o,loadingSuffix:r}=e,i=void 0===a?"fullscreen":a,s=void 0!==o&&o,c=eL(),{i18n:u,t:p}=(0,d.d)(),v="".concat({create:p("general:creating"),loading:p("general:loading"),update:p("general:updating")}[l]," ").concat(r?(0,m.i)(r,u):""),g;return t[0]!==s||t[1]!==c||t[2]!==n||t[3]!==v||t[4]!==i?(g=(0,f.jsx)(cW,{loadingText:v.trim(),name:n,show:s||c,type:i}),t[0]=s,t[1]=c,t[2]=n,t[3]=v,t[4]=i,t[5]=g):g=t[5],g};function cY(e){if(e)try{e.abort()}catch(e){}}function cG(e){let t=new AbortController;if(e.current)try{e.current.abort()}catch(e){}return e.current=t,t}var c$=(0,s.createContext)({}),cX=e=>{let{children:t,...n}=e;return(0,f.jsx)(c$,{value:n,children:t})},cQ=()=>{let e=(0,s.use)(c$);if(!e)throw Error("useDocumentDrawerContext must be used within a DocumentDrawerProvider");return e},cZ=e=>{let{id:t,collectionSlug:n,disableActions:a,drawerSlug:l,initialData:o,onDelete:r,onDuplicate:i,onSave:c,overrideEntityVisibility:p=!0,redirectAfterCreate:h,redirectAfterDelete:m,redirectAfterDuplicate:v}=e,{getEntityConfig:g}=(0,u.b)(),b=aB(),[x]=(0,s.useState)(()=>g({collectionSlug:n})),y=s.useRef(null),{closeModal:w}=nT(),{t:j}=(0,d.d)(),{renderDocument:C}=cE(),[S,_]=(0,s.useState)(void 0),[k,N]=(0,s.useState)(!0),E=(0,s.useRef)(!1),D=(0,s.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=cG(y);(async()=>{t&&N(!0);try{let t=await C({collectionSlug:n,disableActions:a,docID:e,drawerSlug:l,initialData:o,locale:b,overrideEntityVisibility:p,redirectAfterCreate:h,redirectAfterDelete:void 0!==m&&m,redirectAfterDuplicate:void 0!==v&&v,signal:r.signal});(null==t?void 0:t.Document)&&(_(t.Document),N(!1))}catch(e){e3.error((null==e?void 0:e.message)||j("error:unspecific")),w(l)}y.current=null})()},[n,a,l,o,m,v,C,h,w,p,j,b]),P=(0,s.useCallback)(e=>{D(e.doc.id),"function"==typeof c&&c({...e,collectionConfig:x})},[c,x,D]),T=(0,s.useCallback)(e=>{D(e.doc.id),"function"==typeof i&&i({...e,collectionConfig:x})},[i,x,D]),R=(0,s.useCallback)(e=>{"function"==typeof r&&r({...e,collectionConfig:x}),w(l)},[r,w,l,x]),O=(0,s.useCallback)(()=>{D(void 0,!0)},[D]);return(0,s.useEffect)(()=>{S||E.current||(D(t,!0),E.current=!0)},[S,D,t]),(0,s.useEffect)(()=>{let e=y.current;return()=>{cY(e)}},[]),k?(0,f.jsx)(cq,{}):(0,f.jsx)(cX,{clearDoc:O,drawerSlug:l,onDelete:R,onDuplicate:T,onSave:P,children:S})},cJ="doc-drawer",c0=e=>{let{id:t,collectionSlug:n,depth:a,uuid:l}=e;return"doc-drawer_".concat(n,"_").concat(a).concat(t?"_".concat(t):"","_").concat(l)},c1=e=>{let t=(0,h.c)(21),n,a,l,o,r,i,s,c;t[0]!==e?({id:i,children:n,className:a,collectionSlug:l,disabled:o,drawerSlug:r,onClick:s,...c}=e,t[0]=e,t[1]=n,t[2]=a,t[3]=l,t[4]=o,t[5]=r,t[6]=i,t[7]=s,t[8]=c):(n=t[1],a=t[2],l=t[3],o=t[4],r=t[5],i=t[6],s=t[7],c=t[8]);let{t:u}=(0,d.d)(),[p]=cI(l),m=i?"general:editLabel":"fields:addNewLabel",v=null==p?void 0:p.labels.singular,g;if(t[9]!==n||t[10]!==a||t[11]!==o||t[12]!==r||t[13]!==s||t[14]!==c||t[15]!==u||t[16]!==m||t[17]!==v){let e=u(m,{label:v}),l;t[19]!==a?(l=[a,"".concat(cJ,"__toggler")].filter(Boolean),t[19]=a,t[20]=l):l=t[20],g=(0,f.jsx)(am,{"aria-label":e,className:l.join(" "),disabled:o,onClick:s,slug:r,...c,children:n}),t[9]=n,t[10]=a,t[11]=o,t[12]=r,t[13]=s,t[14]=c,t[15]=u,t[16]=m,t[17]=v,t[18]=g}else g=t[18];return g},c3=e=>{let{drawerSlug:t}=e;return(0,f.jsx)(av,{className:cJ,gutter:!1,Header:null,slug:t,children:(0,f.jsx)(cZ,{...e})})},c2=e=>{let t,n,a,l,o,r,i=(0,h.c)(38),{id:c,collectionSlug:u,overrideEntityVisibility:d}=e,p=nd(),m=(0,s.useId)(),{closeModal:v,modalState:g,openModal:b,toggleModal:x}=nT(),[y,w]=(0,s.useState)(!1),j;i[0]!==u||i[1]!==p||i[2]!==c||i[3]!==m?(j=c0({id:c,collectionSlug:u,depth:p,uuid:m}),i[0]=u,i[1]=p,i[2]=c,i[3]=m,i[4]=j):j=i[4];let C=j,S,_;i[5]!==C||i[6]!==g?(S=()=>{var e;w(!!(null===(e=g[C])||void 0===e?void 0:e.isOpen))},_=[g,C],i[5]=C,i[6]=g,i[7]=S,i[8]=_):(S=i[7],_=i[8]),(0,s.useEffect)(S,_),i[9]!==C||i[10]!==x?(r=()=>{x(C)},i[9]=C,i[10]=x,i[11]=r):r=i[11];let k=r,N;i[12]!==v||i[13]!==C?(N=()=>{v(C)},i[12]=v,i[13]=C,i[14]=N):N=i[14];let E=N,D;i[15]!==C||i[16]!==b?(D=()=>{b(C)},i[15]=C,i[16]=b,i[17]=D):D=i[17];let P=D,T,R;return i[18]!==u||i[19]!==C||i[20]!==c||i[21]!==d?(R=e=>(0,s.createElement)(c3,{...e,collectionSlug:u,drawerSlug:C,id:c,key:C,overrideEntityVisibility:d}),i[18]=u,i[19]=C,i[20]=c,i[21]=d,i[22]=R):R=i[22],T=R,i[23]!==u||i[24]!==C||i[25]!==c?(n=e=>(0,f.jsx)(c1,{...e,collectionSlug:u,drawerSlug:C,id:c}),i[23]=u,i[24]=C,i[25]=c,i[26]=n):n=i[26],t=n,i[27]!==E||i[28]!==C||i[29]!==p||i[30]!==y||i[31]!==P||i[32]!==k?(l={closeDrawer:E,drawerDepth:p,drawerSlug:C,isDrawerOpen:y,openDrawer:P,toggleDrawer:k},i[27]=E,i[28]=C,i[29]=p,i[30]=y,i[31]=P,i[32]=k,i[33]=l):l=i[33],a=l,i[34]!==T||i[35]!==a||i[36]!==t?(o=[T,t,a],i[34]=T,i[35]=a,i[36]=t,i[37]=o):o=i[37],o};function c6(e,t){switch(t.type){case"ADD_LOADED":{let n={...e};"object"!=typeof n[t.relationTo]&&(n[t.relationTo]={});let a=[...t.idsToLoad];return Array.isArray(t.docs)&&t.docs.forEach(e=>{a.splice(a.indexOf(e.id),1),n[t.relationTo][e.id]=e}),a.forEach(e=>{n[t.relationTo][e]=!1}),n}case"REQUEST":{let n={...e};return t.docs.forEach(e=>{let{relationTo:t,value:a}=e;"object"!=typeof n[t]&&(n[t]={}),n[t][a]=null}),n}default:return e}}var c5=(0,s.createContext)({}),c4=e=>{let t,n=(0,h.c)(15),{children:a}=e,l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={},n[0]=l):l=n[0];let[o,r]=(0,s.useReducer)(c6,l),i=aS(o,100),{config:c}=(0,u.b)(),{routes:p,serverURL:m}=c,{api:v}=p,{i18n:g}=(0,d.d)(),{code:b}=aB(),x=(0,s.useRef)(b),y;n[1]!==v||n[2]!==i||n[3]!==g||n[4]!==b||n[5]!==m?(y=e=>{let t=void 0!==e&&e;Object.entries(i).forEach(async e=>{let[n,a]=e,l=[];if(Object.entries(a).forEach(e=>{let[n,a]=e;(null===a||t)&&l.push(n)}),l.length>0){let e="".concat(m).concat(v,"/").concat(n),t=new URLSearchParams;if(t.append("depth","0"),t.append("limit","250"),b&&t.append("locale",b),l&&l.length>0){let e=l.map(c7);t.append("where[id][in]",e.join(","))}let a="?".concat(t.toString()),o=await fetch("".concat(e).concat(a),{credentials:"include",headers:{"Accept-Language":g.language}});if(o.ok){let e=await o.json();e.docs&&r({type:"ADD_LOADED",docs:e.docs,idsToLoad:l,relationTo:n})}else r({type:"ADD_LOADED",docs:[],idsToLoad:l,relationTo:n})}})},n[1]=v,n[2]=i,n[3]=g,n[4]=b,n[5]=m,n[6]=y):y=n[6];let w=y,j,C;n[7]!==w||n[8]!==b?(j=()=>{w(b&&x.current!==b),x.current=b},C=[b,w],n[7]=w,n[8]=b,n[9]=j,n[10]=C):(j=n[9],C=n[10]),(0,s.useEffect)(j,C),n[11]===Symbol.for("react.memo_cache_sentinel")?(t=e=>{r({type:"REQUEST",docs:e})},n[11]=t):t=n[11];let S=t,_;return n[12]!==a||n[13]!==o?(_=(0,f.jsx)(c5,{value:{documents:o,getRelationships:S},children:a}),n[12]=a,n[13]=o,n[14]=_):_=n[14],_},c8=()=>(0,s.use)(c5);function c7(e){return String(e)}var c9=e=>{let{allowCreate:t,baseClass:n,buttonStyle:a,className:l,collections:o,i18n:r,icon:i,label:s,onClick:c,permissions:u,relationTo:d}=e;return t?Array.isArray(d)?(0,f.jsx)("div",{className:"".concat(n,"__add-new-polymorphic-wrapper"),children:(0,f.jsx)(tD,{button:(0,f.jsx)(tO,{buttonStyle:a,className:l,icon:i,children:s}),buttonType:"custom",horizontalAlign:"center",render:e=>{let{close:t}=e;return(0,f.jsx)(tp.ButtonGroup,{children:d.map(e=>{var a;return(null===(a=u.collections[e])||void 0===a?void 0:a.create)?(0,f.jsx)(tp.Button,{className:"".concat(n,"__relation-button--").concat(e),onClick:()=>{t(),c(e)},children:(0,m.i)(o.find(t=>t.slug===e).labels.singular,r)},e):null})})},size:"medium"})}):(0,f.jsx)(tO,{buttonStyle:a,className:l,onClick:()=>c(),children:s}):null},ue=(e,t,n)=>{if(((null==t?void 0:t.type)==="select"||(null==t?void 0:t.type)==="radio")&&Array.isArray(t.options)){let a=t.options.find(t=>"object"==typeof t?t.value===e:t===e);if(a)return"object"==typeof a&&"label"in a?s.isValidElement(a.label)?a.label:(0,m.i)(a.label,n)||a.value:a}return e},ut=e=>{let{cellData:t,nowrap:n}=e,a=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),"…"):t;return(0,f.jsx)("code",{className:"code-cell",style:n?{whiteSpace:"nowrap"}:{},children:(0,f.jsx)("span",{children:a})})};function un(e){let{blockType:t}=e;return t}var ua=e=>{let t,n=(0,h.c)(8),{cellData:a,field:l}=e,{admin:o}=l,r;n[0]!==o?(r=void 0===o?{}:o,n[0]=o,n[1]=r):r=n[1];let{date:i}=r,{config:s}=(0,u.b)(),{admin:c}=s,{dateFormat:p}=c,m=(null==i?void 0:i.displayFormat)||p,{i18n:v}=(0,d.d)(),g;return n[2]!==a||n[3]!==m||n[4]!==v?(g=a&&lk({date:a,i18n:v,pattern:m}),n[2]=a,n[3]=m,n[4]=v,n[5]=g):g=n[5],n[6]!==g?(t=(0,f.jsx)("span",{children:g}),n[6]=g,n[7]=t):t=n[7],t},ul=()=>(0,f.jsxs)("svg",{height:"150",viewBox:"0 0 150 150",width:"150",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("rect",{fill:"#333333",height:"150",transform:"translate(0 0.5)",width:"150"}),(0,f.jsx)("path",{d:"M82.8876 50.5H55.5555V100.5H94.4444V61.9818H82.8876V50.5Z",fill:"white"}),(0,f.jsx)("path",{d:"M82.8876 61.9818H94.4444L82.8876 50.5V61.9818Z",fill:"#9A9A9A"})]}),uo="thumbnail",ur=e=>{let t,n=(0,h.c)(17),{className:a,doc:l,fileSrc:o,imageCacheTag:r,size:i}=e,c=void 0===a?"":a,d;n[0]!==l?(d=void 0===l?{}:l,n[0]=l,n[1]=d):d=n[1];let{filename:p}=d,[m,v]=s.useState(void 0),g="".concat(uo,"--size-").concat(i||"medium"),b;n[2]!==c||n[3]!==g?(b=[uo,g,c],n[2]=c,n[3]=g,n[4]=b):b=n[4];let x=b.join(" "),y,w;n[5]!==o?(y=()=>{if(!o){v(!1);return}v(void 0);let e=new Image;e.src=o,e.onload=()=>{v(!0)},e.onerror=()=>{v(!1)}},w=[o],n[5]=o,n[6]=y,n[7]=w):(y=n[6],w=n[7]),s.useEffect(y,w);let j=null;if(o){let e=(null==o?void 0:o.includes("?"))?"&":"?";j=r?"".concat(o).concat(e).concat(encodeURIComponent(r)):o}if(n[8]!==x||n[9]!==m||n[10]!==p||n[11]!==j){let e;n[13]!==m||n[14]!==p||n[15]!==j?(e=m&&(0,f.jsx)("img",{alt:p,src:j}),n[13]=m,n[14]=p,n[15]=j,n[16]=e):e=n[16],t=(0,f.jsxs)("div",{className:x,children:[void 0===m&&(0,f.jsx)(u.d,{height:"100%"}),e,!1===m&&(0,f.jsx)(ul,{})]}),n[8]=x,n[9]=m,n[10]=p,n[11]=j,n[12]=t}else t=n[12];return t};function ui(e){let t,n=(0,h.c)(17),{alt:a,className:l,filename:o,fileSrc:r,imageCacheTag:i,size:c}=e,d=void 0===l?"":l,[p,m]=s.useState(void 0),v="".concat(uo,"--size-").concat(c||"medium"),g;n[0]!==d||n[1]!==v?(g=[uo,v,d],n[0]=d,n[1]=v,n[2]=g):g=n[2];let b=g.join(" "),x,y;n[3]!==r?(x=()=>{if(!r){m(!1);return}m(void 0);let e=new Image;e.src=r,e.onload=()=>{m(!0)},e.onerror=()=>{m(!1)}},y=[r],n[3]=r,n[4]=x,n[5]=y):(x=n[4],y=n[5]),s.useEffect(x,y);let w="";if(r){let e=(null==r?void 0:r.includes("?"))?"&":"?";w=i?"".concat(r).concat(e).concat(encodeURIComponent(i)):r}if(n[6]!==a||n[7]!==b||n[8]!==p||n[9]!==o||n[10]!==w){let e;n[12]!==a||n[13]!==p||n[14]!==o||n[15]!==w?(e=p&&(0,f.jsx)("img",{alt:a||o,src:w}),n[12]=a,n[13]=p,n[14]=o,n[15]=w,n[16]=e):e=n[16],t=(0,f.jsxs)("div",{className:b,children:[void 0===p&&(0,f.jsx)(u.d,{height:"100%"}),e,!1===p&&(0,f.jsx)(ul,{})]}),n[6]=a,n[7]=b,n[8]=p,n[9]=o,n[10]=w,n[11]=t}else t=n[11];return t}var us="file",uc=e=>{var t,n,a;let{cellData:l,collectionConfig:o,field:r,rowData:i}=e;if(null!==(a=null!==(n="displayPreview"in r?r.displayPreview:void 0)&&void 0!==n?n:null===(t=o.upload)||void 0===t?void 0:t.displayPreview)&&void 0!==a&&!a)return(0,f.jsx)(f.Fragment,{children:String(l)});{let e=(0,T.O)(null==i?void 0:i.mimeType),t=e?(null==i?void 0:i.thumbnailURL)||(null==i?void 0:i.url):null==i?void 0:i.thumbnailURL;return e&&(t=(0,R.N)({sizes:null==i?void 0:i.sizes,thumbnailURL:null==i?void 0:i.thumbnailURL,url:null==i?void 0:i.url,width:null==i?void 0:i.width})),(0,f.jsxs)("div",{className:us,children:[(0,f.jsx)(ur,{className:"".concat(us,"__thumbnail"),collectionSlug:null==o?void 0:o.slug,doc:{...i,filename:l},fileSrc:t,size:"small",uploadConfig:null==o?void 0:o.upload}),(0,f.jsx)("span",{className:"".concat(us,"__filename"),children:String(l)})]})}},uu=!!("u">typeof window&&window.document&&window.document.createElement),ud=e=>{var t;let n,a,l,o;let r=(0,h.c)(40),{cellData:i,customCellProps:c,field:p,field:v}=e,{label:g}=v,b="relationTo"in p&&p.relationTo||"collection"in p&&p.collection,x;x="collection"in p?null==i?void 0:i.docs:i;let{config:y,getEntityConfig:w}=(0,u.b)(),{collections:j,routes:C}=y,[S,_]=t_(),k;r[0]===Symbol.for("react.memo_cache_sentinel")?(k=[],r[0]=k):k=r[0];let[N,E]=(0,s.useState)(k),{documents:D,getRelationships:P}=c8(),[T,R]=(0,s.useState)(!1),{i18n:O,t:L}=(0,d.d)(),F=!!uu&&(null==_?void 0:null===(t=_.boundingClientRect)||void 0===t?void 0:t.top)<window.innerHeight,I;if(r[1]!==x||r[2]!==P||r[3]!==T||r[4]!==F||r[5]!==b?(I=()=>{if((x||"number"==typeof x)&&F&&!T){let e=[],t=Array.isArray(x)?x:[x];t.slice(0,t.length<3?t.length:3).forEach(t=>{"object"==typeof t&&"relationTo"in t&&"value"in t&&e.push(t),("number"==typeof t||"string"==typeof t)&&"string"==typeof b&&e.push({relationTo:b,value:t})}),P(e),R(!0),E(e)}},r[1]=x,r[2]=P,r[3]=T,r[4]=F,r[5]=b,r[6]=I):I=r[6],r[7]!==x||r[8]!==j||r[9]!==P||r[10]!==T||r[11]!==F||r[12]!==b||r[13]!==C.api?(n=[x,b,j,F,C.api,T,P],r[7]=x,r[8]=j,r[9]=P,r[10]=T,r[11]=F,r[12]=b,r[13]=C.api,r[14]=n):n=r[14],(0,s.useEffect)(I,n),r[15]!==T?(a=()=>{T&&R(!1)},r[15]=T,r[16]=a):a=r[16],r[17]!==x?(l=[x],r[17]=x,r[18]=l):l=r[18],(0,s.useEffect)(a,l),r[19]!==x||r[20]!==y.admin||r[21]!==c||r[22]!==D||r[23]!==p||r[24]!==w||r[25]!==O||r[26]!==S||r[27]!==g||r[28]!==L||r[29]!==N){let e;r[31]!==y.admin||r[32]!==c||r[33]!==D||r[34]!==p||r[35]!==w||r[36]!==O||r[37]!==L||r[38]!==N.length?(e=(e,t)=>{var n,a,l;let{relationTo:o,value:r}=e,i=D[o][r],u=w({collectionSlug:o}),d=lT({collectionConfig:u,data:i||null,dateFormat:y.admin.dateFormat,fallback:"".concat(L("general:untitled")," - ID: ").concat(r),i18n:O}),h=null;return"upload"===p.type&&(null===(l=null!==(a="displayPreview"in p?p.displayPreview:void 0)&&void 0!==a?a:null===(n=u.upload)||void 0===n?void 0:n.displayPreview)||void 0===l||l)&&i&&(h=(0,f.jsx)(uc,{cellData:d,collectionConfig:u,collectionSlug:u.slug,customCellProps:c,field:p,rowData:i})),(0,f.jsxs)(s.Fragment,{children:[!1===i&&"".concat(L("general:untitled")," - ID: ").concat(r),null===i&&"".concat(L("general:loading"),"..."),i?h||d:null,N.length>t+1&&", "]},t)},r[31]=y.admin,r[32]=c,r[33]=D,r[34]=p,r[35]=w,r[36]=O,r[37]=L,r[38]=N.length,r[39]=e):e=r[39],o=(0,f.jsxs)("div",{className:"relationship-cell",ref:S,children:[N.map(e),Array.isArray(x)&&x.length>3&&L("fields:itemsAndMore",{count:x.length-3,items:""}),0===N.length&&L("general:noLabel",{label:(0,m.i)(g||"",O)})]}),r[19]=x,r[20]=y.admin,r[21]=c,r[22]=D,r[23]=p,r[24]=w,r[25]=O,r[26]=S,r[27]=g,r[28]=L,r[29]=N,r[30]=o}else o=r[30];return o},up=e=>{let t,n=(0,h.c)(10),{cellData:a,field:l}=e,{options:o}=l,{i18n:r}=(0,d.d)(),i;n[0]!==r||n[1]!==o?(i=e=>e.map(e=>{var t,n;let a=null===(n=o.filter(t=>t.value===e))||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.label;return(0,m.i)(a,r)}).join(", "),n[0]=r,n[1]=o,n[2]=i):i=n[2];let s=i,c;if((0,b.fn)(o)){let e;n[3]!==a||n[4]!==s?(e=s(Array.isArray(a)?a:[a]),n[3]=a,n[4]=s,n[5]=e):e=n[5],c=e}else{let e;n[6]!==a?(e=Array.isArray(a)?a.join(", "):a,n[6]=a,n[7]=e):e=n[7],c=e}return n[8]!==c?(t=(0,f.jsx)("span",{children:c}),n[8]=c,n[9]=t):t=n[9],t},uf={array:e=>{let t=(0,h.c)(2),{cellData:n,field:a}=e,{labels:l}=a,{i18n:o}=(0,d.d)(),r=null!=n?n:[],i=1===r.length?"".concat(r.length," ").concat((0,m.i)((null==l?void 0:l.singular)||o.t("general:rows"),o)):"".concat(r.length," ").concat((0,m.i)((null==l?void 0:l.plural)||o.t("general:rows"),o)),s;return t[0]!==i?(s=(0,f.jsx)("span",{children:i}),t[0]=i,t[1]=s):s=t[1],s},blocks:e=>{var t;let n;let a=(0,h.c)(2),{cellData:l,field:o}=e,{blockReferences:r,blocks:i,labels:s}=o,{i18n:c}=(0,d.d)(),{config:p}=(0,u.b)(),v=Array.isArray(l)?l.map(un):[],g=null===(t=null!=r?r:i)||void 0===t?void 0:t.map(e=>{let t="string"==typeof e?p.blocksMap[e]:e;return{slug:t.slug,label:(0,m.i)(t.labels.singular,c)}}),b="0 ".concat((0,m.i)(null==s?void 0:s.plural,c)),x=e=>e.map(e=>{var t,n;return null===(n=g.filter(t=>t.slug===e))||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.label}).join(", ");if(v.length>5){let e=v.length-5;b="".concat(v.length," ").concat((0,m.i)(null==s?void 0:s.plural,c)," - ").concat(c.t("fields:itemsAndMore",{count:e,items:x(v.slice(0,5))}))}else v.length>0&&(b="".concat(v.length," ").concat((0,m.i)(1===v.length?null==s?void 0:s.singular:null==s?void 0:s.plural,c)," - ").concat(x(v)));return a[0]!==b?(n=(0,f.jsx)("span",{children:b}),a[0]=b,a[1]=n):n=a[1],n},checkbox:e=>{let t=(0,h.c)(3),{cellData:n}=e,{t:a}=(0,d.d)(),l="general:".concat(n),o;return t[0]!==a||t[1]!==l?(o=(0,f.jsx)("code",{className:"bool-cell",children:(0,f.jsx)("span",{children:a(l).toLowerCase()})}),t[0]=a,t[1]=l,t[2]=o):o=t[2],o},code:ut,date:ua,File:uc,join:ud,json:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),"…"):t;return(0,f.jsx)("code",{className:"json-cell",children:(0,f.jsx)("span",{children:JSON.stringify(n)})})},radio:up,relationship:ud,select:up,textarea:e=>{let{cellData:t}=e,n=(null==t?void 0:t.length)>100?"".concat(t.substring(0,100),"…"):t;return(0,f.jsx)("span",{children:n})},upload:ud},uh=e=>{let t=(0,h.c)(14),{cellData:n,className:a,collectionSlug:l,field:o,field:r,link:i,onClick:c,rowData:p}=e,{admin:v}=r,{i18n:g}=(0,d.d)(),{config:x,getEntityConfig:w}=(0,u.b)(),{routes:j}=x,{admin:C}=j,S,_;if(t[0]!==v||t[1]!==C||t[2]!==n||t[3]!==a||t[4]!==l||t[5]!==o||t[6]!==w||t[7]!==g||t[8]!==i||t[9]!==c||t[10]!==e||t[11]!==p){_=Symbol.for("react.early_return_sentinel");e:{let t=w({collectionSlug:l}),r=v&&"className"in v?v.className:void 0,u=a||(o.admin&&"className"in o.admin?o.admin.className:null)||r,d="span",h={className:u};if(i&&(h.prefetch=!1,d=tl,h.href=(null==t?void 0:t.slug)?(0,y.$)({adminRoute:C,path:"/collections/".concat(null==t?void 0:t.slug,"/").concat(encodeURIComponent(p.id))}):""),"function"==typeof c&&(d="button",h.type="button",h.onClick=()=>{c({cellData:n,collectionSlug:null==t?void 0:t.slug,rowData:p})}),(0,b.Ve)(o)){_=(0,f.jsx)(d,{...h,children:(0,f.jsx)(ut,{cellData:"ID: ".concat(n),collectionConfig:t,collectionSlug:l,field:{...o,type:"code"},nowrap:!0,rowData:p})});break e}let x=ue(n,o,g),j="u">typeof n&&uf[o.type],k=null;if(s.isValidElement(x))k=x;else if(j)k=(0,f.jsx)(j,{cellData:n,rowData:p,...e});else if(!j){if((null==t?void 0:t.upload)&&(0,b.j7)(o)&&"filename"===o.name&&"text"===o.type){let a=uf.File;k=(0,f.jsx)(a,{cellData:n,rowData:p,...e,collectionConfig:t,field:o})}else{_=(0,f.jsxs)(d,{...h,children:[(""===x||typeof x>"u"||null===x)&&g.t("general:noLabel",{label:(0,m.i)(("label"in o?o.label:null)||"data",g)}),"string"==typeof x&&x,"number"==typeof x&&x,"object"==typeof x&&null!==x&&JSON.stringify(x)]});break e}}if(("select"===o.type||"radio"===o.type)&&o.options.length&&n){let e=Array.isArray(n)?n.map(um).join(" "):"selected--".concat(n),t=[h.className,e].filter(Boolean).join(" ");_=(0,f.jsx)(d,{...h,className:t,children:k});break e}S=(0,f.jsx)(d,{...h,children:k})}t[0]=v,t[1]=C,t[2]=n,t[3]=a,t[4]=l,t[5]=o,t[6]=w,t[7]=g,t[8]=i,t[9]=c,t[10]=e,t[11]=p,t[12]=S,t[13]=_}else S=t[12],_=t[13];return _!==Symbol.for("react.early_return_sentinel")?_:S};function um(e){return"selected--".concat(e)}var uv=s.createContext(null),ug=()=>s.use(uv),ub=e=>{let t=(0,h.c)(9),{clientProps:n,columnIndex:a,isLinkedColumn:l}=e,{drawerSlug:o,onSelect:r}=cw(),{LinkedCellOverride:i}=cT(),s;if(t[0]!==i||t[1]!==n||t[2]!==a||t[3]!==o||t[4]!==l||t[5]!==r){let e={...n,columnIndex:a};if(l&&o){let n;e.className="".concat("default-cell","__first-cell"),e.link=!1,t[7]!==r?(n=e=>{let{collectionSlug:t,rowData:n}=e;"function"==typeof r&&r({collectionSlug:t,doc:n,docID:n.id})},t[7]=r,t[8]=n):n=t[8],e.onClick=n}s=(0,f.jsx)(uv,{value:e,children:l&&i?i:(0,f.jsx)(uh,{...e})}),t[0]=i,t[1]=n,t[2]=a,t[3]=o,t[4]=l,t[5]=r,t[6]=s}else s=t[6];return s},ux=e=>{let t=(0,h.c)(15),{onDrawerDelete:n,onDrawerSave:a}=e,l=ug(),o=null==l?void 0:l.rowData.id,r=null==l?void 0:l.collectionSlug,i;t[0]!==o||t[1]!==r?(i={id:o,collectionSlug:r},t[0]=o,t[1]=r,t[2]=i):i=t[2];let[s,c,u]=c2(i),{closeDrawer:d}=u,p;t[3]!==d||t[4]!==a?(p=e=>{d(),"function"==typeof a&&a(e)},t[3]=d,t[4]=a,t[5]=p):p=t[5];let m=p,v;t[6]!==d||t[7]!==n?(v=e=>{d(),"function"==typeof n&&n(e)},t[6]=d,t[7]=n,t[8]=v):v=t[8];let g=v,b;return t[9]!==s||t[10]!==c||t[11]!==l||t[12]!==g||t[13]!==m?(b=(0,f.jsxs)("div",{className:"drawer-link",children:[(0,f.jsx)(uh,{...l,className:"drawer-link__cell",link:!1,onClick:null}),(0,f.jsx)(c,{children:(0,f.jsx)(ts,{})}),(0,f.jsx)(s,{onDelete:g,onSave:m})]}),t[9]=s,t[10]=c,t[11]=l,t[12]=g,t[13]=m,t[14]=b):b=t[14],b},uy="clickable-arrow",uw="paginator__page",uj=e=>{let{isCurrent:t,isFirstPage:n=!1,isLastPage:a=!1,page:l=1,updatePage:o}=e,r=[uw,t&&"".concat(uw,"--is-current"),n&&"".concat(uw,"--is-first-page"),a&&"".concat(uw,"--is-last-page")].filter(Boolean).join(" ");return(0,f.jsx)("button",{className:r,onClick:()=>o(l),type:"button",children:l})},uC={ClickableArrow:e=>{let{direction:t="right",isDisabled:n=!1,updatePage:a}=e,l=[uy,n&&"".concat(uy,"--is-disabled"),t&&"".concat(uy,"--").concat(t)].filter(Boolean).join(" ");return(0,f.jsx)("button",{className:l,disabled:n,onClick:n?void 0:a,type:"button",children:(0,f.jsx)(ti,{})})},Page:uj,Separator:()=>(0,f.jsx)("span",{className:"paginator__separator",children:"—"})},uS=e=>{let{hasNextPage:t=!1,hasPrevPage:n=!1,nextPage:a=null,numberOfNeighbors:l=1,onChange:o,page:r,prevPage:i=null,totalPages:s=null}=e;if(!t&&!n)return null;let c=e=>{"function"==typeof o&&o(e)},u=Array.from({length:s},(e,t)=>t+1),d=r-1-l;d<=0&&(d=0);let p=r-1+l+1,h=u.slice(d,p);return r-l-1>=2&&h.unshift({type:"Separator"}),r>l+1&&h.unshift({type:"Page",props:{isFirstPage:!0,page:1,updatePage:c}}),r+l+1<s&&h.push({type:"Separator"}),p<s&&h.push({type:"Page",props:{isLastPage:!0,page:s,updatePage:c}}),h.unshift({type:"ClickableArrow",props:{direction:"right",isDisabled:!t,updatePage:()=>c(null!=a?a:r+1)}}),h.unshift({type:"ClickableArrow",props:{direction:"left",isDisabled:!n,updatePage:()=>c(null!=i?i:Math.max(1,r-1))}}),(0,f.jsx)("div",{className:"paginator",children:h.map((e,t)=>{if("number"==typeof e)return(0,f.jsx)(uj,{isCurrent:r===e,page:e,updatePage:c},t);let n=uC[e.type];return(0,f.jsx)(n,{...e.props},t)})})},u_=()=>{let e=(0,h.c)(11),{data:t,handlePageChange:n}=cS(),a=t.nextPage||2,l;e[0]!==n?(l=e=>{n(e)},e[0]=n,e[1]=l):l=e[1];let o=t.page||1,r=t.prevPage||void 0,i;return e[2]!==t.hasNextPage||e[3]!==t.hasPrevPage||e[4]!==t.limit||e[5]!==t.totalPages||e[6]!==a||e[7]!==l||e[8]!==o||e[9]!==r?(i=(0,f.jsx)(uS,{hasNextPage:t.hasNextPage,hasPrevPage:t.hasPrevPage,limit:t.limit,nextPage:a,numberOfNeighbors:1,onChange:l,page:o,prevPage:r,totalPages:t.totalPages}),e[2]=t.hasNextPage,e[3]=t.hasPrevPage,e[4]=t.limit,e[5]=t.totalPages,e[6]=a,e[7]=l,e[8]=o,e[9]=r,e[10]=i):i=e[10],i},uk="relationship-table",uN=e=>{var t,n,a,l,o,r,i,c,p,h;let{AfterInput:v,allowCreate:g=!0,BeforeInput:b,disableTable:x=!1,field:y,fieldPath:w,filterOptions:j,initialData:C,initialDrawerData:S,Label:_,parent:k,relationTo:D}=e,[P,T]=(0,s.useState)(null),{config:R,getEntityConfig:O}=(0,u.b)(),{permissions:L}=aD(),[F]=(0,s.useState)(()=>{if(C)return{...C,docs:Array.isArray(C.docs)?C.docs.reduce((e,t)=>"string"==typeof t?[...e,{id:t}]:[...e,t],[]):[]}}),{i18n:I,t:A}=(0,d.d)(),[M,B]=(0,s.useState)(),[z,U]=(0,s.useState)(!1),[V]=(0,s.useState)(()=>O({collectionSlug:D})),H=Array.isArray(D),[q,W]=(0,s.useState)(H?void 0:D),[K,Y]=(0,s.useState)(!x),[G,$]=(0,s.useState)(F),[X,Q]=(0,s.useState)(),{getTableState:Z}=cE(),J=(0,s.useCallback)(async e=>{var t,n;let a={limit:String((null==y?void 0:y.defaultLimit)||(null==V?void 0:null===(n=V.admin)||void 0===n?void 0:null===(t=n.pagination)||void 0===t?void 0:t.defaultLimit)),sort:y.defaultSort||(null==V?void 0:V.defaultSort),...M||{},where:{...(null==M?void 0:M.where)||{}}};j&&(a.where=(0,N.u)(a.where,j));let l=y.admin.defaultColumns?y.admin.defaultColumns.map(e=>({accessor:e,active:!0})):void 0,{data:o,state:r,Table:i}=await Z({collectionSlug:D,columns:(0,E.P)(null==M?void 0:M.columns)||l,docs:e,enableRowSelections:!1,orderableFieldName:!y.orderable||Array.isArray(y.collection)?void 0:"_".concat(y.collection,"_").concat(y.name,"_order"),parent:k,query:a,renderRowTypes:!0,tableAppearance:"condensed"});$(o),T(i),Q(r),Y(!1)},[y.defaultLimit,y.defaultSort,y.admin.defaultColumns,y.collection,y.name,y.orderable,null==V?void 0:null===(n=V.admin)||void 0===n?void 0:null===(t=n.pagination)||void 0===t?void 0:t.defaultLimit,null==V?void 0:V.defaultSort,M,j,Z,D,k]),ee=a_((e,t)=>{t||P&&!e||J()});(0,s.useEffect)(()=>{ee(M,x)},[M,x]);let[et,,{closeDrawer:en,isDrawerOpen:ea,openDrawer:el}]=c2({collectionSlug:q}),eo=(0,s.useCallback)(e=>{var t;let n=null==G?void 0:null===(t=G.docs)||void 0===t?void 0:t.findIndex(t=>t.id===e.doc.id),a;if(-1!==n){let t=[...G.docs];t[n]=e.doc,a=t}else a=[e.doc,...G.docs];J(a)},[null==G?void 0:G.docs,J]),er=(0,s.useCallback)(e=>{en(),eo(e)},[en,eo]),ei=(0,s.useCallback)(e=>{J(G.docs.filter(t=>t.id!==e.id))},[null==G?void 0:G.docs,J]),es=!1!==g&&(null==L?void 0:null===(l=L.collections)||void 0===l?void 0:null===(a=l[H?D[0]:D])||void 0===a?void 0:a.create);return(0,s.useEffect)(()=>{H&&q&&el()},[q,el,H]),(0,s.useEffect)(()=>{H&&!ea&&q&&W(void 0)},[ea]),(0,f.jsxs)("div",{className:uk,children:[(0,f.jsxs)("div",{className:"".concat(uk,"__header"),children:[_,(0,f.jsxs)("div",{className:"".concat(uk,"__actions"),children:[(0,f.jsx)(c9,{allowCreate:!1!==g,baseClass:uk,buttonStyle:"none",className:"".concat(uk,"__add-new").concat(H?"-polymorphic":" doc-drawer__toggler"),collections:R.collections,i18n:I,icon:H?"plus":void 0,label:I.t("fields:addNew"),onClick:H?W:el,permissions:L,relationTo:D}),(0,f.jsx)(om,{"aria-controls":"".concat(uk,"-columns"),"aria-expanded":z,className:"".concat(uk,"__toggle-columns ").concat(z?"".concat(uk,"__buttons-active"):""),icon:(0,f.jsx)(ti,{direction:z?"up":"down"}),onClick:()=>U(!z),pillStyle:"light",size:"small",children:A("general:columns")})]})]}),b,K?(0,f.jsx)("p",{children:A("general:loading")}):(0,f.jsxs)(s.Fragment,{children:[(null==G?void 0:G.docs)&&0===G.docs.length&&(0,f.jsxs)("div",{className:"".concat(uk,"__no-results"),children:[(0,f.jsx)("p",{children:I.t("general:noResults",{label:H?I.t("general:documents"):(0,m.i)(null==V?void 0:null===(o=V.labels)||void 0===o?void 0:o.plural,I)})}),(0,f.jsx)(c9,{allowCreate:es,baseClass:uk,collections:R.collections,i18n:I,label:I.t("general:createNewLabel",{label:H?I.t("general:document"):(0,m.i)(null==V?void 0:null===(r=V.labels)||void 0===r?void 0:r.singular,I)}),onClick:H?W:el,permissions:L,relationTo:D})]}),(null==G?void 0:G.docs)&&G.docs.length>0&&(0,f.jsx)(c4,{children:(0,f.jsx)(ck,{columns:(0,E.P)(X),data:G,defaultLimit:null!==(p=y.defaultLimit)&&void 0!==p?p:null==V?void 0:null===(c=V.admin)||void 0===c?void 0:null===(i=c.pagination)||void 0===i?void 0:i.defaultLimit,defaultSort:null!==(h=y.defaultSort)&&void 0!==h?h:null==V?void 0:V.defaultSort,modifySearchParams:!1,onQueryChange:B,orderableFieldName:!y.orderable||Array.isArray(y.collection)?void 0:"_".concat(y.collection,"_").concat(w.replaceAll(".","_"),"_order"),children:(0,f.jsxs)(cR,{collectionSlug:H?D[0]:D,columnState:X,LinkedCellOverride:(0,f.jsx)(ux,{onDrawerDelete:ei,onDrawerSave:eo}),children:[(0,f.jsx)(oo,{className:"".concat(uk,"__columns"),height:z?"auto":0,id:"".concat(uk,"-columns"),children:(0,f.jsx)("div",{className:"".concat(uk,"__columns-inner"),children:V&&(0,f.jsx)(cF,{collectionSlug:V.slug})})}),P,(0,f.jsx)(u_,{})]})})})]}),v,(0,f.jsx)(et,{initialData:S,onSave:er})]})},uE=cb.default.default||cb.default,uD=e=>{var t;let{collectionSlug:n,config:a,docID:l,fields:o,segments:r}=e,i=(0,k.a)(o,{keepPresentationalFields:!0}),s=r[0],c=i.find(e=>e.name===s);if(!c)return null;if("relationship"===c.type||"upload"===c.type){let e=l;return Array.isArray(c.relationTo)&&(e={relationTo:n,value:l}),{[c.name]:c.hasMany?[e]:e}}let u=r.slice(1,r.length);if("tab"===c.type||"group"===c.type&&(0,b.j7)(c))return{[c.name]:uD({collectionSlug:n,config:a,docID:l,fields:c.fields,segments:u})};if("array"===c.type){let e=uD({collectionSlug:n,config:a,docID:l,fields:c.fields,segments:u});return e.id=uE().toHexString(),{[c.name]:[e]}}if("blocks"===c.type)for(let e of null!==(t=c.blockReferences)&&void 0!==t?t:c.blocks){let t="string"==typeof e?a.blocksMap[e]:e,o=uD({collectionSlug:n,config:a,docID:l,fields:t.fields,segments:u});if(o)return o.id=uE().toHexString(),o.blockType=t.slug,{[c.name]:[o]}}},uP=lJ(e=>{let{field:t,field:{admin:{allowCreate:n,description:a},collection:l,label:o,localized:r,on:i,required:c},path:d}=e,{id:p,docConfig:h}=lV(),{config:m,getEntityConfig:v}=(0,u.b)(),{customComponents:{AfterInput:g,BeforeInput:b,Description:x,Error:y,Label:w}={},path:j,showError:C,value:S}=lX({potentiallyStalePath:d}),_=(0,s.useMemo)(()=>{if(!p)return null;let e=p;Array.isArray(t.targetField.relationTo)&&(e={relationTo:h.slug,value:e});let n=Array.isArray(l)?{}:{[i]:{equals:e}};return t.where?{and:[n,t.where]}:n},[p,l,t.targetField.relationTo,t.where,i,null==h?void 0:h.slug]),k=(0,s.useMemo)(()=>{let e=v({collectionSlug:Array.isArray(t.collection)?t.collection[0]:t.collection});return uD({collectionSlug:null==h?void 0:h.slug,config:m,docID:p,fields:e.fields,segments:t.on.split(".")})},[v,t.collection,t.on,null==h?void 0:h.slug,p,m]);return h?(0,f.jsxs)("div",{className:[l1,C&&"error","join"].filter(Boolean).join(" "),id:"field-".concat(null==j?void 0:j.replace(/\./g,"__")),children:[(0,f.jsx)(ef,{CustomComponent:y,Fallback:(0,f.jsx)(ns,{path:j,showError:C})}),(0,f.jsx)(uN,{AfterInput:g,allowCreate:"u">typeof p&&n,BeforeInput:b,disableTable:null===_,field:t,fieldPath:j,filterOptions:_,initialData:p&&S?S:{docs:[]},initialDrawerData:k,Label:(0,f.jsx)("h4",{style:{margin:0},children:w||(0,f.jsx)(aV,{label:o,localized:r,path:j,required:c})}),parent:Array.isArray(l)?{id:p,collectionSlug:h.slug,joinPath:j}:void 0,relationTo:l}),(0,f.jsx)(ef,{CustomComponent:x,Fallback:(0,f.jsx)(ni,{description:a,path:j})})]}):null}),uT=lJ(e=>{let{field:t,field:{admin:{className:n,description:a,editorOptions:l,maxHeight:o}={},jsonSchema:r,label:i,localized:c,required:u},path:d,readOnly:p,validate:h}=e,[m,v]=(0,s.useState)(),g=s.useRef("system"),[b,x]=(0,s.useState)(""),{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,initialValue:k,path:N,setValue:E,showError:D,value:P}=lX({potentiallyStalePath:d,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof h)return h(e,{...t,jsonError:m,required:u})},[h,u,m])}),[T,R]=(0,s.useState)(()=>(P||k)!==void 0?JSON.stringify(null!=P?P:k,null,2):void 0),O=(0,s.useCallback)((e,t)=>{if(!r)return;t.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[...t.languages.json.jsonDefaults.diagnosticsOptions.schemas||[],r],validate:!0});let n=r.uri,a=n.includes("?")?"".concat(n,"&").concat(crypto.randomUUID?crypto.randomUUID():oS()):"".concat(n,"?").concat(crypto.randomUUID?crypto.randomUUID():oS());e.setModel(t.editor.createModel(JSON.stringify(P,null,2),"json",t.Uri.parse(a)))},[r,P]),L=(0,s.useCallback)(e=>{if(!(p||_)){g.current="user";try{E(e?JSON.parse(e):null),v(void 0)}catch(t){E(e||null),v(t)}}},[p,_,E]);(0,s.useEffect)(()=>{"system"===g.current&&(R((P||k)!==void 0?JSON.stringify(null!=P?P:k,null,2):void 0),x(new Date().toString())),g.current="system"},[k,P]);let F=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsxs)("div",{className:[l1,"json-field",n,D&&"error",(p||_)&&"read-only"].filter(Boolean).join(" "),style:F,children:[(0,f.jsx)(ef,{CustomComponent:S,Fallback:(0,f.jsx)(aV,{label:i,localized:c,path:N,required:u})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:C,Fallback:(0,f.jsx)(ns,{message:m,path:N,showError:D})}),w,(0,f.jsx)(oz,{defaultLanguage:"json",maxHeight:o,onChange:L,onMount:O,options:l,readOnly:p||_,value:T,wrapperProps:{id:"field-".concat(null==N?void 0:N.replace(/\./g,"__"))}},b),y]}),(0,f.jsx)(ef,{CustomComponent:j,Fallback:(0,f.jsx)(ni,{description:a,path:N})})]})}),uR=lJ(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,step:o=1}={},hasMany:r=!1,label:i,localized:c,max:u=1/0,maxRows:p=1/0,min:h=-1/0,required:v},onChange:g,path:b,readOnly:x,validate:y}=e,{i18n:w,t:j}=(0,d.d)(),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,path:P,setValue:T,showError:R,value:O}=lX({potentiallyStalePath:b,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof y)return y(e,{...t,max:u,min:h,required:v})},[y,h,u,v])}),L=(0,s.useCallback)(e=>{let t=parseFloat(e.target.value),n=t;Number.isNaN(t)&&(n=null),"function"==typeof g&&g(n),T(n)},[g,T]),[F,I]=(0,s.useState)([]),A=(0,s.useCallback)(e=>{if(!(x||E)){var t;T(e?Array.isArray(e)?e.map(e=>{var t;return Number((null===(t=e.value)||void 0===t?void 0:t.value)||e.value)}):[Number((null===(t=e.value)||void 0===t?void 0:t.value)||e.value)]:[])}},[x,E,T]);(0,s.useEffect)(()=>{r&&Array.isArray(O)&&I(O.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[O,r]);let M=(0,s.useMemo)(()=>l0(t),[t]),B=(0,m.i)(l,w);return(0,f.jsxs)("div",{className:[l1,"number",n,R&&"error",(x||E)&&"read-only",r&&"has-many"].filter(Boolean).join(" "),style:M,children:[(0,f.jsx)(ef,{CustomComponent:N,Fallback:(0,f.jsx)(aV,{label:i,localized:c,path:P,required:v})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:k,Fallback:(0,f.jsx)(ns,{path:P,showError:R})}),S,r?(0,f.jsx)(ce,{className:"field-".concat(P.replace(/\./g,"__")),disabled:x||E,filterOption:(e,t)=>{let n=Array.isArray(O)&&O.length>=p;return(0,D.h)(t)&&!n},isClearable:!0,isCreatable:!0,isMulti:!0,isSortable:!0,noOptionsMessage:()=>Array.isArray(O)&&O.length>=p?j("validation:limitReached",{max:p,value:O.length+1}):null,onChange:A,options:[],placeholder:B,showError:R,value:F}):(0,f.jsx)("div",{children:(0,f.jsx)("input",{disabled:x||E,id:"field-".concat(P.replace(/\./g,"__")),max:u,min:h,name:P,onChange:L,onWheel:e=>{e.target.blur()},placeholder:B,step:o,type:"number",value:"number"==typeof O?O:""})}),C,(0,f.jsx)(ef,{CustomComponent:_,Fallback:(0,f.jsx)(ni,{description:a,path:P})})]})]})}),uO="point",uL=lJ(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,step:o}={},label:r,localized:i,required:c},path:u,readOnly:p,validate:h}=e,{i18n:v,t:g}=(0,d.d)(),{customComponents:{AfterInput:b,BeforeInput:x,Description:y,Error:w,Label:j}={},disabled:C,path:S,setValue:_,showError:k,value:N=[null,null]}=lX({potentiallyStalePath:u,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof h)return h(e,{...t,required:c})},[h,c])}),E=(0,s.useCallback)((e,t)=>{let n=parseFloat(e.target.value);Number.isNaN(n)&&(n=e.target.value);let a=[...N];a[t]=n,_(a)},[_,N]),D=e=>{let t=g("longitude"===e?"fields:longitude":"fields:latitude"),n=r?(0,m.i)(r,v):"";return"".concat(n).concat(n?" - ":"").concat(t)},P=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsxs)("div",{className:[l1,uO,n,k&&"error",(p||C)&&"read-only"].filter(Boolean).join(" "),style:P,children:[(0,f.jsxs)("ul",{className:"".concat(uO,"__wrap"),children:[(0,f.jsxs)("li",{children:[(0,f.jsx)(ef,{CustomComponent:j,Fallback:(0,f.jsx)(aV,{label:D("longitude"),localized:i,path:S,required:c})}),(0,f.jsxs)("div",{className:"input-wrapper",children:[x,(0,f.jsx)("input",{disabled:p||C,id:"field-longitude-".concat(null==S?void 0:S.replace(/\./g,"__")),name:"".concat(S,".longitude"),onChange:e=>E(e,0),placeholder:(0,m.i)(l,v),step:o,type:"number",value:N&&"number"==typeof N[0]?N[0]:""}),b]})]}),(0,f.jsxs)("li",{children:[(0,f.jsx)(ef,{CustomComponent:j,Fallback:(0,f.jsx)(aV,{label:D("latitude"),localized:i,path:S,required:c})}),(0,f.jsxs)("div",{className:"input-wrapper",children:[(0,f.jsx)(ef,{CustomComponent:w,Fallback:(0,f.jsx)(ns,{path:S,showError:k})}),x,(0,f.jsx)("input",{disabled:p||C,id:"field-latitude-".concat(null==S?void 0:S.replace(/\./g,"__")),name:"".concat(S,".latitude"),onChange:e=>E(e,1),placeholder:(0,m.i)(l,v),step:o,type:"number",value:N&&"number"==typeof N[1]?N[1]:""}),b]})]})]}),(0,f.jsx)(ef,{CustomComponent:y,Fallback:(0,f.jsx)(ni,{description:a,path:S})})]})}),uF="radio-input",uI=e=>{let t,n=(0,h.c)(16),{isSelected:a,onChange:l,option:o,path:r,readOnly:i,uuid:s}=e,{i18n:c}=(0,d.d)(),u=nd(),p="field-".concat(r,"-").concat(o.value).concat(u>1?"-".concat(u):"").concat(s?"-".concat(s):""),v=a&&"".concat(uF,"--is-selected"),g;n[0]!==v?(g=[uF,v].filter(Boolean),n[0]=v,n[1]=g):g=n[1];let b=g.join(" "),x;if(n[2]!==l||n[3]!==o.value?(x=()=>"function"==typeof l?l(o.value):null,n[2]=l,n[3]=o.value,n[4]=x):x=n[4],n[5]!==c||n[6]!==p||n[7]!==a||n[8]!==o.label||n[9]!==r||n[10]!==i||n[11]!==b||n[12]!==x){let e=(0,f.jsx)("input",{checked:a,disabled:i,id:p,name:r,onChange:x,type:"radio"}),l=i&&"".concat(uF,"__styled-radio--disabled"),s;n[14]!==l?(s=["".concat(uF,"__styled-radio"),l].filter(Boolean),n[14]=l,n[15]=s):s=n[15],t=(0,f.jsx)("label",{htmlFor:p,children:(0,f.jsxs)("div",{className:b,children:[e,(0,f.jsx)("span",{className:s.join(" ")}),(0,f.jsx)("span",{className:"".concat(uF,"__label"),children:(0,m.i)(o.label,c)})]})}),n[5]=c,n[6]=p,n[7]=a,n[8]=o.label,n[9]=r,n[10]=i,n[11]=b,n[12]=x,n[13]=t}else t=n[13];return t},uA="radio-group",uM=lJ(e=>{let{disableModifyingForm:t,field:n,field:{admin:{className:a,description:l,layout:o="horizontal"}={},label:r,localized:i,options:c=[],required:u}={},onChange:d,path:p,readOnly:h,validate:m,value:v}=e,{uuid:g}=eP(),{customComponents:{AfterInput:x,BeforeInput:y,Description:w,Error:j,Label:C}={},disabled:S,path:_,setValue:k,showError:N,value:E}=lX({potentiallyStalePath:p,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof m)return m(e,{...t,options:c,required:u})},[m,c,u])}),D=E||v,P=(0,s.useMemo)(()=>l0(n),[n]);return(0,f.jsxs)("div",{className:[l1,uA,a,"".concat(uA,"--layout-").concat(o),N&&"error",(h||S)&&"".concat(uA,"--read-only")].filter(Boolean).join(" "),style:P,children:[(0,f.jsx)(ef,{CustomComponent:j,Fallback:(0,f.jsx)(ns,{path:_,showError:N})}),(0,f.jsx)(ef,{CustomComponent:C,Fallback:(0,f.jsx)(aV,{label:r,localized:i,path:_,required:u})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[y,(0,f.jsx)("ul",{className:"".concat(uA,"--group"),id:"field-".concat(_.replace(/\./g,"__")),children:c.map(e=>{let n="",a=String(n=(0,b.GN)(e)?e.value:e)===String(D),l="field-".concat(_,"-").concat(n).concat(g?"-".concat(g):"");return(0,f.jsx)("li",{children:(0,f.jsx)(uI,{id:l,isSelected:a,onChange:()=>{"function"==typeof d&&d(n),h||S||k(n,!!t)},option:(0,b.GN)(e)?e:{label:e,value:e},path:_,readOnly:h||S,uuid:g})},"".concat(_," - ").concat(n))})}),x,(0,f.jsx)(ef,{CustomComponent:w,Fallback:(0,f.jsx)(ni,{description:l,path:_})})]})]})}),uB="relationship-add-new",uz=e=>{var t,n;let a,l,o,r,i,c;let u=(0,h.c)(46),{Button:p,hasMany:v,onChange:g,path:b,relationTo:x,unstyled:y,value:w}=e,j=cI(x),{permissions:C}=aD(),[S,_]=(0,s.useState)(!1),[k,N]=(0,s.useState)(),E=j.length>1,D;u[0]!==j[0]||u[1]!==E?(D=()=>E?void 0:j[0],u[0]=j[0],u[1]=E,u[2]=D):D=u[2];let[P,T]=(0,s.useState)(D),[R,O]=(0,s.useState)(!1),{i18n:L,t:F}=(0,d.d)(),[I,A]=(0,s.useState)(!1),M=null==P?void 0:P.slug,B;u[3]!==M?(B={collectionSlug:M},u[3]=M,u[4]=B):B=u[4];let[z,U,V]=c2(B),{isDrawerOpen:H,toggleDrawer:q}=V,W;u[5]!==P||u[6]!==v||u[7]!==g||u[8]!==j[0]||u[9]!==w?(W=e=>{var t;let{doc:n,operation:a}=e,l="object"==typeof(null==P?void 0:null===(t=P.versions)||void 0===t?void 0:t.drafts)&&P.versions.drafts.autosave;("create"===a||"update"===a&&l)&&(w&&(Array.isArray(w)?w.some(e=>e&&e.value===n.id):w.value===n.id)||g(!0===v?[...Array.isArray(w)?w:[],{relationTo:null==P?void 0:P.slug,value:n.id}]:{relationTo:j[0].slug,value:n.id}),N(void 0))},u[5]=P,u[6]=v,u[7]=g,u[8]=j[0],u[9]=w,u[10]=W):W=u[10];let K=W,Y;u[11]===Symbol.for("react.memo_cache_sentinel")?(Y=e=>{O(e)},u[11]=Y):Y=u[11];let G=Y,$,X;u[12]!==C||u[13]!==j?($=()=>{var e,t;C&&(1===j.length?_(null===(e=C.collections[null===(t=j[0])||void 0===t?void 0:t.slug])||void 0===e?void 0:e.create):_(j.some(e=>{var t;return null===(t=C.collections[null==e?void 0:e.slug])||void 0===t?void 0:t.create})))},X=[C,j],u[12]=C,u[13]=j,u[14]=$,u[15]=X):($=u[14],X=u[15]),(0,s.useEffect)($,X),u[16]!==j||u[17]!==E||u[18]!==k?(l=()=>{E&&k&&T(j.find(e=>(null==e?void 0:e.slug)===k))},a=[k,E,j],u[16]=j,u[17]=E,u[18]=k,u[19]=a,u[20]=l):(a=u[19],l=u[20]),(0,s.useEffect)(l,a),u[21]!==P||u[22]!==E||u[23]!==q?(o=()=>{E&&P&&(q(),N(void 0))},r=[q,E,P],u[21]=P,u[22]=E,u[23]=q,u[24]=o,u[25]=r):(o=u[24],r=u[25]),(0,s.useEffect)(o,r),u[26]!==H||u[27]!==E?(i=()=>{E&&!H&&T(void 0)},c=[H,E],u[26]=H,u[27]=E,u[28]=i,u[29]=c):(i=u[28],c=u[29]),(0,s.useEffect)(i,c);let Q=null===(t=j[0])||void 0===t?void 0:t.labels.singular,Z;if(u[30]!==p||u[31]!==z||u[32]!==U||u[33]!==P||u[34]!==L||u[35]!==K||u[36]!==b||u[37]!==C||u[38]!==R||u[39]!==j||u[40]!==S||u[41]!==I||u[42]!==F||u[43]!==Q||u[44]!==y){Z=Symbol.for("react.early_return_sentinel");e:{let e=F("fields:addNewLabel",{label:(0,m.i)(Q,L)});if(S){Z=(0,f.jsxs)("div",{className:uB,id:"".concat(b,"-add-new"),children:[1===j.length&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(U,{className:["".concat(uB,"__add-button"),y&&"".concat(uB,"__add-button--unstyled")].filter(Boolean).join(" "),onClick:()=>A(!1),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:p||(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(tP,{className:"".concat(uB,"__tooltip"),show:I,children:e}),(0,f.jsx)(tu,{})]})}),(0,f.jsx)(z,{onSave:K})]}),j.length>1&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(tD,{button:p||(0,f.jsx)(tO,{buttonStyle:"none",className:"".concat(uB,"__add-button"),tooltip:R?void 0:F("fields:addNew"),children:(0,f.jsx)(tu,{})}),buttonType:"custom",horizontalAlign:"center",onToggleOpen:G,render:e=>{let{close:t}=e;return(0,f.jsx)(tv,{children:j.map(e=>{var n;return C.collections[null==e?void 0:e.slug].create?(0,f.jsx)(tg,{className:"".concat(uB,"__relation-button--").concat(null==e?void 0:e.slug),onClick:()=>{t(),N(null==e?void 0:e.slug)},children:(0,m.i)(null==e?void 0:null===(n=e.labels)||void 0===n?void 0:n.singular,L)},null==e?void 0:e.slug):null})})},size:"medium"}),P&&(null===(n=C.collections[null==P?void 0:P.slug])||void 0===n?void 0:n.create)&&(0,f.jsx)(z,{onSave:K})]})]});break e}}u[30]=p,u[31]=z,u[32]=U,u[33]=P,u[34]=L,u[35]=K,u[36]=b,u[37]=C,u[38]=R,u[39]=j,u[40]=S,u[41]=I,u[42]=F,u[43]=Q,u[44]=y,u[45]=Z}else Z=u[45];return Z!==Symbol.for("react.early_return_sentinel")?Z:null},uU=e=>{let{allowCreate:t=!0,collectionSlugs:n,disableQueryPresets:a,drawerSlug:l,enableRowSelections:o,filterOptions:r,onBulkSelect:i,onSelect:c,overrideEntityVisibility:d=!0,selectedCollection:p}=e,{closeModal:h,isModalOpen:m}=nT(),{serverFunction:v}=cE(),[g,b]=(0,s.useState)(void 0),[x,y]=(0,s.useState)(!0),{config:{collections:w},getEntityConfig:j}=(0,u.b)(),C=m(l),S=w.filter(e=>{let{slug:t}=e;return n.includes(t)}),[_,k]=(0,s.useState)(()=>{var e;let t=j({collectionSlug:p||(null===(e=S[0])||void 0===e?void 0:e.slug)});return t?{label:t.labels,value:t.slug}:void 0}),[E,D,{drawerSlug:P}]=c2({collectionSlug:_.value}),T=a_(e=>{var t;e&&e!==(null==_?void 0:_.value)&&k({label:null===(t=j({collectionSlug:e}))||void 0===t?void 0:t.labels,value:e})});(0,s.useEffect)(()=>{T(p)},[p]);let R=(0,s.useCallback)(async e=>{let{slug:n,query:i}=e;try{let e={...i||{},where:{...(null==i?void 0:i.where)||{}}},s=null==r?void 0:r[n];if(r&&"boolean"!=typeof s&&(e.where=(0,N.u)(e.where,s)),n){let r=await v({name:"render-list",args:{allowCreate:t,collectionSlug:n,disableBulkDelete:!0,disableBulkEdit:!0,disableQueryPresets:a,drawerSlug:l,enableRowSelections:o,overrideEntityVisibility:d,query:e}});b((null==r?void 0:r.List)||null)}else b(null);y(!1)}catch(e){console.error("Error rendering List View: ",e),C&&h(l)}},[v,h,t,l,C,o,r,d,a]);(0,s.useEffect)(()=>{g||R({slug:null==_?void 0:_.value})},[R,g,_.value]);let O=(0,s.useCallback)(e=>{let{doc:t}=e;"function"==typeof c&&c({collectionSlug:null==_?void 0:_.value,doc:t,docID:t.id}),h(P),h(l)},[h,P,l,c,_.value]),L=(0,s.useCallback)(e=>{R({slug:null==_?void 0:_.value,query:e})},[R,_.value]),F=(0,s.useCallback)(e=>{k(e),R({slug:null==e?void 0:e.value})},[R]);return x?(0,f.jsx)(cq,{}):(0,f.jsxs)(cy,{allowCreate:t,createNewDrawerSlug:P,DocumentDrawerToggler:D,drawerSlug:l,enabledCollections:n,onBulkSelect:i,onQueryChange:L,onSelect:c,selectedOption:_,setSelectedOption:F,children:[g,(0,f.jsx)(E,{onSave:O})]})},uV="list-drawer",uH=e=>{let{depth:t,uuid:n}=e;return"list-drawer_".concat(t,"_").concat(n)},uq=e=>{let{children:t,className:n,disabled:a,drawerSlug:l,onClick:o,...r}=e;return(0,f.jsx)(am,{className:[n,"".concat(uV,"__toggler")].filter(Boolean).join(" "),disabled:a,onClick:o,slug:l,...r,children:t})},uW=e=>{let{drawerSlug:t}=e;return(0,f.jsx)(av,{className:uV,gutter:!1,Header:null,slug:t,children:(0,f.jsx)(uU,{...e})})},uK=e=>{let t,n,a,l,o,r,i,c,d=(0,h.c)(42),{collectionSlugs:p,filterOptions:m,selectedCollection:v,uploads:g}=e,{config:b}=(0,u.b)(),{collections:x}=b,y=nd(),w=(0,s.useId)(),{closeModal:j,modalState:C,openModal:S,toggleModal:_}=nT(),[k,N]=(0,s.useState)(!1),[E,D]=(0,s.useState)(p),P;d[0]!==y||d[1]!==w?(P=uH({depth:y,uuid:w}),d[0]=y,d[1]=w,d[2]=P):P=d[2];let T=P,R,O;d[3]!==T||d[4]!==C?(R=()=>{var e;N(!!(null===(e=C[T])||void 0===e?void 0:e.isOpen))},O=[C,T],d[3]=T,d[4]=C,d[5]=R,d[6]=O):(R=d[5],O=d[6]),(0,s.useEffect)(R,O),d[7]!==E||d[8]!==x||d[9]!==g?(r=()=>{E&&0!==E.length||D(x.filter(e=>{let{upload:t}=e;return!g||!!t}).map(uY))},i=[E,g,x],d[7]=E,d[8]=x,d[9]=g,d[10]=r,d[11]=i):(r=d[10],i=d[11]),(0,s.useEffect)(r,i),d[12]!==T||d[13]!==_?(c=()=>{_(T)},d[12]=T,d[13]=_,d[14]=c):c=d[14];let L=c,F;d[15]!==j||d[16]!==T?(F=()=>{j(T)},d[15]=j,d[16]=T,d[17]=F):F=d[17];let I=F,A;d[18]!==T||d[19]!==S?(A=()=>{S(T)},d[18]=T,d[19]=S,d[20]=A):A=d[20];let M=A,B,z;return d[21]!==I||d[22]!==E||d[23]!==T||d[24]!==m||d[25]!==v||d[26]!==g?(z=e=>(0,s.createElement)(uW,{...e,closeDrawer:I,collectionSlugs:E,drawerSlug:T,filterOptions:m,key:T,selectedCollection:v,uploads:g}),d[21]=I,d[22]=E,d[23]=T,d[24]=m,d[25]=v,d[26]=g,d[27]=z):z=d[27],B=z,d[28]!==T?(n=e=>(0,f.jsx)(uq,{...e,drawerSlug:T}),d[28]=T,d[29]=n):n=d[29],t=n,d[30]!==I||d[31]!==E||d[32]!==y||d[33]!==T||d[34]!==k||d[35]!==M||d[36]!==L?(l={closeDrawer:I,collectionSlugs:E,drawerDepth:y,drawerSlug:T,isDrawerOpen:k,openDrawer:M,setCollectionSlugs:D,toggleDrawer:L},d[30]=I,d[31]=E,d[32]=y,d[33]=T,d[34]=k,d[35]=M,d[36]=L,d[37]=l):l=d[37],a=l,d[38]!==B||d[39]!==a||d[40]!==t?(o=[B,t,a],d[38]=B,d[39]=a,d[40]=t,d[41]=o):o=d[41],o};function uY(e){let{slug:t}=e;return t}var uG=(e,t)=>{let n=(0,h.c)(3),a=(0,s.useRef)(void 0),l;return n[0]!==e||n[1]!==t?(l=function(){for(var n=arguments.length,l=Array(n),o=0;o<n;o++)l[o]=arguments[o];clearTimeout(a.current),a.current=setTimeout(()=>{clearTimeout(a.current),e(...l)},t)},n[0]=e,n[1]=t,n[2]=l):l=n[2],l};function u$(){let e=(0,s.useRef)([]),t=(0,s.useRef)(!1);return{queueTask:(0,s.useCallback)((n,a)=>{e.current.push(n),async function(){if(!t.current&&!("function"==typeof(null==a?void 0:a.beforeProcess)&&!1===a.beforeProcess()))for(;e.current.length>0;){let n=e.current.pop();e.current=[],t.current=!0;try{await n()}catch(e){console.error("Error in queued function:",e)}finally{t.current=!1,"function"==typeof(null==a?void 0:a.afterProcess)&&a.afterProcess()}}}()},[])}}var uX=e=>{for(let t in e){let n=e[t];if(("and"===t.toLowerCase()||"or"===t.toLowerCase())&&Array.isArray(n))for(let e of n)uX(e);else n&&"object"==typeof n&&"in"in n&&Array.isArray(n.in)&&0===n.in.length&&(e[t]={exists:!1})}return e},uQ=e=>{let{hasMany:t,relationTo:n,value:a}=e,l=n.reduce((e,t)=>({...e,[t]:[]}),{});if(null===a)return l;if(a){let e=(e,t)=>{("string"==typeof t||"number"==typeof t)&&"string"==typeof e&&(l[e]?l[e].push(t):l[e]=[t])};!0===t?a.forEach(t=>{t&&e(t.relationTo,t.value)}):e(a.relationTo,a.value)}return l},uZ=e=>{let{allowEdit:t,options:n,value:a}=e;if(a||"number"==typeof a){let e;return Array.isArray(a)?a.map(e=>{let a;return n.forEach(t=>{a||(a=t.options.find(t=>t.value===e.value&&t.relationTo===e.relationTo))}),a?{allowEdit:t,...a}:void 0}):(n.forEach(t=>{e||(e=t.options.find(e=>e.value===a.value&&e.relationTo===a.relationTo))}),e?{allowEdit:t,...e}:void 0)}},uJ=e=>e.reduce((e,t)=>t.options?[...e,...uJ(t.options)]:[...e,{id:t.value,relationTo:t.relationTo}],[]),u0=e=>e.sort((e,t)=>{var n,a;return"function"==typeof(null==e?void 0:null===(n=e.label)||void 0===n?void 0:n.localeCompare)&&"function"==typeof(null==t?void 0:null===(a=t.label)||void 0===a?void 0:a.localeCompare)?e.label.localeCompare(t.label):0}),u1=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,config:a,docs:l,i18n:o,ids:r=[],sort:i}=t,s=n.slug,c=uJ(e),u=[...e],d=u.find(e=>e.label===n.labels.plural),p=l.reduce((e,t)=>0===c.filter(e=>e.id===t.id&&e.relationTo===s).length?(c.push({id:t.id,relationTo:s}),[...e,{label:lT({collectionConfig:n,data:t,dateFormat:a.admin.dateFormat,fallback:"".concat(o.t("general:untitled")," - ID: ").concat(t.id),i18n:o}),relationTo:s,value:t.id}]):e,[]);if(r.forEach(e=>{0===c.filter(t=>t.id===e&&t.relationTo===s).length&&(c.push({id:e,relationTo:s}),p.push({allowEdit:!1,label:"".concat(o.t("general:untitled")," - ID: ").concat(e),relationTo:s,value:e}))}),d){let e=[...d.options,...p];d.options=i?u0(e):e}else u.push({label:(0,m.i)(n.labels.plural,o),options:i?u0(p):p});return u}case"CLEAR":{let n=t.exemptValues?Array.isArray(t.exemptValues)?t.exemptValues:[t.exemptValues]:[];return e.filter(e=>{let t=e.options.filter(e=>!!n&&n.some(t=>t&&e.value===t.value));return e.options=t,t.length>0})}case"REMOVE":{let{id:n,collection:a}=t,l=[...e],o=l.findIndex(e=>e.label===a.labels.plural);return -1===o||(l[o]={...l[o],options:l[o].options.filter(e=>e.value!==n)}),l}case"UPDATE":{var n,a;let{collection:l,config:o,doc:r,i18n:i}=t,s=l.slug,c=[...e],u=lT({collectionConfig:l,data:r,dateFormat:o.admin.dateFormat,fallback:"".concat(i.t("general:untitled")," - ID: ").concat(r.id),i18n:i}),d=null===(a=c.find(e=>e.label===l.labels.plural))||void 0===a?void 0:null===(n=a.options)||void 0===n?void 0:n.find(e=>e.value===r.id);return d&&(d.label=u,d.relationTo=s),c}default:return e}},u3="relationship--multi-value-label",u2=e=>{var t,n;let a;let l=(0,h.c)(26),{data:o,selectProps:r}=e,{allowEdit:i,label:c,relationTo:u,value:p}=o,m;l[0]!==r?(m=void 0===r?{}:r,l[0]=r,l[1]=m):m=l[1];let{customProps:v}=m,g;l[2]!==v?(g=void 0===v?{}:v,l[2]=v,l[3]=g):g=l[3];let{draggableProps:b,onDocumentOpen:x}=g,{permissions:y}=aD(),[w,j]=(0,s.useState)(!1),{t:C}=(0,d.d)(),S=!!(null==y?void 0:null===(n=y.collections)||void 0===n?void 0:null===(t=n[u])||void 0===t?void 0:t.read),_;if(l[4]!==b?(_=b||{},l[4]=b,l[5]=_):_=l[5],l[6]!==i||l[7]!==S||l[8]!==c||l[9]!==x||l[10]!==e||l[11]!==u||l[12]!==w||l[13]!==C||l[14]!==_||l[15]!==p){let t;l[17]!==i||l[18]!==S||l[19]!==c||l[20]!==x||l[21]!==u||l[22]!==w||l[23]!==C||l[24]!==p?(t=u&&S&&!1!==i&&(0,f.jsx)(s.Fragment,{children:(0,f.jsxs)("button",{"aria-label":"Edit ".concat(c),className:"".concat(u3,"__drawer-toggler"),onClick:e=>{j(!1),x({id:p,collectionSlug:u,hasReadPermission:S,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:u6,onMouseDown:u5,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),onTouchEnd:u4,type:"button",children:[(0,f.jsx)(tP,{className:"".concat(u3,"__tooltip"),show:w,children:C("general:editLabel",{label:""})}),(0,f.jsx)(ts,{className:"".concat(u3,"__icon")})]})}),l[17]=i,l[18]=S,l[19]=c,l[20]=x,l[21]=u,l[22]=w,l[23]=C,l[24]=p,l[25]=t):t=l[25],a=(0,f.jsxs)("div",{className:u3,children:[(0,f.jsx)("div",{className:"".concat(u3,"__content"),children:(0,f.jsx)(iK.MultiValueLabel,{...e,innerProps:{className:"".concat(u3,"__text"),..._}})}),t]}),l[6]=i,l[7]=S,l[8]=c,l[9]=x,l[10]=e,l[11]=u,l[12]=w,l[13]=C,l[14]=_,l[15]=p,l[16]=a}else a=l[16];return a};function u6(e){"Enter"===e.key&&e.stopPropagation()}function u5(e){return e.stopPropagation()}function u4(e){return e.stopPropagation()}var u8="relationship--single-value",u7=e=>{var t,n;let a=(0,h.c)(24),{children:l,data:o,selectProps:r}=e,{allowEdit:i,label:c,relationTo:u,value:p}=o,m;a[0]!==r?(m=void 0===r?{}:r,a[0]=r,a[1]=m):m=a[1];let{customProps:v}=m,g;a[2]!==v?(g=void 0===v?{}:v,a[2]=v,a[3]=g):g=a[3];let{onDocumentOpen:b}=g,[x,y]=(0,s.useState)(!1),{t:w}=(0,d.d)(),{permissions:j}=aD(),C=!!(null==j?void 0:null===(n=j.collections)||void 0===n?void 0:null===(t=n[u])||void 0===t?void 0:t.read),S;if(a[4]!==i||a[5]!==l||a[6]!==C||a[7]!==c||a[8]!==b||a[9]!==e||a[10]!==u||a[11]!==x||a[12]!==w||a[13]!==p){let t;a[15]!==i||a[16]!==C||a[17]!==c||a[18]!==b||a[19]!==u||a[20]!==x||a[21]!==w||a[22]!==p?(t=u&&C&&!1!==i&&(0,f.jsx)(s.Fragment,{children:(0,f.jsxs)("button",{"aria-label":w("general:editLabel",{label:c}),className:"".concat(u8,"__drawer-toggler"),onClick:e=>{y(!1),b({id:p,collectionSlug:u,hasReadPermission:C,openInNewTab:e.metaKey||e.ctrlKey})},onKeyDown:u9,onMouseDown:de,onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),onTouchEnd:dt,type:"button",children:[(0,f.jsx)(tP,{className:"".concat(u8,"__tooltip"),show:x,children:w("general:edit")}),(0,f.jsx)(ts,{})]})}),a[15]=i,a[16]=C,a[17]=c,a[18]=b,a[19]=u,a[20]=x,a[21]=w,a[22]=p,a[23]=t):t=a[23],S=(0,f.jsx)(iK.SingleValue,{...e,className:u8,children:(0,f.jsx)("div",{className:"".concat(u8,"__label"),children:(0,f.jsxs)("div",{className:"".concat(u8,"__label-text"),children:[(0,f.jsx)("div",{className:"".concat(u8,"__text"),children:l}),t]})})}),a[4]=i,a[5]=l,a[6]=C,a[7]=c,a[8]=b,a[9]=e,a[10]=u,a[11]=x,a[12]=w,a[13]=p,a[14]=S}else S=a[14];return S};function u9(e){"Enter"===e.key&&e.stopPropagation()}function de(e){return e.stopPropagation()}function dt(e){return e.stopPropagation()}var dn="relationship",da=e=>{let{AfterInput:t,allowCreate:n=!0,allowEdit:a=!0,appearance:l="select",BeforeInput:o,className:r,description:i,Description:c,Error:p,filterOptions:h,hasMany:m,initialValue:v,isSortable:g=!0,label:b,Label:x,localized:C,maxResultsPerRequest:S=10,onChange:_,path:k,placeholder:N,readOnly:E,relationTo:D,required:P,showError:T,sortOptions:R,style:L,value:F}=e,{config:I,getEntityConfig:A}=(0,u.b)(),{routes:{api:M},serverURL:B}=I,{i18n:z,t:U}=(0,d.d)(),{permissions:V}=aD(),{code:H}=aB(),[q,W]=(0,s.useState)({id:void 0,collectionSlug:void 0,hasReadPermission:!1}),[K,Y]=(0,s.useState)(-1),[G,$]=(0,s.useState)({}),[X,Q]=(0,s.useState)(""),[Z,J]=(0,s.useState)(""),[ee,et]=(0,s.useState)(!1),[en,ea]=(0,s.useState)(!1),[el,eo]=(0,s.useState)(!1),er=(0,s.useRef)(!1),{queueTask:ei}=u$(),[es,ec]=(0,s.useReducer)(u1,[]),eu=(0,s.useRef)(F);eu.current=F;let[ed,,{isDrawerOpen:ep,openDrawer:eh}]=c2({id:q.id,collectionSlug:q.collectionSlug}),em=(0,s.useMemo)(()=>{let e=h;if(F){let t=(!1===m?[F]:F).reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value),e),{});(Array.isArray(D)?D:[D]).forEach(n=>{e={...e||{},[n]:{..."object"==typeof(null==h?void 0:h[n])?h[n]:{},...t[n]?{id:{not_in:t[n]}}:{}}}})}return e},[h,F,m,D]),[ev,,{closeDrawer:eg,isDrawerOpen:eb,openDrawer:ex}]=uK({collectionSlugs:D,filterOptions:em}),ey=(0,s.useCallback)(e=>{let{collectionSlug:t,doc:n}=e;m?_([...Array.isArray(F)?F:[],{relationTo:t,value:n.id}]):!1===m&&_({relationTo:t,value:n.id}),eg()},[m,_,eg,F]),ew=(0,s.useRef)(!1),ej=(0,s.useCallback)(e=>{let{filterOptions:t,hasMany:n,lastFullyLoadedRelation:a,lastLoadedPage:l,onSuccess:o,search:r,sort:i,value:s}=e;V&&ei(async()=>{let e="u">typeof a?a:-1,c=Array.isArray(D)?D:[D],u=-1===e?c:c.slice(e+1),d=0,p=uQ(!0===n?{hasMany:!0,relationTo:D,value:s}:{hasMany:!1,relationTo:D,value:s});X||(await u.reduce(async(e,n)=>{let a=null==t?void 0:t[n],o;if(o=Z!==r?1:l[n]+1,await e,!1===a)return Y(c.indexOf(n)),Promise.resolve();if(d<10){var s;let e=A({collectionSlug:n}),t=(null==e?void 0:null===(s=e.admin)||void 0===s?void 0:s.useAsTitle)||"id",l=(null==e?void 0:e.defaultSort)||"id";"string"==typeof R?l=R:(null==R?void 0:R[n])&&(l=R[n]);let u={depth:0,draft:!0,limit:S,locale:H,page:o,select:{[t]:!0},sort:l,where:{and:[{id:{not_in:p[n]}}]}};r&&u.where.and.push({[t]:{like:r}}),a&&"boolean"!=typeof a&&u.where.and.push(a),uX(u.where);let f=await fetch("".concat(B).concat(M,"/").concat(n),{body:w.P(u),credentials:"include",headers:{"Accept-Language":z.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(f.ok){let t=await f.json();$(e=>({...e,[n]:o})),t.nextPage||Y(c.indexOf(n)),t.docs.length>0&&(d+=t.docs.length,ec({type:"ADD",collection:e,config:I,docs:t.docs,i18n:z,sort:i}))}else 403===f.status?(Y(c.indexOf(n)),ec({type:"ADD",collection:e,config:I,docs:[],i18n:z,ids:p[n],sort:i})):Q(U("error:unspecific"))}},Promise.resolve()),"function"==typeof o&&o())})},[V,ei,D,X,Z,A,R,S,H,B,M,z,I,U]),eC=uG(e=>{let{hasMany:t,search:n,value:a}=e;eT({filterOptions:h,lastLoadedPage:{},search:n,sort:!0,hasMany:t,value:a}),J(n)},300),eS=(0,s.useCallback)(e=>{Z!==e.search&&($({}),eC(e))},[Z,eC]),e_=a_(e=>{let{hasMany:t,value:n}=e;Object.entries(uQ({hasMany:t,relationTo:D,value:n})).reduce(async(e,t)=>{let[n,a]=t;await e;let l=a.filter(e=>!es.find(t=>{var a;return null==t?void 0:null===(a=t.options)||void 0===a?void 0:a.find(t=>t.value===e&&t.relationTo===n)}));if(l.length>0){let e={depth:0,draft:!0,limit:l.length,locale:H,where:{id:{in:l}}};if(!X){let t=await fetch("".concat(B).concat(M,"/").concat(n),{body:w.P(e),credentials:"include",headers:{"Accept-Language":z.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"}),a=A({collectionSlug:n}),o=[];t.ok&&(o=(await t.json()).docs),ec({type:"ADD",collection:a,config:I,docs:o,i18n:z,ids:l,sort:!0})}}},Promise.resolve())}),ek=(0,s.useCallback)(e=>{ec({type:"UPDATE",collection:e.collectionConfig,config:I,doc:e.doc,i18n:z});let t=e.doc.id;m?_((eu.current?Array.isArray(eu.current)?eu.current:[eu.current]:[]).map(n=>({relationTo:n.value===t?e.collectionConfig.slug:n.relationTo,value:n.value}))):!1===m&&_({relationTo:e.collectionConfig.slug,value:t})},[z,I,m,_]),eN=(0,s.useCallback)(e=>{ec({type:"ADD",collection:e.collectionConfig,config:I,docs:[e.doc],i18n:z,sort:!0}),m?_(eu.current?eu.current.concat({relationTo:e.collectionConfig.slug,value:e.doc.id}):null):!1===m&&_({relationTo:e.collectionConfig.slug,value:e.doc.id})},[z,I,m,_]),eE=(0,s.useCallback)(e=>{ec({id:e.id,type:"REMOVE",collection:e.collectionConfig,config:I,i18n:z}),_(m&&eu.current?eu.current.filter(t=>t.value!==e.id):null)},[z,I,m,_]),eD=(0,s.useCallback)((e,t)=>{if(!t)return!0;let n=(0,O.n)(t||""),a=String(e.label);for(;a.length>250;){let e=a.indexOf(" ",t.length);if(n.test(a.slice(0,-1===e?t.length:e+1)))return!0;a=a.slice(-1===e?t.length:e+1)}return n.test(a.slice(-250))},[]),eP=(0,s.useCallback)(e=>{let{id:t,collectionSlug:n,hasReadPermission:a,openInNewTab:l}=e;if(l){if(a&&t&&n){let e=(0,y.$)({adminRoute:I.routes.admin,path:"/collections/".concat(n,"/").concat(t)});window.open(e,"_blank")}}else ew.current=!0,W({id:t,collectionSlug:n,hasReadPermission:a})},[I.routes.admin]),eT=a_(e=>ej(e));(0,s.useEffect)(()=>{er.current&&el&&(et(!0),eT({filterOptions:h,lastLoadedPage:{},onSuccess:()=>{er.current=!0,et(!1)},hasMany:m,value:eu.current})),ec({type:"CLEAR",exemptValues:eu.current}),Y(-1),$({})},[D,h,H,k,el,m]);let eR=(0,s.useRef)(F),eO=(0,s.useRef)(!0);(0,s.useEffect)(()=>{(eO.current||!(0,j.J)(F,eR.current))&&e_({hasMany:m,value:F}),eO.current=!1,eR.current=F},[F,m]),(0,s.useEffect)(()=>{ea(!(Array.isArray(D)?D:[D]).reduce((e,t)=>{var n,a;return"id"===((null===(a=A({collectionSlug:t}))||void 0===a?void 0:null===(n=a.admin)||void 0===n?void 0:n.useAsTitle)||"id")&&e},!0))},[D,A]),(0,s.useEffect)(()=>{ew.current&&(eh(),ew.current=!1)},[eh,q]);let eL=uZ({allowEdit:a,options:es,value:F});return Array.isArray(eL)||(null==eL?void 0:eL.value)!=="null"||(eL.value=null),(0,f.jsxs)("div",{className:[l1,dn,r,T&&"error",X&&"error-loading",E&&"".concat(dn,"--read-only"),!E&&n&&"".concat(dn,"--allow-create")].filter(Boolean).join(" "),id:"field-".concat(k.replace(/\./g,"__")),style:L,children:[(0,f.jsx)(ef,{CustomComponent:x,Fallback:(0,f.jsx)(aV,{label:b,localized:C,path:k,required:P})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:p,Fallback:(0,f.jsx)(ns,{path:k,showError:T})}),o,X?(0,f.jsx)("div",{className:"".concat(dn,"__error-loading"),children:X}):(0,f.jsxs)("div",{className:"".concat(dn,"__wrap"),children:[(0,f.jsx)(ce,{backspaceRemovesValue:!(ep||eb),components:{MultiValueLabel:u2,SingleValue:u7,..."select"!==l&&{DropdownIndicator:null}},customProps:{disableKeyDown:ep||eb,disableMouseDown:ep||eb,onDocumentOpen:eP,onSave:ek},disabled:E||ep||eb,filterOption:en?eD:void 0,getOptionValue:e=>{if(e)return m&&Array.isArray(D)?"".concat(e.relationTo,"_").concat(e.value):e.value},isLoading:"select"===l&&ee,isMulti:m,isSearchable:"select"===l,isSortable:g,menuIsOpen:"select"===l&&el,onChange:E?void 0:e=>{m?_(null===e?[]:e):!1===m&&_(null===e?null:e)},onInputChange:e=>eS({search:e,hasMany:m,value:F}),onMenuClose:()=>{eo(!1)},onMenuOpen:()=>{"drawer"===l?setTimeout(()=>{ex()},100):"select"===l&&(eo(!0),er.current||(et(!0),eT({filterOptions:h,lastLoadedPage:{},onSuccess:()=>{er.current=!0,et(!1)},hasMany:m,value:F})))},onMenuScrollToBottom:()=>{eT({filterOptions:h,lastFullyLoadedRelation:K,lastLoadedPage:G,search:Z,sort:!1,hasMany:m,value:v})},options:es,placeholder:N,showError:T,value:null!=eL?eL:null}),!E&&n&&(0,f.jsx)(uz,{path:k,relationTo:D,hasMany:m,onChange:_,value:F})]}),t,(0,f.jsx)(ef,{CustomComponent:c,Fallback:(0,f.jsx)(ni,{description:i,path:k})})]}),q.collectionSlug&&q.hasReadPermission&&(0,f.jsx)(ed,{onDelete:eE,onDuplicate:eN,onSave:ek}),"drawer"===l&&!E&&(0,f.jsx)(ev,{allowCreate:n,enableRowSelections:!1,onSelect:ey})]})},dl=lJ(e=>{let{field:t,field:{admin:{allowCreate:n=!0,allowEdit:a=!0,appearance:l="select",className:o,description:r,isSortable:i=!0,placeholder:c,sortOptions:u}={},hasMany:d,label:p,localized:h,relationTo:m,required:v},path:g,readOnly:b,validate:x}=e,{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,filterOptions:k,initialValue:N,path:E,setValue:D,showError:P,value:T}=lX({potentiallyStalePath:g,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,required:v})},[x,v])}),R=(0,s.useMemo)(()=>l0(t),[t]),O=Array.isArray(m),[L]=s.useState(()=>Array.isArray(m)?m:[m]),F=(0,s.useCallback)(e=>{if(!e){D(null,e===T);return}let t=!1;t=O?Array.isArray(T)&&Array.isArray(e)&&T.length===e.length&&T.every((t,n)=>{let a=e[n];return t.value===a.value&&t.relationTo===a.relationTo}):Array.isArray(T)&&Array.isArray(e)&&T.length===e.length&&T.every((t,n)=>t===e[n].value),D(e.map(e=>O?e:e.value),t)},[O,D,T]),I=(0,s.useCallback)(e=>{if(!e){D(null,e===T);return}let t=!1;t=O?T&&e&&T.value===e.value&&T.relationTo===e.relationTo:T&&e&&T===e.value,D(O?e:e.value,t)},[O,D,T]),A=s.useMemo(()=>!0===d?Array.isArray(T)?T.map(e=>O?e:{relationTo:Array.isArray(L)?L[0]:L,value:e}):T:T&&(O?T:{relationTo:Array.isArray(L)?L[0]:L,value:T}),[d,T,O,L]),M=s.useMemo(()=>!0===d?Array.isArray(N)?N.map(e=>O?e:{relationTo:Array.isArray(L)?L[0]:L,value:e}):N:N&&(O?N:{relationTo:Array.isArray(L)?L[0]:L,value:N}),[N,O,L,d]);return(0,f.jsx)(da,{AfterInput:y,allowCreate:n,allowEdit:a,appearance:l,BeforeInput:w,className:o,Description:j,description:r,Error:C,filterOptions:k,isSortable:i,Label:S,label:p,localized:h,maxResultsPerRequest:10,maxRows:null==t?void 0:t.maxRows,minRows:null==t?void 0:t.minRows,path:E,placeholder:c,readOnly:b||_,relationTo:L,required:v,showError:P,sortOptions:u,style:R,...!0===d?{hasMany:!0,initialValue:M,onChange:F,value:A}:{hasMany:!1,initialValue:M,onChange:I,value:A}})}),dr=()=>null,di=lJ(e=>{let{field:{admin:{className:t,style:n}={},fields:a},forceRender:l=!1,indexPath:o="",parentPath:r="",parentSchemaPath:i="",permissions:s,readOnly:c}=e;return(0,f.jsx)(ci,{children:(0,f.jsx)("div",{className:[l1,"row",t].filter(Boolean).join(" "),style:n||void 0,children:(0,f.jsx)(f1,{className:"".concat("row","__fields"),fields:a,forceRender:l,margins:!1,parentIndexPath:o,parentPath:r,parentSchemaPath:i,permissions:s,readOnly:c})})})}),ds=e=>{let t=(0,h.c)(41),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,filterOption:s,hasMany:c,isClearable:u,isSortable:p,label:v,Label:g,localized:b,onChange:x,onInputChange:y,options:w,path:j,placeholder:C,readOnly:S,required:_,showError:k,style:N,value:E}=e,D=void 0!==c&&c,P=void 0===u||u,T=void 0===p||p,{i18n:R}=(0,d.d)(),O;if(t[0]!==n||t[1]!==a||t[2]!==o||t[3]!==i||t[4]!==g||t[5]!==l||t[6]!==r||t[7]!==s||t[8]!==D||t[9]!==R||t[10]!==P||t[11]!==T||t[12]!==v||t[13]!==b||t[14]!==x||t[15]!==y||t[16]!==w||t[17]!==j||t[18]!==C||t[19]!==S||t[20]!==_||t[21]!==k||t[22]!==N||t[23]!==E){let e,c;if(D&&Array.isArray(E)){let n;t[25]!==R||t[26]!==w?(n=e=>{var t;let n=w.find(t=>t.value===e);return{label:n?(0,m.i)(n.label,R):e,value:null!==(t=null==n?void 0:n.value)&&void 0!==t?t:e}},t[25]=R,t[26]=w,t[27]=n):n=t[27],e=E.map(n)}else if(E){var L;let n,a;if(t[28]!==R||t[29]!==w||t[30]!==E){let e;t[33]!==E?(e=e=>e.value===E,t[33]=E,t[34]=e):e=t[34],a=(n=w.find(e))?(0,m.i)(n.label,R):E,t[28]=R,t[29]=w,t[30]=E,t[31]=n,t[32]=a}else n=t[31],a=t[32];e={label:a,value:null!==(L=null==n?void 0:n.value)&&void 0!==L?L:E}}else e=null;let u=k&&"error",d=S&&"read-only",p;t[35]!==l||t[36]!==u||t[37]!==d?(p=[l1,"select",l,u,d].filter(Boolean),t[35]=l,t[36]=u,t[37]=d,t[38]=p):p=t[38],t[39]!==R?(c=e=>({...e,label:(0,m.i)(e.label,R)}),t[39]=R,t[40]=c):c=t[40],O=(0,f.jsxs)("div",{className:p.join(" "),id:"field-".concat(j.replace(/\./g,"__")),style:N,children:[(0,f.jsx)(ef,{CustomComponent:g,Fallback:(0,f.jsx)(aV,{label:v,localized:b,path:j,required:_})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:i,Fallback:(0,f.jsx)(ns,{path:j,showError:k})}),a,(0,f.jsx)(ce,{disabled:S,filterOption:s,isClearable:P,isMulti:D,isSortable:T,onChange:x,onInputChange:y,options:w.map(c),placeholder:C,showError:k,value:e}),n]}),(0,f.jsx)(ef,{CustomComponent:o,Fallback:(0,f.jsx)(ni,{description:r,path:j})})]}),t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=g,t[5]=l,t[6]=r,t[7]=s,t[8]=D,t[9]=R,t[10]=P,t[11]=T,t[12]=v,t[13]=b,t[14]=x,t[15]=y,t[16]=w,t[17]=j,t[18]=C,t[19]=S,t[20]=_,t[21]=k,t[22]=N,t[23]=E,t[24]=O}else O=t[24];return O},dc=e=>e.map(e=>"object"==typeof e&&(e.value||""===e.value)?e:{label:e,value:e}),du=lJ(e=>{let{field:t,field:{name:n,admin:{className:a,description:l,isClearable:o=!0,isSortable:r=!0,placeholder:i}={},hasMany:c=!1,label:u,localized:d,options:p=[],required:h},onChange:m,path:v,readOnly:g,validate:b}=e,x=s.useMemo(()=>dc(p),[p]),{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,path:k,selectFilterOptions:N,setValue:E,showError:D,value:P}=lX({potentiallyStalePath:v,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof b)return b(e,{...t,hasMany:c,options:x,required:h})},[b,h,c,x])}),T=(0,s.useCallback)(e=>{if(!g||_){let t=null;e&&c?t=Array.isArray(e)?e.map(e=>e.value):[]:e&&!Array.isArray(e)&&(t=e.value),"function"==typeof m&&m(t),E(t)}},[g,_,c,E,m]),R=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsx)(ds,{AfterInput:y,BeforeInput:w,className:a,Description:j,description:l,Error:C,filterOption:N?e=>{let{value:t}=e;return null==N?void 0:N.some(e=>("string"==typeof e?e:e.value)===t)}:void 0,hasMany:c,isClearable:o,isSortable:r,Label:S,label:u,localized:d,name:n,onChange:T,options:x,path:k,placeholder:i,readOnly:g||_,required:h,showError:D,style:R,value:P})}),dd=(0,p.e)(es(),1);function dp(e){let t=(0,h.c)(5),{errorMessage:n}=e,a;t[0]!==n?(a=()=>(function(e){let[t,n]=e.split(":");if(!n)return{message:t};let a=n.split(",").map(e=>e.replaceAll(" > "," → ").trim());return 1===a.length?{errors:a,message:"".concat(t,":")}:{errors:function(e){let t=[];for(let n of e)if(n){let e=n.split(" → "),a=!1;for(let l=0;l<t.length;l++)if(t[l].startsWith(e[0])){t.splice(l+1,0,n),a=!0;break}a||t.push(n)}return t}(a),message:"".concat(t," (").concat(a.length,"):")}})(n),t[0]=n,t[1]=a):a=t[1];let[l]=s.useState(a),{errors:o,message:r}=l,i;return t[2]!==o||t[3]!==r?(i=(0,f.jsxs)("div",{children:[r,Array.isArray(o)&&o.length>0?(0,f.jsx)("ul",{"data-testid":"field-errors",children:o.map(df)}):null]}),t[2]=o,t[3]=r,t[4]=i):i=t[4],i}function df(e,t){return(0,f.jsx)("li",{children:e},t)}function dh(e,t,n){let a,l,o,r=(0,h.c)(11),i;r[0]!==e?(i=()=>e,r[0]=e,r[1]=i):i=r[1];let[c,u]=(0,s.useState)(i),d;r[2]!==n||r[3]!==e?(d=()=>{let t=setTimeout(()=>{u(()=>e)},n);return()=>{clearTimeout(t)}},r[2]=n,r[3]=e,r[4]=d):d=r[4],r[5]!==n||r[6]!==t?(a=[...t,n],r[5]=n,r[6]=t,r[7]=a):a=r[7],(0,s.useEffect)(d,a),r[8]!==c?(l=()=>{c()},o=[c],r[8]=c,r[9]=l,r[10]=o):(l=r[9],o=r[10]),(0,s.useEffect)(l,o)}var dm=s.createContext(null),dv=e=>{let t=(0,h.c)(6),{children:n}=e,[a,l]=(0,s.useState)(db),o;t[0]!==a?(o=e=>{let{collectionSlug:t}=e;return a.get(t)},t[0]=a,t[1]=o):o=t[1];let r=o,i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=e=>{let{collectionSlug:t,handler:n}=e;l(e=>{let a=new Map(e);return a.set(t,n),a})},t[2]=i):i=t[2];let c=i,u;return t[3]!==n||t[4]!==r?(u=(0,f.jsx)(dm,{value:{getUploadHandler:r,setUploadHandler:c},children:n}),t[3]=n,t[4]=r,t[5]=u):u=t[5],u},dg=()=>{let e=s.use(dm);if(null===e)throw Error("useUploadHandlers must be used within UploadHandlersProvider");return e};function db(){return new Map}var dx={413:"Your request was too large to submit successfully."},dy=(0,p.e)(ei(),1),dw=e=>{var t;let{acceptValues:n,currentState:a={},incomingState:l}=e,o={...a};for(let[e,r]of Object.entries(l||{}))(e in a||r.addedByServer)&&(n||r.addedByServer||(delete r.value,delete r.initialValue),o[e]={...a[e],...r},Array.isArray(r.rows)&&e in a&&(o[e].rows=[...(null===(t=a[e])||void 0===t?void 0:t.rows)||[]],r.rows.forEach(t=>{var n;let l=null===(n=a[e].rows)||void 0===n?void 0:n.findIndex(e=>e.id===t.id);l>-1&&(o[e].rows[l]={...a[e].rows[l],...t})})),!1!==r.valid&&(o[e].valid=!0),!1!==r.passesCondition&&(o[e].passesCondition=!0),delete o[e].addedByServer);return(0,j.J)(o,a)?a:o},dj=(e,t)=>{let n={},a=Object.entries(t).reduce((t,a)=>{let[l,o]=a;if(0===l.indexOf("".concat(e,"."))){let[n]=l.replace("".concat(e,"."),"").split(".");t[n]||(t[n]={}),t[n][l.replace("".concat(e,".").concat(String(n),"."),"")]={...o}}else n[l]=o;return t},[]);return{remainingFields:n,rows:a}},dC=(e,t)=>t.reduce((t,n,a)=>({...t,...Object.entries(n).reduce((t,n)=>{let[l,o]=n;return{...t,["".concat(e,".").concat(a,".").concat(l)]:{...o}}},{})}),{}),dS=dy.default.default||dy.default;function d_(e,t){var n,a,l,o,r,i,s,c,u;switch(t.type){case"ADD_ROW":{let{blockType:r,path:i,rowIndex:s,subFieldState:c={}}=t,u="number"==typeof s?s:(null===(a=e[i])||void 0===a?void 0:null===(n=a.rows)||void 0===n?void 0:n.length)||0,d=[...(null===(l=e[i])||void 0===l?void 0:l.rows)||[]],p={id:(null==c?void 0:null===(o=c.id)||void 0===o?void 0:o.value)||new dS().toHexString(),isLoading:!0};r&&(p.blockType=r),d.splice(u,0,p),r&&(c.blockType={initialValue:r,valid:!0,value:r});let{remainingFields:f,rows:h}=dj(i,e);return h.splice(u,0,c),{...f,...dC(i,h),["".concat(i,".").concat(u,".id")]:{initialValue:p.id,passesCondition:!0,valid:!0,value:p.id},[i]:{...e[i],disableFormData:!0,rows:d,value:h.length}}}case"ADD_SERVER_ERRORS":{let n={...e},a=[];return t.errors.forEach(e=>{let{message:t,path:l}=e;n[l]={...n[l]||{initialValue:null,value:null},errorMessage:t,valid:!1};let o=l.split(".");o.length>1&&a.push({fieldErrorPath:l,parentPath:o.slice(0,o.length-1).join(".")})}),n=Object.entries(n).reduce((e,t)=>{let[n,l]=t,o=a.reduce((e,t)=>{let{fieldErrorPath:a,parentPath:l}=t;return l.startsWith(n)&&e.push(a),e},[]),r=!1;if(o.length>0){let t=Array.isArray(l.errorPaths)?l.errorPaths:[];o.forEach(e=>{t.includes(e)||(t.push(e),r=!0)}),r&&(e[n]={...l,errorPaths:t})}return r||(e[n]=l),e},{})}case"DUPLICATE_ROW":{let{path:n,rowIndex:a}=t,{remainingFields:l,rows:o}=dj(n,e),s=[...e[n].rows||[]],c=(0,I.Kz)(s[a]);c.id&&(c.id=new dS().toHexString()),(null===(i=s[a])||void 0===i?void 0:null===(r=i.customComponents)||void 0===r?void 0:r.RowLabel)&&(c.customComponents={RowLabel:s[a].customComponents.RowLabel});let u=(0,I.Kz)(o[a]);for(let e of(u.id&&(u.id.value=new dS().toHexString(),u.id.initialValue=new dS().toHexString()),Object.keys(u).filter(e=>e.endsWith(".id")))){let t=u[e];t&&"string"==typeof t.value&&dS.isValid(t.value)&&(u[e].value=new dS().toHexString(),u[e].initialValue=new dS().toHexString())}return Object.keys(u).length>0&&(o.splice(a+1,0,u),s.splice(a+1,0,c)),{...l,...dC(n,o),[n]:{...e[n],disableFormData:!0,rows:s,value:o.length}}}case"MERGE_SERVER_STATE":{let{acceptValues:n,prevStateRef:a,serverState:l}=t,o=dw({acceptValues:n,currentState:e||{},incomingState:l});return a.current=o,o}case"MOVE_ROW":{let{moveFromIndex:n,moveToIndex:a,path:l}=t,{remainingFields:o,rows:r}=dj(l,e),i=r[n];r.splice(n,1),r.splice(a,0,i);let c=[...(null===(s=e[l])||void 0===s?void 0:s.rows)||[]],u={...c[n]};return c.splice(n,1),c.splice(a,0,u),{...o,...dC(l,r),[l]:{...e[l],rows:c}}}case"REMOVE":{let n={...e};return n[t.path]&&delete n[t.path],n}case"REMOVE_ROW":{let{path:n,rowIndex:a}=t,{remainingFields:l,rows:o}=dj(n,e),r=[...(null===(c=e[n])||void 0===c?void 0:c.rows)||[]];return o.splice(a,1),r.splice(a,1),{...l,[n]:{...e[n],disableFormData:o.length>0,rows:r,value:o.length},...dC(n,o)}}case"REPLACE_ROW":{let{blockType:n,path:a,rowIndex:l,subFieldState:o={}}=t,{remainingFields:r,rows:i}=dj(a,e),s=Math.max(0,Math.min(l,(null==i?void 0:i.length)-1||0)),c=[...(null===(u=e[a])||void 0===u?void 0:u.rows)||[]];return c[s]={id:new dS().toHexString(),blockType:n||void 0,collapsed:!1},n&&(o.blockType={initialValue:n,valid:!0,value:n}),i[s]=o,{...r,...dC(a,i),[a]:{...e[a],disableFormData:!0,rows:c,value:i.length}}}case"REPLACE_STATE":if(!1!==t.optimize){let n={};for(let[a,l]of Object.entries(t.state)){let t=e[a];!1!==l.valid&&(l.valid=!0),!1!==l.passesCondition&&(l.passesCondition=!0),(0,j.J)(t,l)?t&&(n[a]=t):n[a]=l}return n}if(t.sanitize)for(let e of Object.values(t.state))!1!==e.valid&&(e.valid=!0),!1!==e.passesCondition&&(e.passesCondition=!0);return t.state;case"SET_ALL_ROWS_COLLAPSED":{let{path:n,updatedRows:a}=t;return{...e,[n]:{...e[n],rows:a}}}case"SET_ROW_COLLAPSED":{let{path:n,updatedRows:a}=t;return{...e,[n]:{...e[n],rows:a}}}case"UPDATE":{let n=Object.entries(t).reduce((e,t)=>{let[n,a]=t;return["disableFormData","errorMessage","initialValue","rows","valid","validate","value"].includes(n)?{...e,[n]:a}:e},(null==e?void 0:e[t.path])||{});return{...e,[t.path]:n}}case"UPDATE_MANY":{let n={...e};return Object.entries(t.formState).forEach(e=>{let[t,a]=e;n[t]=a}),n}default:return e}}var dk={addFieldRow:()=>{},buildRowErrors:()=>{},createFormData:()=>{},disabled:!1,dispatchFields:()=>{},fields:{},formRef:null,getData:()=>{},getDataByPath:()=>{},getField:()=>{},getFields:()=>({}),getSiblingData:()=>{},initializing:void 0,isValid:!0,moveFieldRow:()=>{},removeFieldRow:()=>{},replaceFieldRow:()=>{},replaceState:()=>{},reset:()=>{},setBackgroundProcessing:()=>{},setDisabled:()=>{},setIsValid:()=>{},setModified:()=>{},setProcessing:()=>{},setSubmitted:()=>{},submit:()=>{},validateForm:()=>{}},dN=e=>{let{id:t,collectionSlug:n,docConfig:a,docPermissions:l,getDocPreferences:o,globalSlug:r}=lV(),{action:i,beforeSubmit:c,children:p,className:h,disabled:m,disableSuccessStatus:v,disableValidationOnSubmit:b,el:x,handleResponse:y,initialState:w,isDocumentForm:C,isInitializing:S,onChange:_,onSubmit:k,onSuccess:N,redirect:E,submitted:D,uuid:P,waitForAutocomplete:T}=e,R="method"in e?null==e?void 0:e.method:void 0,O=(0,g.useRouter)(),L=eT(),{code:z}=aB(),{i18n:U,t:V}=(0,d.d)(),{refreshCookie:H,user:q}=aD(),W=lY(),{queueTask:K}=u$(),{getFormState:Y}=cE(),{startRouteTransition:G}=te(),{getUploadHandler:$}=dg(),{config:X}=(0,u.b)(),[Q,Z]=(0,s.useState)(m||!1),[J,ee]=(0,s.useState)(!1),[et,en]=(0,s.useState)(!1),[ea,el]=(0,s.useState)(!0),[eo,er]=(0,s.useState)(S),[ei,es]=(0,s.useState)(!1),[ec,eu]=(0,s.useState)(!1),[ed,ep]=(0,s.useState)(!1),ef=(0,s.useRef)(null),eh=(0,s.useRef)({}),em=(0,s.useRef)(null),ev=(0,s.useRef)(!0),eg=(0,s.useReducer)(d_,{},()=>w),[eb,ex]=eg;eh.current.fields=eb;let ey=(0,s.useRef)(eb),eP=(0,s.useCallback)(async()=>{let e={},a=!0,l=eh.current.getData(),o=Object.entries(eh.current.fields).map(async o=>{let[r,i]=o,s=r?r.split("."):[];if(!1!==i.passesCondition){let e=i.valid;if("validate"in i&&"function"==typeof i.validate){let a=i.value;(null==i?void 0:i.rows)&&Array.isArray(i.rows)&&(a=eh.current.getDataByPath(r)),"string"==typeof(e=await i.validate(a,{...i,id:t,collectionSlug:n,blockData:void 0,data:(null==L?void 0:L.getData)?L.getData():l,event:"submit",operation:W,path:s,preferences:{},req:{payload:{config:X},t:V,user:q},siblingData:eh.current.getSiblingData(r)}))?(i.errorMessage=e,i.valid=!1):(i.valid=!0,i.errorMessage=void 0)}!1===i.valid&&(a=!1)}e[r]=i});return await Promise.all(o),(0,j.J)(eh.current.fields,e)||ex({type:"REPLACE_STATE",state:e}),el(a),a},[n,X,ex,t,W,V,q,L]),eR=(0,s.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,{action:n=i,method:a=R,overrides:l={},skipValidation:o}=e;if(Q){t&&t.preventDefault();return}let r,s,u=new Promise((e,t)=>{s=e,r=t}),d=n||"string"==typeof i||"function"==typeof i;if(E||v||!d?(s=e=>e3.success(e),r=e=>e3.error(e)):e3.promise(u,{error:e=>e,loading:V("general:submitting"),success:e=>e}),t&&(t.stopPropagation(),t.preventDefault()),es(!0),Z(!0),T&&await (0,F.D)(100),Array.isArray(c)){let e,t=(0,I.Kz)(eh.current.fields);await c.reduce(async(n,a)=>{await n,e=await a({formState:t})},Promise.resolve());let n=Object.entries(e).every(e=>{let[,t]=e;return!1!==t.valid});if(el(n),!n)return es(!1),ep(!0),Z(!1),ex({type:"REPLACE_STATE",state:e})}let p=!!o||!!b||await eh.current.validateForm();if(el(p),!p){r(V("error:correctInvalidFields")),es(!1),ep(!0),Z(!1);return}let h={};if("function"==typeof l?h=l(eh.current.fields):"object"==typeof l&&(h=l),k){let e=(0,I.Kz)(eh.current.fields),t=(0,A.Q)(e,!0);for(let[e,n]of Object.entries(h))t[e]=n;k(e,t)}if(!d){es(!1),ep(!0),Z(!1);return}let m=await eh.current.createFormData(h,{mergeOverrideData:"function"!=typeof l});try{let e;if("string"==typeof n?e=await ak[a.toLowerCase()](n,{body:m,headers:{"Accept-Language":U.language}}):"function"==typeof i&&(e=await i(m)),en(!1),Z(!1),"function"==typeof y){y(e,s,r);return}let t=e.headers.get("content-type"),l=t&&-1!==t.indexOf("application/json"),o={};if(l&&(o=await e.json()),e.status<400){if("function"==typeof N){let e=await N(o);e&&ex({type:"MERGE_SERVER_STATE",acceptValues:!0,prevStateRef:ey,serverState:e})}ep(!1),es(!1),E?G(()=>O.push(E)):v||s(o.message||V("general:submissionSuccessful"))}else{if(es(!1),ep(!0),eh.current={...eh.current},o.message){r(o.message);return}if(Array.isArray(o.errors)){let[e,t]=o.errors.reduce((e,t)=>{var n,a;let[l,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.errors)&&(null===(a=t.data)||void 0===a||a.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...l,...r],[...o,...i]]},[[],[]]);el(!1),ex({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{r((0,f.jsx)(dp,{errorMessage:e.message||V("error:unknown")}))});return}let t=(null==dx?void 0:dx[e.status])||(null==e?void 0:e.statusText)||V("error:unknown");r(t)}}catch(e){console.error("Error submitting form",e),es(!1),ep(!0),Z(!1),r(e.message)}},[c,G,i,v,b,Q,ex,y,R,k,N,E,O,V,U,T]),eO=(0,s.useCallback)(()=>eh.current.fields,[]),eL=(0,s.useCallback)(e=>eh.current.fields[e],[]),eF=(0,s.useCallback)(()=>(0,A.Q)(eh.current.fields,!0),[]),eI=(0,s.useCallback)(e=>(0,M.j)(eh.current.fields,e),[]),eA=(0,s.useCallback)(e=>(0,B.B)(eh.current.fields,e),[]),eM=(0,s.useCallback)(async(e,t)=>{let{mergeOverrideData:l=!0}=t,o=(0,A.Q)(eh.current.fields,!0),r=null==o?void 0:o.file;if(a&&"upload"in a&&a.upload&&r){delete o.file;let e=$({collectionSlug:n});if("function"==typeof e){let t=r.name;r=JSON.stringify({clientUploadContext:await e({file:r,updateFilename:e=>{t=e}}),collectionSlug:n,filename:t,mimeType:r.type,size:r.size})}}let i={_payload:JSON.stringify(o=l?{...o,...e}:e)};return a&&"upload"in a&&a.upload&&r&&(i.file=r),(0,dd.serialize)(i,{indices:!0,nullsAsUndefineds:!1})},[n,a,$]),eB=(0,s.useCallback)(async e=>{let a=cG(em),i=await o(),{state:s}=await Y({id:t,collectionSlug:n,data:e,docPermissions:l,docPreferences:i,globalSlug:r,locale:z,operation:W,renderAllFields:!0,schemaPath:n||r,signal:a.signal,skipValidation:!0});eh.current={...dk},en(!1),ex({type:"REPLACE_STATE",state:s}),em.current=null},[n,ex,r,t,W,Y,l,o,z]),ez=(0,s.useCallback)(e=>{eh.current={...dk},en(!1),ex({type:"REPLACE_STATE",state:e})},[ex]),eU=(0,s.useCallback)(e=>{let{blockType:t,path:n,rowIndex:a,subFieldState:l}=e,o=eA(n)||[];ex({type:"ADD_ROW",blockType:t,path:n,rowIndex:void 0===a?o.length:a,subFieldState:l}),en(!0)},[ex,eA]),eV=(0,s.useCallback)(e=>{let{moveFromIndex:t,moveToIndex:n,path:a}=e;ex({type:"MOVE_ROW",moveFromIndex:t,moveToIndex:n,path:a}),en(!0)},[ex]),eH=(0,s.useCallback)(e=>{let{path:t,rowIndex:n}=e;ex({type:"REMOVE_ROW",path:t,rowIndex:n}),en(!0)},[ex]),eq=(0,s.useCallback)(e=>{let{blockType:t,path:n,rowIndex:a,subFieldState:l}=e,o=eA(n);ex({type:"REPLACE_ROW",blockType:t,path:n,rowIndex:void 0===a?o.length:a,subFieldState:l}),en(!0)},[ex,eA]);(0,s.useEffect)(()=>{let e=em.current;return()=>{cY(e)}},[]),(0,s.useEffect)(()=>{void 0!==S&&er(S)},[S]),eh.current.submit=eR,eh.current.getFields=eO,eh.current.getField=eL,eh.current.getData=eF,eh.current.getSiblingData=eI,eh.current.getDataByPath=eA,eh.current.validateForm=eP,eh.current.createFormData=eM,eh.current.setModified=en,eh.current.setProcessing=es,eh.current.setBackgroundProcessing=eu,eh.current.setSubmitted=ep,eh.current.setIsValid=el,eh.current.disabled=Q,eh.current.setDisabled=Z,eh.current.formRef=ef,eh.current.reset=eB,eh.current.replaceState=ez,eh.current.dispatchFields=ex,eh.current.addFieldRow=eU,eh.current.removeFieldRow=eH,eh.current.moveFieldRow=eV,eh.current.replaceFieldRow=eq,eh.current.uuid=P,eh.current.initializing=eo,eh.current.isValid=ea,(0,s.useEffect)(()=>{ee(!0)},[]),(0,s.useEffect)(()=>{"boolean"==typeof m&&Z(m)},[m]),(0,s.useEffect)(()=>{"boolean"==typeof D&&ep(D)},[D]),(0,s.useEffect)(()=>{w&&(eh.current={...dk},ex({type:"REPLACE_STATE",optimize:!1,sanitize:!0,state:w}))},[w,ex]),aW(()=>{H()},15e3,[eb]),(0,s.useEffect)(()=>{eh.current={...eh.current},en(!1)},[z]);let eW=[h,"form"].filter(Boolean).join(" "),eK=a_(e=>{K(async()=>{if(Array.isArray(_)){let t;for(let n of _)t=await n({formState:(0,I.Kz)(eb),submitted:e});ex({type:"MERGE_SERVER_STATE",prevStateRef:ey,serverState:t})}})});dh(()=>{(ev.current||!(0,j.J)(eb,ey.current))&&et&&eK(ed),ey.current=eb,ev.current=!1},[et,ed,eb],250);let eY=C?ej:s.Fragment,eG=C?{value:eh.current}:{};return(0,f.jsx)(x||"form",{action:"function"==typeof i?void 0:i,className:eW,method:R,noValidate:!0,onSubmit:e=>void eh.current.submit({},e),ref:ef,children:(0,f.jsx)(eY,{...eG,children:(0,f.jsx)(ew,{value:eh.current,children:(0,f.jsx)(eC,{value:{fields:eb,...eh.current},children:(0,f.jsx)(eS,{value:ed,children:(0,f.jsx)(eE,{value:!J||J&&eo,children:(0,f.jsx)(e_,{value:ei,children:(0,f.jsx)(ek,{value:ec,children:(0,f.jsx)(eN,{value:et,children:(0,f.jsx)(eD.Provider,{value:eg,children:p})})})})})})})})})})},dE="tabs-field__tab-button",dD=e=>{let t=(0,h.c)(15),{hidden:n,isActive:a,parentPath:l,setIsActive:o,tab:r}=e,{i18n:i}=(0,d.d)(),[c,u]=(0,s.useState)(void 0),p;if(t[0]!==c||t[1]!==n||t[2]!==i||t[3]!==a||t[4]!==l||t[5]!==o||t[6]!==r){let e,d=[...l?l.split(".").slice(0,-1):[],...(0,b.JC)(r)?[r.name]:[]],h=c>0,v=(0,f.jsx)(oq,{fields:r.fields,path:d,setErrorCount:u}),g=h&&"".concat(dE,"--has-error"),x=a&&"".concat(dE,"--active"),y=n&&"".concat(dE,"--hidden"),w;t[8]!==g||t[9]!==x||t[10]!==y?(w=[dE,g,x,y].filter(Boolean),t[8]=g,t[9]=x,t[10]=y,t[11]=w):w=t[11],t[12]!==i||t[13]!==r?(e=r.label?(0,m.i)(r.label,i):(0,b.JC)(r)?r.name:"",t[12]=i,t[13]=r,t[14]=e):e=t[14],p=(0,f.jsxs)(s.Fragment,{children:[v,(0,f.jsxs)("button",{className:w.join(" "),onClick:o,type:"button",children:[e,h&&(0,f.jsx)(no,{count:c,i18n:i})]})]}),t[0]=c,t[1]=n,t[2]=i,t[3]=a,t[4]=l,t[5]=o,t[6]=r,t[7]=p}else p=t[7];return p},dP="tabs-field";function dT(e){let{activeTabConfig:t,path:n}=e,a=n;return(0,b.JC)(t)&&t.name&&(a=n?"".concat(n,".").concat(t.name):t.name),a}var dR=lJ(e=>{var t,n;let a,l;let o=(0,h.c)(89),{field:r,forceRender:i,indexPath:c,parentPath:u,parentSchemaPath:p,path:m,permissions:v,readOnly:g}=e,{admin:x,tabs:y}=r,w;o[0]!==x?(w=void 0===x?{}:x,o[0]=x,o[1]=w):w=o[1];let{className:j}=w,C;o[2]!==y?(C=void 0===y?[]:y,o[2]=y,o[3]=C):C=o[3];let S=C,_=void 0!==i&&i,k=void 0===c?"":c,N=void 0===u?"":u,E=void 0===p?"":p,D=void 0===m?"":m,{getPreference:P,setPreference:T}=aO(),{preferencesKey:R}=lV(),{i18n:O}=(0,d.d)(),{isWithinCollapsible:L}=os(),F;o[4]!==S?(F=e=>{let[t]=e;return S.map((e,n)=>{var a,l;let o=null==e?void 0:e.id;return{index:n,passesCondition:null===(l=null==t?void 0:null===(a=t[o])||void 0===a?void 0:a.passesCondition)||void 0===l||l,tab:e}})},o[4]=S,o[5]=F):F=o[5];let I=eM(F),A;o[6]!==I?(A=()=>{var e,t,n;return null!==(n=null===(t=I.filter(dL))||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.index)&&void 0!==n?n:0},o[6]=I,o[7]=A):A=o[7];let[M,B]=(0,s.useState)(A),z="tabs-".concat(k),U;o[8]!==M||o[9]!==N||o[10]!==S?(U=()=>dT({activeTabConfig:S[M],path:N}),o[8]=M,o[9]=N,o[10]=S,o[11]=U):U=o[11];let[V,H]=(0,s.useState)(U),q;o[12]!==E||o[13]!==S[0]?(q=()=>dT({activeTabConfig:S[0],path:E}),o[12]=E,o[13]=S[0],o[14]=q):q=o[14];let[W,K]=(0,s.useState)(q),Y;o[15]!==M||o[16]!==V||o[17]!==N||o[18]!==S?(Y=(0,b.JC)(S[M])?V:N,o[15]=M,o[16]=V,o[17]=N,o[18]=S,o[19]=Y):Y=o[19];let G=Y,$=I[M],X=null==$?void 0:$.tab,Q;o[20]!==M||o[21]!==W||o[22]!==E||o[23]!==S?(Q=(0,b.JC)(S[M])?W:E,o[20]=M,o[21]=W,o[22]=E,o[23]=S,o[24]=Q):Q=o[24];let Z=Q,J=null!==(n=null===(t=X.admin)||void 0===t?void 0:t.description)&&void 0!==n?n:X.description,ee;o[25]!==J||o[26]!==O?(ee="function"==typeof J?J({i18n:O,t:O.t}):J,o[25]=J,o[26]=O,o[27]=ee):ee=o[27];let et=ee,en=I.some(dF),ea;o[28]!==P||o[29]!==N||o[30]!==E||o[31]!==D||o[32]!==R||o[33]!==T||o[34]!==S||o[35]!==z?(ea=async e=>{var t,n;B(e),H(dT({activeTabConfig:S[e],path:N})),K(dT({activeTabConfig:S[e],path:E}));let a=await P(R);R&&T(R,{...a,...D?{fields:{...(null==a?void 0:a.fields)||{},[D]:{...null==a?void 0:null===(t=a.fields)||void 0===t?void 0:t[D],tabIndex:e}}}:{fields:{...null==a?void 0:a.fields,[z]:{...null==a?void 0:null===(n=a.fields)||void 0===n?void 0:n[z],tabIndex:e}}}})},o[28]=P,o[29]=N,o[30]=E,o[31]=D,o[32]=R,o[33]=T,o[34]=S,o[35]=z,o[36]=ea):ea=o[36];let el=ea,eo,er;o[37]!==P||o[38]!==N||o[39]!==E||o[40]!==D||o[41]!==R||o[42]!==S||o[43]!==z?(eo=()=>{R&&(async()=>{var e,t,n,a;let l=await P(R),o=(D?null==l?void 0:null===(t=l.fields)||void 0===t?void 0:null===(e=t[D])||void 0===e?void 0:e.tabIndex:null==l?void 0:null===(a=l.fields)||void 0===a?void 0:null===(n=a[z])||void 0===n?void 0:n.tabIndex)||0;B(o),H(dT({activeTabConfig:S[o],path:N})),K(dT({activeTabConfig:S[o],path:E}))})()},er=[D,P,R,z,S,N,E],o[37]=P,o[38]=N,o[39]=E,o[40]=D,o[41]=R,o[42]=S,o[43]=z,o[44]=eo,o[45]=er):(eo=o[44],er=o[45]),(0,s.useEffect)(eo,er),o[46]!==(null==$?void 0:$.passesCondition)||o[47]!==el||o[48]!==I?(a=()=>{if((null==$?void 0:$.passesCondition)===!1){let e=I.find(dI);e&&el(e.index)}},o[46]=null==$?void 0:$.passesCondition,o[47]=el,o[48]=I,o[49]=a):a=o[49],o[50]!==$||o[51]!==el||o[52]!==I?(l=[$,I,el],o[50]=$,o[51]=el,o[52]=I,o[53]=l):l=o[53],(0,s.useEffect)(a,l);let ei=L&&"".concat(dP,"--within-collapsible"),es=!en&&"".concat(dP,"--hidden"),ec;o[54]!==j||o[55]!==ei||o[56]!==es?(ec=[l1,j,dP,ei,es].filter(Boolean),o[54]=j,o[55]=ei,o[56]=es,o[57]=ec):ec=o[57];let eu=ec.join(" "),ed;if(o[58]!==G||o[59]!==Z||o[60]!==X||o[61]!==M||o[62]!==$||o[63]!==V||o[64]!==et||o[65]!==_||o[66]!==el||o[67]!==k||o[68]!==D||o[69]!==v||o[70]!==g||o[71]!==eu||o[72]!==I){let e,t;o[74]!==M||o[75]!==el||o[76]!==D?(e=e=>{let{index:t,passesCondition:n,tab:a}=e;return(0,f.jsx)(dD,{hidden:!n,isActive:M===t,parentPath:D,setIsActive:()=>{el(t)},tab:a},t)},o[74]=M,o[75]=el,o[76]=D,o[77]=e):e=o[77],o[78]!==G||o[79]!==Z||o[80]!==X||o[81]!==$||o[82]!==V||o[83]!==et||o[84]!==_||o[85]!==k||o[86]!==v||o[87]!==g?(t=X&&(0,f.jsx)(dO,{description:et,fields:X.fields,forceRender:_,hidden:!1,parentIndexPath:(0,b.JC)(X)?"":"".concat(k?k+"-":"")+String($.index),parentPath:G,parentSchemaPath:Z,path:V,permissions:v&&"object"==typeof v&&"name"in X?v[X.name]&&"object"==typeof v[X.name]&&"fields"in v[X.name]?v[X.name].fields:v[X.name]:v,readOnly:g}),o[78]=G,o[79]=Z,o[80]=X,o[81]=$,o[82]=V,o[83]=et,o[84]=_,o[85]=k,o[86]=v,o[87]=g,o[88]=t):t=o[88],ed=(0,f.jsx)("div",{className:eu,children:(0,f.jsxs)(cu,{children:[(0,f.jsx)("div",{className:"".concat(dP,"__tabs-wrap"),children:(0,f.jsx)("div",{className:"".concat(dP,"__tabs"),children:I.map(e)})}),(0,f.jsx)("div",{className:"".concat(dP,"__content-wrap"),children:t})]})}),o[58]=G,o[59]=Z,o[60]=X,o[61]=M,o[62]=$,o[63]=V,o[64]=et,o[65]=_,o[66]=el,o[67]=k,o[68]=D,o[69]=v,o[70]=g,o[71]=eu,o[72]=I,o[73]=ed}else ed=o[73];return ed});function dO(e){let t=(0,h.c)(19),{description:n,fields:a,forceRender:l,hidden:o,label:r,parentIndexPath:i,parentPath:s,parentSchemaPath:c,permissions:u,readOnly:p}=e,{i18n:v}=(0,d.d)(),{customComponents:g,path:b}=lX(),x;t[0]!==g?(x=void 0===g?{}:g,t[0]=g,t[1]=x):x=t[1];let{AfterInput:y,BeforeInput:w,Description:j,Field:C}=x;if(C)return C;let S=o&&"".concat(dP,"__tab--hidden"),_=r&&"".concat(dP,"__tabConfigLabel-").concat((0,L.m)((0,m.i)(r,v))),k;t[2]!==S||t[3]!==_?(k=[S,"".concat(dP,"__tab"),_].filter(Boolean),t[2]=S,t[3]=_,t[4]=k):k=t[4];let N=k.join(" "),E;return t[5]!==y||t[6]!==w||t[7]!==j||t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==i||t[12]!==s||t[13]!==c||t[14]!==b||t[15]!==u||t[16]!==p||t[17]!==N?(E=(0,f.jsxs)("div",{className:N,children:[(0,f.jsx)(ef,{CustomComponent:j,Fallback:(0,f.jsx)(ni,{description:n,marginPlacement:"bottom",path:b})}),w,(0,f.jsx)(f1,{fields:a,forceRender:l,parentIndexPath:i,parentPath:s,parentSchemaPath:c,permissions:u,readOnly:p}),y]}),t[5]=y,t[6]=w,t[7]=j,t[8]=n,t[9]=a,t[10]=l,t[11]=i,t[12]=s,t[13]=c,t[14]=b,t[15]=u,t[16]=p,t[17]=N,t[18]=E):E=t[18],E}function dL(e){let{passesCondition:t}=e;return t}function dF(e){let{passesCondition:t}=e;return t}function dI(e){let{passesCondition:t}=e;return t}var dA=e=>{let t=(0,h.c)(32),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,hasMany:s,htmlAttributes:c,inputRef:u,Label:p,label:v,localized:g,maxRows:b,onChange:x,onKeyDown:y,path:w,placeholder:j,readOnly:C,required:S,rtl:_,showError:k,style:N,value:E,valueToRender:D}=e,{i18n:P,t:T}=(0,d.d)(),R;if(t[0]!==n||t[1]!==a||t[2]!==o||t[3]!==i||t[4]!==p||t[5]!==l||t[6]!==r||t[7]!==s||t[8]!==c||t[9]!==P||t[10]!==u||t[11]!==v||t[12]!==g||t[13]!==b||t[14]!==x||t[15]!==y||t[16]!==w||t[17]!==j||t[18]!==C||t[19]!==S||t[20]!==_||t[21]!==k||t[22]!==N||t[23]!==T||t[24]!==E||t[25]!==D){let e=(0,m.i)(j,P),d=k&&"error",h=C&&"read-only",O=s&&"has-many",L;t[27]!==l||t[28]!==d||t[29]!==h||t[30]!==O?(L=[l1,"text",l,d,h,O].filter(Boolean),t[27]=l,t[28]=d,t[29]=h,t[30]=O,t[31]=L):L=t[31],R=(0,f.jsxs)("div",{className:L.join(" "),style:N,children:[(0,f.jsx)(ef,{CustomComponent:p,Fallback:(0,f.jsx)(aV,{label:v,localized:g,path:w,required:S})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:i,Fallback:(0,f.jsx)(ns,{path:w,showError:k})}),a,s?(0,f.jsx)(ce,{className:"field-".concat(w.replace(/\./g,"__")),components:{DropdownIndicator:null},customProps:{editableProps:dB},disabled:C,filterOption:()=>!b||!(Array.isArray(E)&&b&&E.length>=b),isClearable:!1,isCreatable:!0,isMulti:!0,isSortable:!0,menuIsOpen:!1,noOptionsMessage:()=>Array.isArray(E)&&E.length>=b?T("validation:limitReached",{max:b,value:E.length+1}):null,onChange:x,options:[],placeholder:e,showError:k,value:D}):(0,f.jsx)("input",{"data-rtl":_,disabled:C,id:"field-".concat(null==w?void 0:w.replace(/\./g,"__")),name:w,onChange:x,onKeyDown:y,placeholder:e,ref:u,type:"text",value:E||"",...null!=c?c:{}}),n,(0,f.jsx)(ef,{CustomComponent:o,Fallback:(0,f.jsx)(ni,{description:r,path:w})})]})]}),t[0]=n,t[1]=a,t[2]=o,t[3]=i,t[4]=p,t[5]=l,t[6]=r,t[7]=s,t[8]=c,t[9]=P,t[10]=u,t[11]=v,t[12]=g,t[13]=b,t[14]=x,t[15]=y,t[16]=w,t[17]=j,t[18]=C,t[19]=S,t[20]=_,t[21]=k,t[22]=N,t[23]=T,t[24]=E,t[25]=D,t[26]=R}else R=t[26];return R};function dM(e){e.currentTarget.contentEditable="false"}function dB(e,t,n){let a="".concat(t,"--editable");return{onBlur:dM,onClick:e=>{e.currentTarget.contentEditable="true",e.currentTarget.classList.add(a),e.currentTarget.focus()},onKeyDown:t=>{if("Enter"===t.key||"Tab"===t.key||"Escape"===t.key){if(t.currentTarget.contentEditable="false",t.currentTarget.classList.remove(a),e.value.value=t.currentTarget.innerText,e.label=t.currentTarget.innerText,e.value.value.replaceAll("\n",""))n.onChange(n.value,{action:"create-option",option:e});else if(Array.isArray(n.value)){let t=n.value.filter(t=>t.id!==e.id);n.onChange(t,{action:"pop-value",removedValue:e})}t.preventDefault()}t.stopPropagation()}}}var dz=lJ(e=>{let{field:t,field:{admin:{autoComplete:n,className:a,description:l,placeholder:o,rtl:r}={},hasMany:i,label:c,localized:d,maxLength:p,maxRows:h,minLength:m,minRows:v,required:g},inputRef:b,path:x,readOnly:y,validate:w}=e,j=aB(),{config:{localization:C}}=(0,u.b)(),{customComponents:{AfterInput:S,BeforeInput:_,Description:k,Error:N,Label:E}={},disabled:D,path:P,setValue:T,showError:R,value:O}=lX({potentiallyStalePath:x,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof w)return w(e,{...t,maxLength:p,minLength:m,required:g})},[w,m,p,g])}),L=l3({fieldLocalized:d,fieldRTL:r,locale:j,localizationConfig:C||void 0}),[F,I]=(0,s.useState)([]),A=(0,s.useCallback)(e=>{if(!(y||D)){var t;T(e?Array.isArray(e)?e.map(e=>{var t;return(null===(t=e.value)||void 0===t?void 0:t.value)||e.value}):[(null===(t=e.value)||void 0===t?void 0:t.value)||e.value]:[])}},[y,T,D]);(0,s.useEffect)(()=>{i&&Array.isArray(O)&&I(O.map((e,t)=>({id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}})))},[O,i]);let M=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsx)(dA,{AfterInput:S,BeforeInput:_,className:a,Description:k,description:l,Error:N,hasMany:i,htmlAttributes:{autoComplete:n||void 0},inputRef:b,Label:E,label:c,localized:d,maxRows:h,minRows:v,onChange:i?A:e=>{T(e.target.value)},path:P,placeholder:o,readOnly:y||D,required:g,rtl:L,showError:R,style:M,value:O||"",valueToRender:F})}),dU=e=>{let t=(0,h.c)(26),{AfterInput:n,BeforeInput:a,className:l,Description:o,description:r,Error:i,Label:s,label:c,localized:u,onChange:p,path:v,placeholder:g,readOnly:b,required:x,rows:y,rtl:w,showError:j,style:C,value:S}=e,{i18n:_}=(0,d.d)(),k=j&&"error",N=b&&"read-only",E;t[0]!==l||t[1]!==k||t[2]!==N?(E=[l1,"textarea",l,k,N].filter(Boolean),t[0]=l,t[1]=k,t[2]=N,t[3]=E):E=t[3];let D=E.join(" "),P="field-".concat(v.replace(/\./g,"__")),T;return t[4]!==n||t[5]!==a||t[6]!==o||t[7]!==i||t[8]!==s||t[9]!==r||t[10]!==_||t[11]!==c||t[12]!==u||t[13]!==p||t[14]!==v||t[15]!==g||t[16]!==b||t[17]!==x||t[18]!==y||t[19]!==w||t[20]!==j||t[21]!==C||t[22]!==D||t[23]!==P||t[24]!==S?(T=(0,f.jsxs)("div",{className:D,style:C,children:[(0,f.jsx)(ef,{CustomComponent:s,Fallback:(0,f.jsx)(aV,{htmlFor:P,label:c,localized:u,path:v,required:x})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:i,Fallback:(0,f.jsx)(ns,{path:v,showError:j})}),a,(0,f.jsx)("div",{className:"textarea-outer",children:(0,f.jsx)("textarea",{"data-rtl":w,disabled:b,id:"field-".concat(v.replace(/\./g,"__")),name:v,onChange:p,placeholder:(0,m.i)(g,_),rows:y,style:{"--rows":y},value:S||""})}),n,(0,f.jsx)(ef,{CustomComponent:o,Fallback:(0,f.jsx)(ni,{description:r,path:v})})]})]}),t[4]=n,t[5]=a,t[6]=o,t[7]=i,t[8]=s,t[9]=r,t[10]=_,t[11]=c,t[12]=u,t[13]=p,t[14]=v,t[15]=g,t[16]=b,t[17]=x,t[18]=y,t[19]=w,t[20]=j,t[21]=C,t[22]=D,t[23]=P,t[24]=S,t[25]=T):T=t[25],T},dV=lJ(e=>{let{field:t,field:{admin:{className:n,description:a,placeholder:l,rows:o,rtl:r}={},label:i,localized:c,maxLength:p,minLength:h,required:v},path:g,readOnly:b,validate:x}=e,{i18n:y}=(0,d.d)(),{config:{localization:w}}=(0,u.b)(),j=l3({fieldLocalized:c,fieldRTL:r,locale:aB(),localizationConfig:w||void 0}),{customComponents:{AfterInput:C,BeforeInput:S,Description:_,Error:k,Label:N}={},disabled:E,path:D,setValue:P,showError:T,value:R}=lX({potentiallyStalePath:g,validate:(0,s.useCallback)((e,t)=>{if("function"==typeof x)return x(e,{...t,maxLength:p,minLength:h,required:v})},[x,v,p,h])}),O=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsx)(dU,{AfterInput:C,BeforeInput:S,className:n,Description:_,description:a,Error:k,Label:N,label:i,localized:c,onChange:e=>{P(e.target.value)},path:D,placeholder:(0,m.i)(l,y),readOnly:b||E,required:v,rows:o,rtl:j,showError:T,style:O,value:R})}),dH=()=>null,dq=(0,s.createContext)(void 0),dW=e=>{let t=(0,h.c)(5),{children:n}=e,[a,l]=(0,s.useState)(null),[o,r]=(0,s.useState)(""),[i,c]=(0,s.useState)(null),u;return t[0]!==n||t[1]!==i||t[2]!==a||t[3]!==o?(u=(0,f.jsx)(dq,{value:{setUploadControlFile:c,setUploadControlFileName:l,setUploadControlFileUrl:r,uploadControlFile:i,uploadControlFileName:a,uploadControlFileUrl:o},children:n}),t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=u):u=t[4],u},dK=()=>{let e=(0,s.use)(dq);if(!e)throw Error("useUploadControls must be used within an UploadControlsProvider");return e},dY=e=>{e.preventDefault(),e.stopPropagation()};function dG(e){let{children:t,className:n,disabled:a=!1,dropzoneStyle:l="default",multipleFiles:o,onChange:r}=e,i=s.useRef(null),[c,u]=s.useState(!1),d=s.useCallback(e=>{if(!o&&e.length>1){let t=new DataTransfer;t.items.add(e[0]),r(t.files)}else r(e)},[o,r]),p=s.useCallback(e=>{e.preventDefault(),e.stopPropagation(),e.clipboardData.files&&e.clipboardData.files.length>0&&d(e.clipboardData.files)},[d]),h=s.useCallback(e=>{e.preventDefault(),e.stopPropagation(),u(!0)},[]),m=s.useCallback(e=>{e.preventDefault(),e.stopPropagation(),u(!1)},[]),v=s.useCallback(e=>{e.preventDefault(),e.stopPropagation(),u(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(d(e.dataTransfer.files),u(!1),e.dataTransfer.clearData())},[d]);s.useEffect(()=>{let e=i.current;return e&&!a?(e.addEventListener("dragenter",h),e.addEventListener("dragleave",m),e.addEventListener("dragover",dY),e.addEventListener("drop",v),e.addEventListener("paste",p),()=>{e.removeEventListener("dragenter",h),e.removeEventListener("dragleave",m),e.removeEventListener("dragover",dY),e.removeEventListener("drop",v),e.removeEventListener("paste",p)}):()=>null},[a,h,m,v,p]);let g=["dropzone",n,c?"dragging":"","dropzoneStyle--".concat(l)].filter(Boolean).join(" ");return(0,f.jsx)("div",{className:g,ref:i,children:t})}function d$(e){let t=(0,h.c)(3),{onClick:n}=e,{t:a}=(0,d.d)(),l;return t[0]!==n||t[1]!==a?(l=(0,f.jsx)("button",{"aria-label":a("general:close"),className:"drawer-close-button",onClick:n,type:"button",children:(0,f.jsx)(d.a,{})}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}function dX(e){let{onClose:t,title:n}=e;return(0,f.jsxs)("div",{className:"bulk-upload--drawer-header",children:[(0,f.jsx)("h2",{title:n,children:n}),(0,f.jsx)(d$,{onClick:t})]})}var dQ="bulk-upload--add-files";function dZ(e){let{acceptMimeTypes:t,onCancel:n,onDrop:a}=e,{t:l}=(0,d.d)(),o=s.useRef(null);return(0,f.jsxs)("div",{className:dQ,children:[(0,f.jsx)(dX,{onClose:n,title:l("upload:addFiles")}),(0,f.jsx)("div",{className:"".concat(dQ,"__dropArea"),children:(0,f.jsxs)(dG,{multipleFiles:!0,onChange:a,children:[(0,f.jsx)(tO,{buttonStyle:"subtle",iconPosition:"left",onClick:()=>{o.current&&o.current.click()},size:"small",children:l("upload:selectFile")}),(0,f.jsx)("input",{accept:t,"aria-hidden":"true",className:"".concat(dQ,"__hidden-input"),hidden:!0,multiple:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&a(e.target.files)},ref:o,type:"file"}),(0,f.jsxs)("p",{className:"".concat(dQ,"__dragAndDropText"),children:[l("general:or")," ",l("upload:dragAndDrop")]})]})})]})}var dJ=(0,p.e)(es(),1);async function d0(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,l=(0,A.Q)(e,!0),o=null==l?void 0:l.file;if(o&&delete l.file,o&&"function"==typeof a){let e=o.name;o=JSON.stringify({clientUploadContext:await a({file:o,updateFilename:t=>{e=t}}),collectionSlug:n,filename:e,mimeType:o.type,size:o.size})}let r={_payload:JSON.stringify({...l,...t}),file:o};return(0,dJ.serialize)(r,{indices:!0,nullsAsUndefineds:!1})}function d1(e,t){switch(t.type){case"ADD_FORMS":{let n=[];for(let e=0;e<t.files.length;e++)n[e]={errorCount:0,formID:crypto.randomUUID(),formState:{...t.initialState||{},file:{initialValue:t.files[e],valid:!0,value:t.files[e]}},uploadEdits:{}};return{...e,activeIndex:0,forms:[...n,...e.forms]}}case"REMOVE_FORM":{let n=[...e.forms],[a]=n.splice(t.index,1),l=e.activeIndex>=t.index,o=Math.min(n.length-1,e.activeIndex===t.index?t.index:l?e.activeIndex-1:e.activeIndex);return{...e,activeIndex:l?o:e.activeIndex,forms:n,totalErrorCount:e.totalErrorCount-a.errorCount}}case"REPLACE":return{...e,...t.state};case"SET_ACTIVE_INDEX":return{...e,activeIndex:t.index};case"UPDATE_ERROR_COUNT":{let n=[...e.forms];return n[t.index].errorCount=t.count,{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}case"UPDATE_FORM":{let n=[...e.forms];return n[t.index].errorCount=t.errorCount,n[t.index]={...n[t.index],formState:{...n[t.index].formState,...t.formState},uploadEdits:{...n[t.index].uploadEdits,...t.uploadEdits}},{...e,forms:n,totalErrorCount:e.forms.reduce((e,t)=>e+t.errorCount,0)}}default:return e}}var d3=s.createContext({activeIndex:0,addFiles:()=>Promise.resolve(),bulkUpdateForm:()=>null,collectionSlug:"",docPermissions:void 0,documentSlots:{},forms:[],getFormDataRef:{current:()=>({})},hasPublishPermission:!1,hasSavePermission:!1,hasSubmitted:!1,isInitializing:!1,removeFile:()=>{},saveAllDocs:()=>Promise.resolve(),setActiveIndex:()=>0,setFormTotalErrorCount:()=>{},totalErrorCount:0,updateUploadEdits:()=>{}}),d2={activeIndex:0,forms:[],totalErrorCount:0};function d6(e){let{children:t}=e,{config:n}=(0,u.b)(),{routes:{api:a},serverURL:l}=n,{code:o}=aB(),{i18n:r,t:i}=(0,d.d)(),{getDocumentSlots:c,getFormState:p}=cE(),{getUploadHandler:h}=dg(),[m,v]=s.useState({}),[g,b]=s.useState(!1),[x,y]=s.useState(),[j,C]=s.useState(!1),[S,_]=s.useState(!1),[k,N]=s.useState(!1),[E,D]=s.useState(!1),[P,T]=s.useState(!1),[R,O]=s.useReducer(d1,d2),{activeIndex:L,forms:F,totalErrorCount:I}=R;s.useRef(F).current=F;let{toggleLoadingOverlay:A}=cV(),{closeModal:M}=nT(),{collectionSlug:B,drawerSlug:z,initialFiles:U,onSuccess:V,setInitialFiles:H}=fz(),[q,W]=s.useState(!1),[K,Y]=s.useState(""),G=s.useRef(!1),$=s.useRef(null),X=s.useRef(()=>({})),Q="".concat(a,"/").concat(B),Z=s.useCallback(async()=>{let e={locale:o||void 0},t="/".concat(B,"/access"),n=await (await fetch("".concat(l).concat(a).concat(t,"?").concat(w.P(e)),{credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"post"})).json(),i=await fetch("".concat(l).concat(a).concat(t,"?").concat(w.P(e)),{body:JSON.stringify({_status:"published"}),credentials:"include",headers:{"Accept-Language":r.language,"Content-Type":"application/json"},method:"POST"}).then(e=>e.json());y(n),C(lM({collectionSlug:B,docPermissions:n,isEditing:!1})),_(null==i?void 0:i.update),D(!0)},[a,o,B,r.language,l]),J=s.useCallback(async e=>{(null==e?void 0:e.signal)&&e.abort("aborting previous fetch for initial form state without files"),v(await c({collectionSlug:B}));try{let{state:e}=await p({collectionSlug:B,docPermissions:x,docPreferences:{fields:{}},locale:o,operation:"create",renderAllFields:!0,schemaPath:B,skipValidation:!0});$.current=e,N(!0)}catch(e){}},[c,B,p,x,o]),ee=s.useCallback(e=>{let t=X.current();O({type:"REPLACE",state:{activeIndex:e,forms:F.map((e,n)=>n===L?{errorCount:e.errorCount,formID:e.formID,formState:t,uploadEdits:e.uploadEdits}:e)}})},[F,L]),et=s.useCallback(async e=>{F.length&&O({type:"UPDATE_FORM",errorCount:F[L].errorCount,formState:X.current(),index:L}),A({isLoading:!0,key:"addingDocs"}),k||await J(),O({type:"ADD_FORMS",files:e,initialState:$.current}),A({isLoading:!1,key:"addingDocs"})},[J,k,A,L,F]),en=s.useCallback(e=>{O({type:"REMOVE_FORM",index:e})},[]),ea=s.useCallback(e=>{let{errorCount:t,index:n}=e;O({type:"UPDATE_ERROR_COUNT",count:t,index:n})},[]),el=s.useCallback(async function(){let{overrides:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=X.current(),n=[...F];n[L]={errorCount:n[L].errorCount,formID:n[L].formID,formState:t,uploadEdits:n[L].uploadEdits};let a=[];W(!0);for(let t=0;t<n.length;t++)try{var l;let o=n[t];Y(i("general:uploadingBulk",{current:t+1,total:n.length}));let r="".concat(Q).concat(w.P({uploadEdits:(null==o?void 0:o.uploadEdits)||void 0},{addQueryPrefix:!0})),s=await fetch(r,{body:await d0(o.formState,e,B,h({collectionSlug:B})),method:"POST"}),c=await s.json();201===s.status&&(null==c?void 0:c.doc)&&a.push(c.doc);let[u,d]=((null==c?void 0:c.errors)||[]).reduce((e,t)=>{var n,a;let[l,o]=e,r=[],i=[];return(null==t?void 0:t.message)&&i.push(t),Array.isArray(null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.errors)&&(null===(a=t.data)||void 0===a||a.errors.forEach(e=>{(null==e?void 0:e.path)?r.push(e):i.push(e)})),[[...l,...r],[...o,...i]]},[[],[]]);n[t]={errorCount:u.length,formID:n[t].formID,formState:d_(n[t].formState,{type:"ADD_SERVER_ERRORS",errors:u})},(413===s.status||400===s.status)&&(n[t]={...n[t],errorCount:n[t].errorCount+1},e3.error(null===(l=d[0])||void 0===l?void 0:l.message))}catch(e){}b(!0),Y(""),W(!1);let o=[];n.forEach((e,t)=>{let{errorCount:a}=e;a&&o.push(n[t])});let r=Math.max(0,n.length-o.length),s=n.length-r;r&&(e3.success("Successfully saved ".concat(r," files")),"function"==typeof V&&V(a,s)),s?e3.error("Failed to save ".concat(s," files")):M(z),O({type:"REPLACE",state:{activeIndex:0,forms:o,totalErrorCount:o.reduce((e,t)=>{let{errorCount:n}=t;return e+n},0)}}),0===o.length&&H(void 0)},[H,Q,B,h,i,F,L,M,z,V]),eo=s.useCallback(async(e,t)=>{for(let n=0;n<F.length;n++)if(Object.entries(e).forEach(e=>{let[t,a]=e;F[n].formState[t]&&(F[n].formState[t].value=a,O({type:"UPDATE_FORM",errorCount:F[n].errorCount,formState:F[n].formState,index:n}))}),"function"==typeof t&&t(),g){let{state:e}=await p({collectionSlug:B,docPermissions:x,docPreferences:null,formState:F[n].formState,operation:"create",schemaPath:B});O({type:"UPDATE_FORM",errorCount:Object.values(e).reduce((e,t)=>(null==t?void 0:t.valid)===!1?e+1:e,0),formState:e,index:n})}},[B,x,F,p,g]),er=s.useCallback(e=>{O({type:"UPDATE_FORM",errorCount:F[L].errorCount,formState:F[L].formState,index:L,uploadEdits:e})},[L,F]),ei=s.useCallback(()=>{O({type:"REPLACE",state:{forms:F.map(e=>({...e,uploadEdits:{}}))}})},[F]);return s.useEffect(()=>{B&&(k||J(),E||Z(),U&&T(!k||!E),k&&U&&!G.current&&(et(U),G.current=!0))},[et,U,J,Z,B,k,E]),(0,f.jsxs)(d3,{value:{activeIndex:R.activeIndex,addFiles:et,bulkUpdateForm:eo,collectionSlug:B,docPermissions:x,documentSlots:m,forms:F,getFormDataRef:X,hasPublishPermission:S,hasSavePermission:j,hasSubmitted:g,isInitializing:P,removeFile:en,resetUploadEdits:ei,saveAllDocs:el,setActiveIndex:ee,setFormTotalErrorCount:ea,totalErrorCount:I,updateUploadEdits:er},children:[q&&(0,f.jsx)(cq,{animationDuration:"250ms",loadingText:K,overlayType:"fullscreen",show:!0}),t]})}function d5(){return s.use(d3)}var d4=e=>{let t=["file","mimeType","thumbnailURL","width","height","filesize","filename","url","focalX","focalY","sizes"];return e.filter(e=>!t.includes("name"in e&&e.name))},d8=(e,t)=>e?(0,b.j7)(t)?"".concat(e,".").concat(t.name):e:(0,b.j7)(t)?t.name:"",d7=e=>{let{CustomLabel:t,field:n,prefix:a}=e;return(0,f.jsxs)(s.Fragment,{children:[a?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("span",{style:{display:"inline-block"},children:a})," > "]}):null,(0,f.jsx)("span",{style:{display:"inline-block"},children:(0,f.jsx)(ef,{CustomComponent:t,Fallback:(0,f.jsx)(aV,{label:"label"in n&&n.label})})})]})},d9=e=>{var t,n;let{fields:a,formState:l,labelPrefix:o=null,parentPath:r="",path:i="",permissions:s}=e;if(!a)return[];let c=null==l?void 0:null===(n=l[i])||void 0===n?void 0:null===(t=n.customComponents)||void 0===t?void 0:t.Label;return null==a?void 0:a.reduce((e,t)=>{var n;let{operation:a,permissions:l,read:u}=(0,S.t)({field:t,operation:"update",parentName:(null==r?void 0:r.includes("."))?r.split(".")[r.split(".").length-1]:r,permissions:s});return((0,b.j7)(t)||"ui"===t.type)&&((null===(n=t.admin)||void 0===n?void 0:n.disableBulkEdit)||t.unique||(0,b.XI)(t)||"readOnly"in t&&t.readOnly||!a||!u)?e:!("array"===t.type||"blocks"===t.type)&&(0,b.uV)(t)?[...e,...d9({fields:t.fields,labelPrefix:d7({CustomLabel:c,field:t,prefix:o}),parentPath:i,path:d8(i,t),permissions:l})]:"tabs"===t.type&&"tabs"in t?[...e,...t.tabs.reduce((e,n)=>{if("fields"in n){let a="name"in n&&n.name;return[...e,...d9({fields:n.fields,labelPrefix:o,parentPath:i,path:a?d8(i,t):i,permissions:l})]}},[])]:[...e,{label:d7({CustomLabel:c,field:t,prefix:o}),value:{field:t,fieldPermissions:l,path:d8(i,t)}}]},[])},pe=e=>{let t=(0,h.c)(14),{fields:n,onChange:a,permissions:l}=e,{t:o}=(0,d.d)(),{dispatchFields:r,getFields:i}=eP(),c;t[0]!==n||t[1]!==i||t[2]!==l?(c=()=>d9({fields:d4(n),formState:i(),permissions:l}),t[0]=n,t[1]=i,t[2]=l,t[3]=c):c=t[3];let[u]=(0,s.useState)(c),p;if(t[4]!==r||t[5]!==i||t[6]!==a||t[7]!==u||t[8]!==o){let e;t[10]!==r||t[11]!==i||t[12]!==a?(e=e=>a({dispatchFields:r,formState:i(),selected:e}),t[10]=r,t[11]=i,t[12]=a,t[13]=e):e=t[13],p=(0,f.jsxs)("div",{className:"field-select",children:[(0,f.jsx)(aV,{label:o("fields:selectFieldsToEdit")}),(0,f.jsx)(ce,{getOptionValue:pt,isMulti:!0,onChange:e,options:u})]}),t[4]=r,t[5]=i,t[6]=a,t[7]=u,t[8]=o,t[9]=p}else p=t[9];return p};function pt(e){return"object"==typeof e.value&&"path"in e.value?String(e.value.path):String(e.value)}var pn=e=>{var t;let{collection:{fields:n,labels:{plural:a,singular:l}}={},collection:o,drawerSlug:r,forms:i}=e,[c,u]=(0,s.useState)(!1),{permissions:p}=aD(),{i18n:h,t:v}=(0,d.d)(),{closeModal:g}=nT(),{bulkUpdateForm:b}=d5(),{getFormState:x}=cE(),y=s.useRef(null),[w,j]=(0,s.useState)([]),C=null==p?void 0:null===(t=p.collections)||void 0===t?void 0:t[o.slug],S=(0,s.useMemo)(()=>(0,U.T)(w.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[w]),_=(0,s.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=cG(y),{state:l}=await x({collectionSlug:o.slug,docPermissions:C,docPreferences:null,formState:t,operation:"update",schemaPath:o.slug,select:S,signal:a.signal,skipValidation:!n});return y.current=null,l},[x,o,C,S]);(0,s.useEffect)(()=>{let e=y.current;return()=>{cY(e)}},[]);let k=(0,s.useCallback)(e=>{b(w.reduce((t,n)=>(e[n.value.path]&&(t[n.value.path]=e[n.value.path].value),t),{}),()=>g(r))},[g,r,b,w]),N=(0,s.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:a}=e;u(!0),j(a||[]);let{state:l}=await x({collectionSlug:o.slug,docPermissions:C,docPreferences:null,formState:n,operation:"update",schemaPath:o.slug,select:(0,U.T)(a.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:l}),u(!1)},[x,o,C]);return(0,f.jsxs)("div",{className:"".concat(pa,"__main"),children:[(0,f.jsxs)("div",{className:"".concat(pa,"__header"),children:[(0,f.jsx)("h2",{className:"".concat(pa,"__header__title"),children:v("general:editingLabel",{count:i.length,label:(0,m.i)(i.length>1?a:l,h)})}),(0,f.jsx)("button",{"aria-label":v("general:close"),className:"".concat(pa,"__header__close"),id:"close-drawer__".concat(r),onClick:()=>g(r),type:"button",children:(0,f.jsx)(d.a,{})})]}),(0,f.jsxs)(dN,{className:"".concat(pa,"__form"),isInitializing:c,onChange:[_],onSubmit:k,children:[(0,f.jsx)(pe,{fields:n,onChange:N,permissions:C.fields}),0===w.length?null:(0,f.jsx)("div",{className:"render-fields",children:(0,f.jsx)(lG,{value:void 0,children:w.map((e,t)=>{let{value:{field:n,fieldPermissions:a,path:l}}=e;return(0,f.jsx)(fJ,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:l,permissions:a},"".concat(l,"-").concat(t))})})}),(0,f.jsx)("div",{className:"".concat(pa,"__sidebar-wrap"),children:(0,f.jsx)("div",{className:"".concat(pa,"__sidebar"),children:(0,f.jsx)("div",{className:"".concat(pa,"__sidebar-sticky-wrap"),children:(0,f.jsx)("div",{className:"".concat(pa,"__document-actions"),children:(0,f.jsx)(tO,{type:"submit",children:v("general:applyChanges")})})})})})]})]})},pa="edit-many-bulk-uploads",pl=e=>{var t,n;let a;let l=(0,h.c)(5),{collection:o,collection:r}=e,{slug:i}=void 0===o?{}:o,{permissions:s}=aD(),{t:c}=(0,d.d)(),{forms:u}=d5(),p=null==s?void 0:null===(n=s.collections)||void 0===n?void 0:null===(t=n[i])||void 0===t?void 0:t.update,m="edit-".concat(i,"-bulk-uploads");return p?(l[0]!==r||l[1]!==m||l[2]!==u||l[3]!==c?(a=(0,f.jsxs)("div",{className:pa,children:[(0,f.jsx)(am,{"aria-label":c("general:editAll"),className:"".concat(pa,"__toggle"),slug:m,children:c("general:editAll")}),(0,f.jsx)(nu,{children:(0,f.jsx)(av,{Header:null,slug:m,children:(0,f.jsx)(pn,{collection:r,drawerSlug:m,forms:u})})})]}),l[0]=r,l[1]=m,l[2]=u,l[3]=c,l[4]=a):a=l[4],a):null},po="bulk-upload--actions-bar";function pr(e){let t=(0,h.c)(15),{collectionConfig:n}=e,{activeIndex:a,forms:l,setActiveIndex:o}=d5(),{t:r}=(0,d.d)(),i=a+1,s;if(t[0]!==a||t[1]!==n||t[2]!==l.length||t[3]!==o||t[4]!==r||t[5]!==i){let e,c;t[7]!==a||t[8]!==l.length||t[9]!==o?(e=()=>{let e=a-1;e<0?o(l.length-1):o(e)},t[7]=a,t[8]=l.length,t[9]=o,t[10]=e):e=t[10],t[11]!==a||t[12]!==l.length||t[13]!==o?(c=()=>{let e=a+1;e===l.length?o(0):o(e)},t[11]=a,t[12]=l.length,t[13]=o,t[14]=c):c=t[14],s=(0,f.jsxs)("div",{className:po,children:[(0,f.jsxs)("div",{className:"".concat(po,"__navigation"),children:[(0,f.jsxs)("p",{className:"".concat(po,"__locationText"),children:[(0,f.jsx)("strong",{children:i})," ".concat(r("general:of")," "),(0,f.jsx)("strong",{children:l.length})]}),(0,f.jsxs)("div",{className:"".concat(po,"__controls"),children:[(0,f.jsx)(tO,{"aria-label":r("general:previous"),buttonStyle:"none",onClick:e,type:"button",children:(0,f.jsx)(ti,{direction:"left"})}),(0,f.jsx)(tO,{"aria-label":r("general:next"),buttonStyle:"none",onClick:c,type:"button",children:(0,f.jsx)(ti,{direction:"right"})})]}),(0,f.jsx)(pl,{collection:n})]}),(0,f.jsx)(pi,{className:"".concat(po,"__saveButtons")})]}),t[0]=a,t[1]=n,t[2]=l.length,t[3]=o,t[4]=r,t[5]=i,t[6]=s}else s=t[6];return s}function pi(e){var t,n,a,l,o;let r=(0,h.c)(12),{className:i}=e,{getEntityConfig:s}=(0,u.b)(),{t:c}=(0,d.d)(),{collectionSlug:p,hasPublishPermission:m,hasSavePermission:v,saveAllDocs:g}=d5(),b;r[0]!==p||r[1]!==s?(b=s({collectionSlug:p}),r[0]=p,r[1]=s,r[2]=b):b=r[2];let x=b,y;r[3]!==i?(y=["".concat(po,"__buttons"),i].filter(Boolean),r[3]=i,r[4]=y):y=r[4];let w=y.join(" "),j;return r[5]!==(null==x?void 0:null===(t=x.versions)||void 0===t?void 0:t.drafts)||r[6]!==m||r[7]!==v||r[8]!==g||r[9]!==c||r[10]!==w?(j=(0,f.jsxs)("div",{className:w,children:[(null==x?void 0:null===(n=x.versions)||void 0===n?void 0:n.drafts)&&v?(0,f.jsx)(tO,{buttonStyle:"secondary",onClick:()=>void g({overrides:{_status:"draft"}}),children:c("version:saveDraft")}):null,(null==x?void 0:null===(a=x.versions)||void 0===a?void 0:a.drafts)&&m?(0,f.jsx)(tO,{onClick:()=>void g({overrides:{_status:"published"}}),children:c("version:publish")}):null,(null==x?void 0:null===(l=x.versions)||void 0===l?void 0:l.drafts)||!v?null:(0,f.jsx)(tO,{onClick:()=>void g(),children:c("general:save")})]}),r[5]=null==x?void 0:null===(o=x.versions)||void 0===o?void 0:o.drafts,r[6]=m,r[7]=v,r[8]=g,r[9]=c,r[10]=w,r[11]=j):j=r[11],j}var ps="bulk-upload--discard-without-saving";function pc(){let e=(0,h.c)(9),{t:t}=(0,d.d)(),{closeModal:n}=nT(),{drawerSlug:a}=fz(),l;e[0]!==n?(l=()=>{n(ps)},e[0]=n,e[1]=l):l=e[1];let o=l,r;e[2]!==n||e[3]!==a?(r=()=>{n(a),n(ps)},e[2]=n,e[3]=a,e[4]=r):r=e[4];let i=r,s;return e[5]!==o||e[6]!==i||e[7]!==t?(s=(0,f.jsx)(aw,{body:t("general:changesNotSaved"),cancelLabel:t("general:stayOnThisPage"),confirmLabel:t("general:leaveAnyway"),heading:t("general:leaveWithoutSaving"),modalSlug:ps,onCancel:o,onConfirm:i}),e[5]=o,e[6]=i,e[7]=t,e[8]=s):s=e[8],s}var pu=(0,s.createContext)({mostRecentUpdate:null,reportUpdate:e=>null}),pd=e=>{let t=(0,h.c)(3),{children:n}=e,[a,l]=(0,s.useState)(null),o;return t[0]!==n||t[1]!==a?(o=(0,f.jsx)(pu,{value:{mostRecentUpdate:a,reportUpdate:l},children:n}),t[0]=n,t[1]=a,t[2]=o):o=t[2],o},pp=()=>(0,s.use)(pu),pf="document-fields",ph=e=>{let{AfterFields:t,BeforeFields:n,Description:a,docPermissions:l,fields:o,forceSidebarWrap:r,readOnly:i,schemaPathSegments:c}=e,{hasSidebarFields:u,mainFields:d,sidebarFields:p}=(0,s.useMemo)(()=>o.reduce((e,t)=>((0,b.Gc)(t)?(e.sidebarFields.push(t),e.mainFields.push(null),e.hasSidebarFields=!0):(e.mainFields.push(t),e.sidebarFields.push(null)),e),{hasSidebarFields:!1,mainFields:[],sidebarFields:[]}),[o]);return(0,f.jsxs)("div",{className:[pf,u?"".concat(pf,"--has-sidebar"):"".concat(pf,"--no-sidebar"),r&&"".concat(pf,"--force-sidebar-wrap")].filter(Boolean).join(" "),children:[(0,f.jsx)("div",{className:"".concat(pf,"__main"),children:(0,f.jsxs)(ad,{className:"".concat(pf,"__edit"),children:[a?(0,f.jsx)("header",{className:"".concat(pf,"__header"),children:(0,f.jsx)("div",{className:"".concat(pf,"__sub-header"),children:a})}):null,n,(0,f.jsx)(f1,{className:"".concat(pf,"__fields"),fields:d,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:i}),t]})}),u?(0,f.jsx)("div",{className:"".concat(pf,"__sidebar-wrap"),children:(0,f.jsx)("div",{className:"".concat(pf,"__sidebar"),children:(0,f.jsx)("div",{className:"".concat(pf,"__sidebar-fields"),children:(0,f.jsx)(f1,{fields:p,forceRender:!0,parentIndexPath:"",parentPath:"",parentSchemaPath:c.join("."),permissions:null==l?void 0:l.fields,readOnly:i})})})}):null]})};function pm(e){let{className:t}=e;return(0,f.jsx)("svg",{className:[t,"icon icon--folder"].filter(Boolean).join(" "),fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{d:"M13.3333 13.3333C13.6869 13.3333 14.026 13.1929 14.2761 12.9428C14.5261 12.6928 14.6666 12.3536 14.6666 12V5.33333C14.6666 4.97971 14.5261 4.64057 14.2761 4.39052C14.026 4.14048 13.6869 4 13.3333 4H8.06659C7.84359 4.00219 7.62362 3.94841 7.42679 3.84359C7.22996 3.73877 7.06256 3.58625 6.93992 3.4L6.39992 2.6C6.27851 2.41565 6.11323 2.26432 5.91892 2.1596C5.7246 2.05488 5.50732 2.00004 5.28659 2H2.66659C2.31296 2 1.97382 2.14048 1.72378 2.39052C1.47373 2.64057 1.33325 2.97971 1.33325 3.33333V12C1.33325 12.3536 1.47373 12.6928 1.72378 12.9428C1.97382 13.1929 2.31296 13.3333 2.66659 13.3333H13.3333Z",fill:"currentColor"})})}function pv(e){let{selectFromIndex:t,selectToIndex:n}=e;if(null==t)return new Set([n]);let a=Math.min(n,t),l=Math.max(n,t);return new Set(Array.from({length:Math.max(a,l)+1},(e,t)=>t).filter(e=>e>=a&&e<=l))}function pg(e){let{currentSelection:t,toggleIndex:n}=e,a=new Set(t);return a.has(n)?a.delete(n):a.add(n),a}var pb=s.createContext({activeCollectionFolderSlugs:[],allCollectionFolderSlugs:[],allowCreateCollectionSlugs:[],breadcrumbs:[],clearSelections:()=>{},currentFolder:null,documents:[],focusedRowIndex:-1,folderCollectionConfig:null,folderCollectionSlug:"",folderFieldName:"folder",folderID:void 0,FolderResultsComponent:null,getFolderRoute:()=>"",getSelectedItems:()=>[],isDragging:!1,itemKeysToMove:void 0,lastSelectedIndex:null,moveToFolder:()=>Promise.resolve(void 0),onItemClick:()=>{},onItemKeyPress:()=>{},refineFolderData:()=>{},search:"",selectedItemKeys:new Set,setBreadcrumbs:()=>{},setFocusedRowIndex:()=>-1,setIsDragging:()=>!1,sort:"_folderOrDocumentTitle",subfolders:[]});function px(e){var t;let{activeCollectionFolderSlugs:n,allCollectionFolderSlugs:a=[],allowCreateCollectionSlugs:l,allowMultiSelection:o=!0,baseFolderPath:r,breadcrumbs:i=[],children:c,documents:p,folderFieldName:h,folderID:m,FolderResultsComponent:v,onItemClick:b,search:x,sort:j="_folderOrDocumentTitle",subfolders:C}=e,S=py(),{config:_}=(0,u.b)(),{routes:k,serverURL:N}=_,E=ax(),{t:D}=(0,d.d)(),P=(0,g.useRouter)(),{startRouteTransition:T}=te(),[R,O]=s.useState(v||(()=>null)),[L]=s.useState(()=>_.collections.find(e=>_.folders&&e.slug===_.folders.slug)),F=L.slug,I=(0,g.useSearchParams)(),A=s.useMemo(()=>cj(I),[I]),[M,B]=s.useState(A),[z,U]=s.useState(!1),[q,W]=s.useState(()=>new Set),[K,Y]=s.useState(-1),[G,$]=s.useState(null),[X,Q]=s.useState(i),Z=s.useRef(null),J=C.length+p.length,ee=s.useCallback(()=>{Y(-1),W(new Set),$(void 0)},[]),et=s.useCallback(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n="page"in t?t.page:null==M?void 0:M.page;return"search"in t&&(n="1"),{...M,...t,page:n,search:"search"in t?t.search:null==M?void 0:M.search,sort:"sort"in t?t.sort:null!==(e=null==M?void 0:M.sort)&&void 0!==e?e:void 0}},[M]),en=s.useCallback(e=>{let{query:t,updateURL:n}=e;if(n){let e=et(t);T(()=>P.replace("".concat(w.P(e,{addQueryPrefix:!0})))),B(e)}},[et,P,T]),ea=s.useCallback(e=>{let t=et({page:"1",search:""});return(0,y.$)({adminRoute:_.routes.admin,path:"".concat(r).concat(e?"/".concat(e):"").concat(w.P(t,{addQueryPrefix:!0})),serverURL:_.serverURL})},[r,_.routes.admin,_.serverURL,et]),el=s.useCallback(e=>[...C,...p].find(t=>t.itemKey===e),[p,C]),eo=s.useCallback(()=>Array.from(q).reduce((e,t)=>{let n=el(t);return n&&e.push(n),e},[]),[q,el]),er=s.useCallback(e=>{let{collectionSlug:t,docID:n}=e;1===E&&(ee(),t===F?T(()=>P.push(ea(n))):t&&T(()=>{P.push((0,y.$)({adminRoute:_.routes.admin,path:"/collections/".concat(t,"/").concat(n)}))})),"function"==typeof b&&b(el("".concat(t,"-").concat(n)))},[ee,_.routes.admin,E,F,ea,el,b,P,T]),ei=s.useCallback(e=>{let{event:t,index:n,item:a}=e,{code:l,ctrlKey:r,metaKey:i,shiftKey:s}=t,c=r||i,u;switch(l){case"ArrowDown":{t.preventDefault();let e=Math.min(n+1,J-1);if(Y(e),c)break;o&&s?u=pv({selectFromIndex:Math.min(G,J),selectToIndex:Math.min(e,J)}):($(e),u=new Set([e]));break}case"ArrowUp":{t.preventDefault();let e=Math.max(n-1,0);if(Y(e),c)break;o&&s?u=pv({selectFromIndex:G,selectToIndex:e}):($(e),u=new Set([e]));break}case"Enter":1===q.size&&(u=new Set([]),Y(void 0));break;case"Escape":Y(void 0),u=new Set([]);break;case"KeyA":o&&c&&(t.preventDefault(),Y(J-1),u=new Set(Array.from({length:J},(e,t)=>t)));break;case"Space":o&&s?(t.preventDefault(),u=pg({currentSelection:u,toggleIndex:n})):(t.preventDefault(),u=new Set([n])),$(n);break;case"Tab":if(o&&s){let e=n-1;e<0&&(null==u?void 0:u.size)>0&&Y(e)}else n+1===J&&q.size>0&&Y(J-1)}u&&(W([...C,...p].reduce((e,t,n)=>((null==u?void 0:u.size)&&u.has(n)&&e.add(t.itemKey),e),new Set)),1===q.size&&"Enter"===l&&er({collectionSlug:a.relationTo,docID:(0,V.w)(a.value)}))},[o,p,G,er,C,J,q]),es=s.useCallback(e=>{let{event:t,index:n,item:a}=e,l=!1,r=t.ctrlKey||t.metaKey,i=t.shiftKey,s;if(o&&r)s=pg({currentSelection:s,toggleIndex:n});else if(o&&i&&void 0!==G)s=pv({selectFromIndex:G,selectToIndex:n});else if(o&&"pointermove"===t.type)q.has(a.itemKey)||(s=new Set([n])),$(n);else{s=new Set([n]);let e=Date.now();l=e-Z.current<400&&G===n,Z.current=e,$(n)}Y(s?n:void 0),s&&W([...C,...p].reduce((e,t,n)=>(s.size&&s.has(n)&&e.add(t.itemKey),e),new Set)),l&&er({collectionSlug:a.relationTo,docID:(0,V.w)(a.value)})},[q,o,G,C,p,er]),ec=s.useCallback(async e=>{let{itemsToMove:t,toFolderID:n}=e;if(t.length){if(1===t.length&&t[0].relationTo===F&&t[0].value.id===m)200!==(await fetch("".concat(N).concat(k.api,"/").concat(F,"/").concat(m,"?depth=0"),{body:JSON.stringify({[h]:n||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})).status&&e3.error(D("general:error"));else for(let[e,a]of Object.entries(t.reduce((e,t)=>(e[t.relationTo]||(e[t.relationTo]=[]),e[t.relationTo].push(t.value.id),e),{}))){let t=w.P({depth:0,limit:0,where:{id:{in:a}}},{addQueryPrefix:!0});try{await fetch("".concat(N).concat(k.api,"/").concat(e).concat(t),{body:JSON.stringify({[h]:n||null}),credentials:"include",headers:{"content-type":"application/json"},method:"PATCH"})}catch(e){e3.error(D("general:error")),console.error(e);continue}}ee()}},[m,ee,F,h,k.api,N,D]);return s.useEffect(()=>{v&&O(v)},[v]),(0,f.jsx)(pb,{value:{activeCollectionFolderSlugs:n||a,allCollectionFolderSlugs:a,allowCreateCollectionSlugs:l,breadcrumbs:X,clearSelections:ee,currentFolder:(null==X?void 0:null===(t=X[0])||void 0===t?void 0:t.id)?(0,H._)({folderFieldName:h,isUpload:!1,relationTo:F,useAsTitle:L.admin.useAsTitle,value:X[X.length-1]}):null,documents:p,focusedRowIndex:K,folderCollectionConfig:L,folderCollectionSlug:F,folderFieldName:h,folderID:m,FolderResultsComponent:R,getFolderRoute:ea,getSelectedItems:eo,isDragging:z,itemKeysToMove:S.selectedItemKeys,lastSelectedIndex:G,moveToFolder:ec,onItemClick:es,onItemKeyPress:ei,refineFolderData:en,search:x,selectedItemKeys:q,setBreadcrumbs:Q,setFocusedRowIndex:Y,setIsDragging:U,sort:j,subfolders:C},children:c})}function py(){let e=s.use(pb);if(void 0===e)throw Error("useFolder must be used within a FolderProvider");return e}var pw=(0,s.createContext)({cachingEnabled:!0,clearRouteCache:()=>{}}),pj=e=>{let t,n,a=(0,h.c)(13),{cachingEnabled:l,children:o}=e,r=void 0===l||l,i=(0,g.usePathname)(),c=(0,g.useRouter)(),u;a[0]!==c?(u=()=>{c.refresh()},a[0]=c,a[1]=u):u=a[1];let d=u,p;return a[2]!==r||a[3]!==d?(p=()=>{r&&d()},a[2]=r,a[3]=d,a[4]=p):p=a[4],a[5]!==r||a[6]!==d||a[7]!==i?(t=[i,d,r],a[5]=r,a[6]=d,a[7]=i,a[8]=t):t=a[8],(0,s.useEffect)(p,t),a[9]!==r||a[10]!==o||a[11]!==d?(n=(0,f.jsx)(pw,{value:{cachingEnabled:r,clearRouteCache:d},children:o}),a[9]=r,a[10]=o,a[11]=d,a[12]=n):n=a[12],n},pC=()=>(0,s.use)(pw),pS=e=>{let{type:t="submit",buttonId:n,children:a,disabled:l,onClick:o,programmaticSubmit:r,ref:i}=e,s=eL(),c=eF(),u=eA(),{disabled:d,submit:p}=eP();return(0,f.jsx)("div",{className:"form-submit",children:(0,f.jsx)(tO,{ref:i,...e,disabled:!!l||!!u||!!s||!!c||!!d||void 0,id:n,onClick:null!=o?o:r?()=>{p()}:void 0,type:t,children:a})})},p_="drawer-action-header",pk=e=>{let t=(0,h.c)(16),{cancelLabel:n,className:a,onCancel:l,onSave:o,saveLabel:r,title:i}=e,{t:s}=(0,d.d)(),c;t[0]!==a?(c=[p_,a].filter(Boolean),t[0]=a,t[1]=c):c=t[1];let u=c.join(" "),p;if(t[2]!==n||t[3]!==l||t[4]!==o||t[5]!==r||t[6]!==s||t[7]!==u||t[8]!==i){let e,a;t[10]!==n||t[11]!==s?(e=n||s("general:cancel"),t[10]=n,t[11]=s,t[12]=e):e=t[12],t[13]!==r||t[14]!==s?(a=r||s("general:applyChanges"),t[13]=r,t[14]=s,t[15]=a):a=t[15],p=(0,f.jsx)("div",{className:u,children:(0,f.jsxs)("div",{className:"".concat(p_,"__content"),children:[(0,f.jsx)("h1",{className:"".concat(p_,"__title"),children:i}),(0,f.jsxs)("div",{className:"".concat(p_,"__actions"),children:[(0,f.jsx)(tO,{"aria-label":s("general:cancel"),buttonStyle:"secondary",onClick:l,children:e}),(0,f.jsx)(pS,{"aria-label":s("general:applyChanges"),onClick:o,children:a})]})]})}),t[2]=n,t[3]=l,t[4]=o,t[5]=r,t[6]=s,t[7]=u,t[8]=i,t[9]=p}else p=t[9];return p};function pN(e){let{children:t,className:n}=e;return(0,f.jsx)("div",{className:["drawer-content-container",n].filter(Boolean).join(" "),children:t})}var pE="create-new-doc-in-folder";function pD(e){let t,n=(0,h.c)(28),{buttonLabel:a,collectionSlugs:l,onCreateSuccess:o,slugPrefix:r}=e,i="".concat(r,"-new-doc-in-folder-drawer"),{i18n:c}=(0,d.d)(),{closeModal:p,openModal:v}=nT(),{config:g}=(0,u.b)(),{folderCollectionConfig:b,folderCollectionSlug:x,folderFieldName:y,folderID:w}=py(),j;n[0]!==x?(j={collectionSlug:x},n[0]=x,n[1]=j):j=n[1];let[C,,S]=c2(j),{closeDrawer:_,openDrawer:k}=S,[N,E]=s.useState(),D;n[2]!==l||n[3]!==g?(D=()=>l.reduce((e,t)=>{let n=g.collections.find(e=>{let{slug:n}=e;return n===t});return n&&e.push(n),e},[]),n[2]=l,n[3]=g,n[4]=D):D=n[4];let[P]=s.useState(D);if(0===P.length)return null;if(n[5]!==C||n[6]!==a||n[7]!==_||n[8]!==p||n[9]!==l||n[10]!==N||n[11]!==P||n[12]!==b.slug||n[13]!==y||n[14]!==w||n[15]!==c||n[16]!==i||n[17]!==o||n[18]!==k||n[19]!==v){let e;n[21]!==p||n[22]!==N||n[23]!==y||n[24]!==w||n[25]!==i||n[26]!==o?(e=N&&(0,f.jsx)(c3,{collectionSlug:N,drawerSlug:i,initialData:{[y]:w},onSave:async e=>{let{doc:t}=e;await o({collectionSlug:N,doc:t}),p(i)},redirectAfterCreate:!1}),n[21]=p,n[22]=N,n[23]=y,n[24]=w,n[25]=i,n[26]=o,n[27]=e):e=n[27],t=(0,f.jsxs)(s.Fragment,{children:[1===P.length?(0,f.jsx)(tO,{buttonStyle:"pill",className:"".concat(pE,"__button"),el:"div",onClick:()=>{P[0].slug===b.slug?k():(E(P[0].slug),v(i))},size:"small",children:a}):(0,f.jsx)(tD,{button:(0,f.jsx)(tO,{buttonStyle:"pill",className:"".concat(pE,"__popup-button"),el:"div",icon:"chevron",size:"small",children:a}),buttonType:"default",className:"".concat(pE,"__action-popup"),children:(0,f.jsx)(tp.ButtonGroup,{children:P.map((e,t)=>(0,f.jsx)(tp.Button,{onClick:()=>{e.slug===b.slug?k():(E(e.slug),v(i))},children:(0,m.i)(e.labels.singular,c)},t))})}),e,l.includes(b.slug)&&(0,f.jsx)(C,{initialData:{[y]:w},onSave:async e=>{await o({collectionSlug:b.slug,doc:e.doc}),_()},redirectAfterCreate:!1})]}),n[5]=C,n[6]=a,n[7]=_,n[8]=p,n[9]=l,n[10]=N,n[11]=P,n[12]=b.slug,n[13]=y,n[14]=w,n[15]=c,n[16]=i,n[17]=o,n[18]=k,n[19]=v,n[20]=t}else t=n[20];return t}var pP="no-results";function pT(e){let{Actions:t,Message:n}=e;return(0,f.jsxs)("div",{className:pP,children:[n,t&&t.length>0&&(0,f.jsx)("div",{className:"".concat(pP,"__actions"),children:t.map((e,t)=>(0,f.jsx)(s.Fragment,{children:e},t))})]})}var pR=e=>{let{elements:t,translationString:n}=e,a=n.split(/(<[^>]+>.*?<\/[^>]+>)/g);return(0,f.jsx)("span",{children:a.map((e,n)=>{if(t&&e.startsWith("<")&&e.endsWith(">")){let a=e[1],l=t[a];if(l){let t=RegExp("<".concat(a,">(.*?)</").concat(a,">"),"g"),o=e.replace(t,(e,t)=>t);return(0,f.jsx)(l,{children:(0,f.jsx)(pR,{translationString:o})},n)}}return e})})},pO=e=>{let{elements:t,i18nKey:n,t:a,variables:l}=e,o=a(n,l||{});return t?(0,f.jsx)(pR,{elements:t,translationString:o}):o},pL="folderBreadcrumbs";function pF(e){let{breadcrumbs:t,className:n}=e;return(0,f.jsx)("div",{className:"".concat(pL," ").concat(n||"").trim(),children:null==t?void 0:t.map((e,n)=>(0,f.jsxs)("div",{className:"".concat(pL,"__crumb"),children:[e.onClick?(0,f.jsx)(pI,{className:"".concat(pL,"__crumb-item"),id:e.id,onClick:e.onClick,children:e.name}):e.name,t.length>0&&n!==t.length-1&&(0,f.jsx)(ti,{className:"".concat(pL,"__crumb-chevron"),direction:"right"})]},n))})}function pI(e){let t,n=(0,h.c)(13),{id:a,children:l,className:o,onClick:r}=e,i="folder-".concat(a),s;n[0]!==a?(s={id:a,type:"folder"},n[0]=a,n[1]=s):s=n[1],n[2]!==i||n[3]!==s?(t={id:i,data:s},n[2]=i,n[3]=s,n[4]=t):t=n[4];let{isOver:c,setNodeRef:u}=(0,x.Zj)(t),d=c&&"droppable-button--hover",p;n[5]!==o||n[6]!==d?(p=["droppable-button",o,d].filter(Boolean),n[5]=o,n[6]=d,n[7]=p):p=n[7];let m=p.join(" "),v;return n[8]!==l||n[9]!==r||n[10]!==u||n[11]!==m?(v=(0,f.jsx)("button",{className:m,onClick:r,ref:u,type:"button",children:l}),n[8]=l,n[9]=r,n[10]=u,n[11]=m,n[12]=v):v=n[12],v}function pA(){return(0,f.jsx)(pm,{className:"colored-folder-icon"})}var pM="move-folder-drawer",pB="".concat("move-folder-drawer","-confirm-move");function pz(e){return(0,f.jsx)(av,{gutter:!1,Header:null,slug:e.drawerSlug,children:(0,f.jsx)(pU,{...e})})}function pU(e){var t;let{permissions:n}=aD(),[a,l]=s.useState([]),[o,r]=s.useState([]),[i,c]=s.useState([]),[u,d]=s.useState(null),[p,h]=s.useState(!1),[m,v]=s.useState(e.fromFolderID||null),g=s.useRef(!1),{getFolderResultsComponentAndData:b}=cE(),x=s.useCallback(async t=>{try{let n=await b({activeCollectionSlugs:[e.folderCollectionSlug],browseByFolder:!1,displayAs:"grid",folderID:t,sort:"_folderOrDocumentTitle"});c(n.breadcrumbs||[]),l((null==n?void 0:n.subfolders)||[]),r((null==n?void 0:n.documents)||[]),d(n.FolderResultsComponent||null),v(t),h(!0)}catch(e){c([]),l([]),r([])}g.current=!0},[b,e.folderCollectionSlug]);return s.useEffect(()=>{g.current||x(e.fromFolderID)},[x,e.fromFolderID]),p?(0,f.jsx)(px,{allCollectionFolderSlugs:[e.folderCollectionSlug],allowCreateCollectionSlugs:(null===(t=n.collections[e.folderCollectionSlug])||void 0===t?void 0:t.create)?[e.folderCollectionSlug]:[],allowMultiSelection:!1,breadcrumbs:i,documents:o,folderFieldName:e.folderFieldName,folderID:m,FolderResultsComponent:u,onItemClick:async e=>{await x(e.value.id)},subfolders:a,children:(0,f.jsx)(pV,{...e,populateMoveToFolderDrawer:x})},m):(0,f.jsx)(cq,{})}function pV(e){let t,n,a,l=(0,h.c)(76),o,r,i,c,u,p,v,g;l[0]!==e?({drawerSlug:o,fromFolderID:r,fromFolderName:i,itemsToMove:c,onConfirm:u,populateMoveToFolderDrawer:p,skipConfirmModal:g,...v}=e,l[0]=e,l[1]=o,l[2]=r,l[3]=i,l[4]=c,l[5]=u,l[6]=p,l[7]=v,l[8]=g):(o=l[1],r=l[2],i=l[3],c=l[4],u=l[5],p=l[6],v=l[7],g=l[8]);let{clearRouteCache:b}=pC(),{closeModal:x,isModalOpen:y,openModal:w}=nT(),j;l[9]!==c?(j=()=>c.length,l[9]=c,l[10]=j):j=l[10];let[C]=s.useState(j),[S,_]=s.useState(!1),{i18n:k,t:N}=(0,d.d)(),{breadcrumbs:E,folderCollectionConfig:D,folderCollectionSlug:P,folderFieldName:T,folderID:R,FolderResultsComponent:O,getSelectedItems:L,subfolders:F}=py(),I;l[11]!==P?(I={collectionSlug:P},l[11]=P,l[12]=I):I=l[12];let[A,,M]=c2(I),{closeDrawer:B,openDrawer:z}=M,U;l[13]!==E||l[14]!==L?(U=()=>{let e=L();if(0!==e.length)return{id:e[0].value.id,name:e[0].value._folderOrDocumentTitle};{let e=null==E?void 0:E[E.length-1];return{id:(null==e?void 0:e.id)||null,name:(null==e?void 0:e.name)||null}}},l[13]=E,l[14]=L,l[15]=U):U=l[15];let H=U,q;l[16]!==P||l[17]!==R||l[18]!==r||l[19]!==p?(q=async e=>{let{collectionSlug:t,doc:n}=e;await p(R),t!==P||(null==n||!n.folder||r!==(0,V.w)(null==n?void 0:n.folder))&&(r||(null==n?void 0:n.folder))||_(!0)},l[16]=P,l[17]=R,l[18]=r,l[19]=p,l[20]=q):q=l[20];let W=q,K;l[21]!==H||l[22]!==u?(K=()=>{"function"==typeof u&&u(H())},l[21]=H,l[22]=u,l[23]=K):K=l[23];let Y=K,G,$;if(l[24]!==b||l[25]!==o||l[26]!==S||l[27]!==y?(G=()=>{!y(o)&&S&&(_(!1),b())},$=[o,y,b,S],l[24]=b,l[25]=o,l[26]=S,l[27]=y,l[28]=G,l[29]=$):(G=l[28],$=l[29]),s.useEffect(G,$),l[30]!==x||l[31]!==o?(t=()=>{x(o)},l[30]=x,l[31]=o,l[32]=t):t=l[32],l[33]!==Y||l[34]!==w||l[35]!==g?(n=()=>{g?Y():w(pB)},l[33]=Y,l[34]=w,l[35]=g,l[36]=n):n=l[36],l[37]!==A||l[38]!==O||l[39]!==E||l[40]!==B||l[41]!==C||l[42]!==D||l[43]!==P||l[44]!==T||l[45]!==R||l[46]!==r||l[47]!==i||l[48]!==H||l[49]!==k||l[50]!==Y||l[51]!==W||l[52]!==z||l[53]!==p||l[54]!==v.action||l[55]!==v.title||l[56]!==g||l[57]!==F.length||l[58]!==N||l[59]!==n||l[60]!==t){var X,Q,Z;let e,o,s;l[62]!==E.length||l[63]!==p?(e=E.length?()=>{p(null)}:void 0,l[62]=E.length,l[63]=p,l[64]=e):e=l[64],l[65]!==E.length||l[66]!==p?(o=(e,t)=>({id:e.id,name:e.name,onClick:t!==E.length-1?()=>{p(e.id)}:void 0}),l[65]=E.length,l[66]=p,l[67]=o):o=l[67],l[68]!==O||l[69]!==D||l[70]!==P||l[71]!==k||l[72]!==W||l[73]!==F.length||l[74]!==N?(s=F.length>0?O:(0,f.jsx)(pT,{Actions:[(0,f.jsx)(pD,{buttonLabel:"".concat(N("general:create")," ").concat((0,m.i)(null===(X=D.labels)||void 0===X?void 0:X.singular,k).toLowerCase()),collectionSlugs:[P],onCreateSuccess:W,slugPrefix:"create-new-folder-from-drawer--no-results"},"create-folder")],Message:(0,f.jsx)("p",{children:k.t("general:noResults",{label:"".concat((0,m.i)(null===(Q=D.labels)||void 0===Q?void 0:Q.plural,k))})})}),l[68]=O,l[69]=D,l[70]=P,l[71]=k,l[72]=W,l[73]=F.length,l[74]=N,l[75]=s):s=l[75],a=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(pk,{onCancel:t,onSave:n,saveLabel:N("general:select"),title:(0,f.jsx)(pH,{action:v.action,count:C,fromFolderName:r?i:void 0,title:"moveItemToFolder"===v.action?v.title:void 0})}),(0,f.jsxs)("div",{className:"".concat(pM,"__breadcrumbs-section"),children:[(0,f.jsx)(pF,{breadcrumbs:[{id:null,name:(0,f.jsxs)("span",{className:"".concat(pM,"__folder-breadcrumbs-root"),children:[(0,f.jsx)(pA,{}),N("folder:folders")]}),onClick:e},...E.map(o)]}),F.length>0&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tO,{buttonStyle:"pill",className:"".concat(pM,"__add-folder-button"),margin:!1,onClick:()=>{z()},children:N("fields:addLabel",{label:(0,m.i)(null===(Z=D.labels)||void 0===Z?void 0:Z.singular,k)})}),(0,f.jsx)(A,{initialData:{[T]:R},onSave:e=>{W({collectionSlug:D.slug,doc:e.doc}),B()},redirectAfterCreate:!1})]})]}),(0,f.jsx)(pN,{className:"".concat(pM,"__body-section"),children:s}),!g&&(0,f.jsx)(aw,{body:(0,f.jsx)(pq,{action:v.action,count:C,fromFolderName:i,title:"moveItemToFolder"===v.action?v.title:void 0,toFolderName:H().name}),confirmingLabel:N("general:moving"),confirmLabel:N("general:move"),heading:N("general:confirmMove"),modalSlug:pB,onConfirm:Y})]}),l[37]=A,l[38]=O,l[39]=E,l[40]=B,l[41]=C,l[42]=D,l[43]=P,l[44]=T,l[45]=R,l[46]=r,l[47]=i,l[48]=H,l[49]=k,l[50]=Y,l[51]=W,l[52]=z,l[53]=p,l[54]=v.action,l[55]=v.title,l[56]=g,l[57]=F.length,l[58]=N,l[59]=n,l[60]=t,l[61]=a}else a=l[61];return a}function pH(e){let t=(0,h.c)(14),{t:n}=(0,d.d)();switch(e.action){case"moveItemToFolder":if(e.fromFolderName){let a;return t[0]!==e.fromFolderName||t[1]!==e.title||t[2]!==n?(a=n("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:e.title}),t[0]=e.fromFolderName,t[1]=e.title,t[2]=n,t[3]=a):a=t[3],a}{let a;return t[4]!==e.title||t[5]!==n?(a=n("folder:selectFolderForItem",{title:e.title}),t[4]=e.title,t[5]=n,t[6]=a):a=t[6],a}case"moveItemsToFolder":if(e.fromFolderName){let a="".concat(e.count," ").concat(n(e.count>1?"general:items":"general:item")),l;return t[7]!==e.fromFolderName||t[8]!==n||t[9]!==a?(l=n("folder:movingFromFolder",{fromFolder:e.fromFolderName,title:a}),t[7]=e.fromFolderName,t[8]=n,t[9]=a,t[10]=l):l=t[10],l}{let a="".concat(e.count," ").concat(n(e.count>1?"general:items":"general:item")),l;return t[11]!==n||t[12]!==a?(l=n("folder:selectFolderForItem",{title:a}),t[11]=n,t[12]=a,t[13]=l):l=t[13],l}}}function pq(e){let t=(0,h.c)(14),{t:n}=(0,d.d)();switch(e.action){case"moveItemToFolder":if(e.toFolderName){let a;return t[0]!==e.title||t[1]!==e.toFolderName||t[2]!==n?(a=(0,f.jsx)(pO,{elements:{1:pX,2:p$},i18nKey:"folder:moveItemToFolderConfirmation",t:n,variables:{title:e.title,toFolder:e.toFolderName}}),t[0]=e.title,t[1]=e.toFolderName,t[2]=n,t[3]=a):a=t[3],a}{let a;return t[4]!==e.title||t[5]!==n?(a=(0,f.jsx)(pO,{elements:{1:pG},i18nKey:"folder:moveItemToRootConfirmation",t:n,variables:{title:e.title}}),t[4]=e.title,t[5]=n,t[6]=a):a=t[6],a}case"moveItemsToFolder":if(e.toFolderName){let a;return t[7]!==e.count||t[8]!==e.toFolderName||t[9]!==n?(a=(0,f.jsx)(pO,{elements:{1:pY,2:pK},i18nKey:"folder:moveItemsToFolderConfirmation",t:n,variables:{count:e.count,label:n(e.count>1?"general:items":"general:item"),toFolder:e.toFolderName}}),t[7]=e.count,t[8]=e.toFolderName,t[9]=n,t[10]=a):a=t[10],a}{let a;return t[11]!==e.count||t[12]!==n?(a=(0,f.jsx)(pO,{elements:{1:pW},i18nKey:"folder:moveItemsToRootConfirmation",t:n,variables:{count:e.count,label:n(e.count>1?"general:items":"general:item")}}),t[11]=e.count,t[12]=n,t[13]=a):a=t[13],a}}}function pW(e){let{children:t}=e;return(0,f.jsx)("strong",{children:t})}function pK(e){let{children:t}=e;return(0,f.jsx)("strong",{children:t})}function pY(e){let{children:t}=e;return(0,f.jsx)("strong",{children:t})}function pG(e){let{children:t}=e;return(0,f.jsx)("strong",{children:t})}function p$(e){let{children:t}=e;return(0,f.jsx)("strong",{children:t})}function pX(e){let{children:t}=e;return(0,f.jsx)("strong",{children:t})}function pQ(e){let t=(0,h.c)(29),{buttonProps:n,className:a,folderCollectionSlug:l,folderFieldName:o}=e,r=void 0===a?"":a,{t:i}=(0,d.d)(),c=eM(pZ),p;t[0]!==o?(p=e=>{let[t]=e;return t&&(null==t?void 0:t[o])||null},t[0]=o,t[1]=p):p=t[1];let m=eM(p),v=null==m?void 0:m.value,{id:g,collectionSlug:b,initialData:x,title:y}=lV(),{setModified:w}=eP(),j;t[2]!==i?(j=()=>"".concat(i("general:loading"),"..."),t[2]=i,t[3]=j):j=t[3];let[C,S]=s.useState(j),{config:_}=(0,u.b)(),k=(0,s.useId)(),N,E;t[4]!==_.routes.api||t[5]!==l||t[6]!==v||t[7]!==i?(N=()=>{(async function(){if(v&&("string"==typeof v||"number"==typeof v)){let e=await (await fetch("".concat(_.routes.api,"/").concat(l,"/").concat(v))).json();S((null==e?void 0:e.name)||i("folder:noFolder"))}else S(i("folder:noFolder"))})()},E=[l,_.routes.api,v,i],t[4]=_.routes.api,t[5]=l,t[6]=v,t[7]=i,t[8]=N,t[9]=E):(N=t[8],E=t[9]),s.useEffect(N,E);let D="move-to-folder-".concat(k),P;t[10]!==m||t[11]!==c||t[12]!==o||t[13]!==w?(P=e=>{let{id:t}=e;m.value!==t&&(c({type:"UPDATE",path:o,value:t}),w(!0))},t[10]=m,t[11]=c,t[12]=o,t[13]=w,t[14]=P):P=t[14];let T=!(null==m?void 0:m.value),R;return t[15]!==n||t[16]!==r||t[17]!==b||t[18]!==l||t[19]!==o||t[20]!==v||t[21]!==C||t[22]!==g||t[23]!==x||t[24]!==D||t[25]!==P||t[26]!==T||t[27]!==y?(R=(0,f.jsx)(pJ,{buttonProps:n,className:r,collectionSlug:b,docData:x,docID:g,docTitle:y,folderCollectionSlug:l,folderFieldName:o,fromFolderID:v,fromFolderName:C,modalSlug:D,onConfirm:P,skipConfirmModal:T}),t[15]=n,t[16]=r,t[17]=b,t[18]=l,t[19]=o,t[20]=v,t[21]=C,t[22]=g,t[23]=x,t[24]=D,t[25]=P,t[26]=T,t[27]=y,t[28]=R):R=t[28],R}function pZ(e){let[,t]=e;return t}var pJ=e=>{let t=(0,h.c)(27),{buttonProps:n,className:a,collectionSlug:l,docData:o,docID:r,docTitle:i,folderCollectionSlug:s,folderFieldName:c,fromFolderID:p,fromFolderName:v,modalSlug:g,onConfirm:b,skipConfirmModal:x}=e,{getEntityConfig:y}=(0,u.b)(),{i18n:w,t:j}=(0,d.d)(),{closeModal:C,openModal:S}=nT(),_=ax(),k;if(t[0]!==n||t[1]!==a||t[2]!==C||t[3]!==l||t[4]!==o||t[5]!==r||t[6]!==i||t[7]!==_||t[8]!==s||t[9]!==c||t[10]!==p||t[11]!==v||t[12]!==y||t[13]!==w||t[14]!==g||t[15]!==b||t[16]!==S||t[17]!==x||t[18]!==j){let e=ah({slug:g,depth:_}),u;t[20]!==l||t[21]!==i||t[22]!==y||t[23]!==w?(u=i||(0,m.i)(y({collectionSlug:l}).labels.singular,w),t[20]=l,t[21]=i,t[22]=y,t[23]=w,t[24]=u):u=t[24];let d=u,h;t[25]!==a?(h=["move-doc-to-folder",a].filter(Boolean),t[25]=a,t[26]=h):h=t[26],k=(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tO,{buttonStyle:"subtle",className:h.join(" "),icon:(0,f.jsx)(pm,{}),iconPosition:"left",onClick:()=>{S(e)},...n,children:v}),(0,f.jsx)(pz,{action:"moveItemToFolder",drawerSlug:e,folderCollectionSlug:s,folderFieldName:c,fromFolderID:p,fromFolderName:v,itemsToMove:[{itemKey:"".concat(l,"-").concat(r),relationTo:l,value:{...o,id:r}}],onConfirm:async t=>{if(p!==t.id&&"function"==typeof b)try{await b(t),t.id?e3.success(j("folder:itemHasBeenMoved",{folderName:'"'.concat(t.name,'"'),title:d})):e3.success(j("folder:itemHasBeenMovedToRoot",{title:d}))}catch(e){}C(e)},skipConfirmModal:x,title:d})]}),t[0]=n,t[1]=a,t[2]=C,t[3]=l,t[4]=o,t[5]=r,t[6]=i,t[7]=_,t[8]=s,t[9]=c,t[10]=p,t[11]=v,t[12]=y,t[13]=w,t[14]=g,t[15]=b,t[16]=S,t[17]=x,t[18]=j,t[19]=k}else k=t[19];return k},p0={x:0,y:0,width:0,height:0,unit:"px"},p1=(e,t,n)=>Math.min(Math.max(e,t),n),p3=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e&&"string"==typeof e).join(" ")},p2=(e,t)=>e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit;function p6(e,t,n){return"%"===e.unit?{...p0,...e,unit:"%"}:{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function p5(e,t,n){return e.unit?"px"===e.unit?{...p0,...e,unit:"px"}:{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:{...p0,...e,unit:"px"}}function p4(e,t,n,a,l){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,i=arguments.length>7&&void 0!==arguments[7]?arguments[7]:a,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:l,c={...e},u=Math.min(o,a),d=Math.min(r,l),p=Math.min(i,a),f=Math.min(s,l);t&&(t>1?(d=(u=r?r*t:u)/t,p=i*t):(u=(d=o?o/t:d)*t,f=s/t)),c.y<0&&(c.height=Math.max(c.height+c.y,d),c.y=0),c.x<0&&(c.width=Math.max(c.width+c.x,u),c.x=0);let h=a-(c.x+c.width);h<0&&(c.x=Math.min(c.x,a-u),c.width+=h);let m=l-(c.y+c.height);if(m<0&&(c.y=Math.min(c.y,l-d),c.height+=m),c.width<u&&(("sw"===n||"nw"==n)&&(c.x-=u-c.width),c.width=u),c.height<d&&(("nw"===n||"ne"==n)&&(c.y-=d-c.height),c.height=d),c.width>p&&(("sw"===n||"nw"==n)&&(c.x-=p-c.width),c.width=p),c.height>f&&(("nw"===n||"ne"==n)&&(c.y-=f-c.height),c.height=f),t){let e=c.width/c.height;if(e<t){let e=Math.max(c.width/t,d);("nw"===n||"ne"==n)&&(c.y-=e-c.height),c.height=e}else if(e>t){let e=Math.max(c.height*t,u);("sw"===n||"nw"==n)&&(c.x-=e-c.width),c.width=e}}return c}var p8={capture:!0,passive:!1},p7=class e extends s.PureComponent{get document(){return document}getBox(){let e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};let{x:t,y:n,width:a,height:l}=e.getBoundingClientRect();return{x:t,y:n,width:a,height:l}}componentDidUpdate(e){let{crop:t,onComplete:n}=this.props;if(n&&!e.crop&&t){let{width:e,height:a}=this.getBox();e&&a&&n(p5(t,e,a),p6(t,e,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,p8),this.document.addEventListener("pointerup",this.onDocPointerDone,p8),this.document.addEventListener("pointercancel",this.onDocPointerDone,p8),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,p8),this.document.removeEventListener("pointerup",this.onDocPointerDone,p8),this.document.removeEventListener("pointercancel",this.onDocPointerDone,p8),this.docMoveBound=!1)}getCropStyle(){let{crop:e}=this.props;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}dragCrop(){let{evData:e}=this,t=this.getBox(),n=this.makePixelCrop(t),a=e.clientX-e.startClientX,l=e.clientY-e.startClientY;return n.x=p1(e.startCropX+a,0,t.width-n.width),n.y=p1(e.startCropY+l,0,t.height-n.height),n}getPointRegion(e,t,n,a){let{evData:l}=this,o=l.clientX-e.x,r=l.clientY-e.y,i;return i=a&&t?"nw"===t||"n"===t||"ne"===t:r<l.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:o<l.startCropX)?i?"nw":"sw":i?"ne":"se"}resolveMinDimensions(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,l=Math.min(n,e.width),o=Math.min(a,e.height);return t&&(l||o)?t>1?l?[l,l/t]:[o*t,o]:o?[o*t,o]:[l,l/t]:[l,o]}resizeCrop(){let{evData:t}=this,{aspect:n=0,maxWidth:a,maxHeight:l}=this.props,o=this.getBox(),[r,i]=this.resolveMinDimensions(o,n,this.props.minWidth,this.props.minHeight),s=this.makePixelCrop(o),c=this.getPointRegion(o,t.ord,r,i),u=t.ord||c,d=t.clientX-t.startClientX,p=t.clientY-t.startClientY;(r&&"nw"===u||"w"===u||"sw"===u)&&(d=Math.min(d,-r)),(i&&"nw"===u||"n"===u||"ne"===u)&&(p=Math.min(p,-i));let f={unit:"px",x:0,y:0,width:0,height:0};"ne"===c?(f.x=t.startCropX,f.width=d,n?f.height=f.width/n:f.height=Math.abs(p),f.y=t.startCropY-f.height):"se"===c?(f.x=t.startCropX,f.y=t.startCropY,f.width=d,n?f.height=f.width/n:f.height=p):"sw"===c?(f.x=t.startCropX+d,f.y=t.startCropY,f.width=Math.abs(d),n?f.height=f.width/n:f.height=p):"nw"===c&&(f.x=t.startCropX+d,f.width=Math.abs(d),n?(f.height=f.width/n,f.y=t.startCropY-f.height):(f.height=Math.abs(p),f.y=t.startCropY+p));let h=p4(f,n,c,o.width,o.height,r,i,a,l);return n||e.xyOrds.indexOf(u)>-1?s=h:e.xOrds.indexOf(u)>-1?(s.x=h.x,s.width=h.width):e.yOrds.indexOf(u)>-1&&(s.y=h.y,s.height=h.height),s.x=p1(s.x,0,o.width-s.width),s.y=p1(s.y,0,o.height-s.height),s}createCropSelection(){let{ariaLabels:t=e.defaultProps.ariaLabels,disabled:n,locked:a,renderSelectionAddon:l,ruleOfThirds:o,crop:r}=this.props,i=this.getCropStyle();if(r)return s.createElement("div",{style:i,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":t.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!a&&s.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},s.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),s.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),s.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),s.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":t.nwDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"nw"),role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":t.nDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"n"),role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":t.neDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"ne"),role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":t.eDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"e"),role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":t.seDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"se"),role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":t.sDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"s"),role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":t.swDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"sw"),role:"button"}),s.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":t.wDragHandle,onKeyDown:e=>this.onHandlerKeyDown(e,"w"),role:"button"})),l&&s.createElement("div",{className:"ReactCrop__selection-addon",onMouseDown:e=>e.stopPropagation()},l(this.state)),o&&s.createElement(s.Fragment,null,s.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),s.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){return p5({...p0,...this.props.crop||{}},e.width,e.height)}render(){let{aspect:e,children:t,circularCrop:n,className:a,crop:l,disabled:o,locked:r,style:i,ruleOfThirds:c}=this.props,{cropIsActive:u,newCropIsBeingDrawn:d}=this.state,p=l?this.createCropSelection():null,f=p3("ReactCrop",a,u&&"ReactCrop--active",o&&"ReactCrop--disabled",r&&"ReactCrop--locked",d&&"ReactCrop--new-crop",l&&e&&"ReactCrop--fixed-aspect",l&&n&&"ReactCrop--circular-crop",l&&c&&"ReactCrop--rule-of-thirds",!this.dragStarted&&l&&!l.width&&!l.height&&"ReactCrop--invisible-crop",n&&"ReactCrop--no-animate");return s.createElement("div",{ref:this.componentRef,className:f,style:i},s.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},t),p)}constructor(){super(...arguments),this.docMoveBound=!1,this.mouseDownOnCrop=!1,this.dragStarted=!1,this.evData={startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0},this.componentRef=(0,s.createRef)(),this.mediaRef=(0,s.createRef)(),this.initChangeCalled=!1,this.state={cropIsActive:!1,newCropIsBeingDrawn:!1},this.onCropPointerDown=e=>{let{crop:t,disabled:n}=this.props,a=this.getBox();if(!t)return;let l=p5(t,a.width,a.height);if(n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let o=e.target.dataset.ord,r=e.clientX,i=e.clientY,s=l.x,c=l.y;if(o){let t=e.clientX-a.x,n=e.clientY-a.y,u=0,d=0;"ne"===o||"e"==o?(u=t-(l.x+l.width),d=n-l.y,s=l.x,c=l.y+l.height):"se"===o||"s"===o?(u=t-(l.x+l.width),d=n-(l.y+l.height),s=l.x,c=l.y):"sw"===o||"w"==o?(u=t-l.x,d=n-(l.y+l.height),s=l.x+l.width,c=l.y):("nw"===o||"n"==o)&&(u=t-l.x,d=n-l.y,s=l.x+l.width,c=l.y+l.height),r=s+a.x+u,i=c+a.y+d}this.evData={startClientX:r,startClientY:i,startCropX:s,startCropY:c,clientX:e.clientX,clientY:e.clientY,isResize:!!o,ord:o},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})},this.onComponentPointerDown=e=>{let{crop:t,disabled:n,locked:a,keepSelection:l,onChange:o}=this.props,r=this.getBox();if(n||a||l&&t)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});let i=e.clientX-r.x,s=e.clientY-r.y,c={unit:"px",x:i,y:s,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:i,startCropY:s,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,o(p5(c,r.width,r.height),p6(c,r.width,r.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})},this.onDocPointerMove=e=>{let t,{crop:n,disabled:a,onChange:l,onDragStart:o}=this.props,r=this.getBox();if(a||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,o&&o(e));let{evData:i}=this;i.clientX=e.clientX,i.clientY=e.clientY,p2(n,t=i.isResize?this.resizeCrop():this.dragCrop())||l(p5(t,r.width,r.height),p6(t,r.width,r.height))},this.onComponentKeyDown=t=>{let{crop:n,disabled:a,onChange:l,onComplete:o}=this.props;if(a)return;let r=t.key,i=!1;if(!n)return;let s=this.getBox(),c=this.makePixelCrop(s),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep;if("ArrowLeft"===r?(c.x-=u,i=!0):"ArrowRight"===r?(c.x+=u,i=!0):"ArrowUp"===r?(c.y-=u,i=!0):"ArrowDown"===r&&(c.y+=u,i=!0),i){t.cancelable&&t.preventDefault(),c.x=p1(c.x,0,s.width-c.width),c.y=p1(c.y,0,s.height-c.height);let e=p5(c,s.width,s.height),n=p6(c,s.width,s.height);l(e,n),o&&o(e,n)}},this.onHandlerKeyDown=(t,n)=>{var a,l;let o,{aspect:r=0,crop:i,disabled:s,minWidth:c=0,minHeight:u=0,maxWidth:d,maxHeight:p,onChange:f,onComplete:h}=this.props,m=this.getBox();if(s||!i||"ArrowUp"!==t.key&&"ArrowDown"!==t.key&&"ArrowLeft"!==t.key&&"ArrowRight"!==t.key)return;t.stopPropagation(),t.preventDefault();let v=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?e.nudgeStepLarge:t.shiftKey?e.nudgeStepMedium:e.nudgeStep,g=p4((a=p5(i,m.width,m.height),l=t.key,o={...a},"ArrowLeft"===l?"nw"===n?(o.x-=v,o.y-=v,o.width+=v,o.height+=v):"w"===n?(o.x-=v,o.width+=v):"sw"===n?(o.x-=v,o.width+=v,o.height+=v):"ne"===n?(o.y+=v,o.width-=v,o.height-=v):"e"===n?o.width-=v:"se"===n&&(o.width-=v,o.height-=v):"ArrowRight"===l&&("nw"===n?(o.x+=v,o.y+=v,o.width-=v,o.height-=v):"w"===n?(o.x+=v,o.width-=v):"sw"===n?(o.x+=v,o.width-=v,o.height-=v):"ne"===n?(o.y-=v,o.width+=v,o.height+=v):"e"===n?o.width+=v:"se"===n&&(o.width+=v,o.height+=v)),"ArrowUp"===l?"nw"===n?(o.x-=v,o.y-=v,o.width+=v,o.height+=v):"n"===n?(o.y-=v,o.height+=v):"ne"===n?(o.y-=v,o.width+=v,o.height+=v):"sw"===n?(o.x+=v,o.width-=v,o.height-=v):"s"===n?o.height-=v:"se"===n&&(o.width-=v,o.height-=v):"ArrowDown"===l&&("nw"===n?(o.x+=v,o.y+=v,o.width-=v,o.height-=v):"n"===n?(o.y+=v,o.height-=v):"ne"===n?(o.y+=v,o.width-=v,o.height-=v):"sw"===n?(o.x-=v,o.width+=v,o.height+=v):"s"===n?o.height+=v:"se"===n&&(o.width+=v,o.height+=v)),o),r,n,m.width,m.height,c,u,d,p);if(!p2(i,g)){let e=p6(g,m.width,m.height);f(g,e),h&&h(g,e)}},this.onDocPointerDone=e=>{let{crop:t,disabled:n,onComplete:a,onDragEnd:l}=this.props,o=this.getBox();this.unbindDocMove(),!(n||!t)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,l&&l(e),a&&a(p5(t,o.width,o.height),p6(t,o.width,o.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))},this.onDragFocus=e=>{var t;null==(t=this.componentRef.current)||t.scrollTo(0,0)}}};p7.xOrds=["e","w"],p7.yOrds=["n","s"],p7.xyOrds=["nw","ne","se","sw"],p7.nudgeStep=1,p7.nudgeStepMedium=10,p7.nudgeStepLarge=100,p7.defaultProps={ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}};var p9="edit-upload",fe=e=>{let{name:t,onChange:n,ref:a,value:l}=e;return(0,f.jsxs)("div",{className:"".concat(p9,"__input"),children:[t,(0,f.jsx)("input",{name:t,onChange:e=>n(e.target.value),ref:a,type:"number",value:l})]})},ft={height:100,unit:"%",width:100,x:0,y:0},fn=e=>{let{fileName:t,fileSrc:n,imageCacheTag:a,initialCrop:l,initialFocalPoint:o,onSave:r,showCrop:i,showFocalPoint:c}=e,{closeModal:u}=nT(),{t:p}=(0,d.d)(),[h,m]=(0,s.useState)(()=>({...ft,...l||{}})),v={x:50,y:50},[g,b]=(0,s.useState)(()=>({...v,...o})),[x,y]=(0,s.useState)(!1),[w,j]=(0,s.useState)(0),[C,S]=(0,s.useState)(0),_=(0,s.useRef)(void 0),k=(0,s.useRef)(void 0),N=(0,s.useRef)(void 0),E=(0,s.useRef)(null),D=(0,s.useRef)(null),[P,T]=(0,s.useState)(!1),R=e=>{j(e.currentTarget.naturalHeight),S(e.currentTarget.naturalWidth),T(!0)},O=e=>{let{dimension:t,value:n}=e,a=parseInt(n);if("width"===t&&a>=C||"height"===t&&a>=w)return null;let l=a/("width"===t?C:w)*100;if(100===l||0===l)return null;m({...h,[t]:l})},L=e=>{let{coordinate:t,value:n}=e,a=parseInt(n);a>=0&&a<=100&&b(e=>({...e,[t]:a}))},F=s.useCallback(e=>{let{x:t,y:n}=e;b({x:t,y:n}),y(!1)},[]),I=a?"".concat(n,"?").concat(encodeURIComponent(a)):n;return(0,f.jsxs)("div",{className:p9,children:[(0,f.jsxs)("div",{className:"".concat(p9,"__header"),children:[(0,f.jsxs)("h2",{title:"".concat(p("general:editing")," ").concat(t),children:[p("general:editing")," ",t]}),(0,f.jsxs)("div",{className:"".concat(p9,"__actions"),children:[(0,f.jsx)(tO,{"aria-label":p("general:cancel"),buttonStyle:"secondary",className:"".concat(p9,"__cancel"),onClick:()=>u(fg),children:p("general:cancel")}),(0,f.jsx)(tO,{"aria-label":p("general:applyChanges"),buttonStyle:"primary",className:"".concat(p9,"__save"),disabled:!P,onClick:()=>{var e,t,n,a;"function"==typeof r&&r({crop:h||void 0,focalPoint:g,heightInPixels:Number(null!==(n=null==E?void 0:null===(e=E.current)||void 0===e?void 0:e.value)&&void 0!==n?n:w),widthInPixels:Number(null!==(a=null==D?void 0:null===(t=D.current)||void 0===t?void 0:t.value)&&void 0!==a?a:C)}),u(fg)},children:p("general:applyChanges")})]})]}),(0,f.jsxs)("div",{className:"".concat(p9,"__toolWrap"),children:[(0,f.jsx)("div",{className:"".concat(p9,"__crop"),children:(0,f.jsxs)("div",{className:"".concat(p9,"__focal-wrapper"),ref:_,style:{aspectRatio:"".concat(C/w)},children:[i?(0,f.jsx)(p7,{className:"".concat(p9,"__reactCrop"),crop:h,onChange:(e,t)=>m(t),onComplete:()=>y(!0),renderSelectionAddon:()=>(0,f.jsx)("div",{className:"".concat(p9,"__crop-window"),ref:N}),children:(0,f.jsx)("img",{alt:p("upload:setCropArea"),onLoad:R,ref:k,src:I})}):(0,f.jsx)("img",{alt:p("upload:setFocalPoint"),onLoad:R,ref:k,src:I}),c&&(0,f.jsx)(fa,{boundsRef:i?N:k,checkBounds:!!i&&x,className:"".concat(p9,"__focalPoint"),containerRef:_,initialPosition:g,onDragEnd:F,setCheckBounds:!!i&&y,children:(0,f.jsx)(tu,{})})]})}),(i||c)&&(0,f.jsxs)("div",{className:"".concat(p9,"__sidebar"),children:[i&&(0,f.jsxs)("div",{className:"".concat(p9,"__groupWrap"),children:[(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"".concat(p9,"__titleWrap"),children:[(0,f.jsx)("h3",{children:p("upload:crop")}),(0,f.jsx)(tO,{buttonStyle:"none",className:"".concat(p9,"__reset"),onClick:()=>m({height:100,unit:"%",width:100,x:0,y:0}),children:p("general:reset")})]})}),(0,f.jsx)("span",{className:"".concat(p9,"__description"),children:p("upload:cropToolDescription")}),(0,f.jsxs)("div",{className:"".concat(p9,"__inputsWrap"),children:[(0,f.jsx)(fe,{name:"".concat(p("upload:width")," (px)"),onChange:e=>O({dimension:"width",value:e}),ref:D,value:(h.width/100*C).toFixed(0)}),(0,f.jsx)(fe,{name:"".concat(p("upload:height")," (px)"),onChange:e=>O({dimension:"height",value:e}),ref:E,value:(h.height/100*w).toFixed(0)})]})]}),c&&(0,f.jsxs)("div",{className:"".concat(p9,"__groupWrap"),children:[(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:"".concat(p9,"__titleWrap"),children:[(0,f.jsx)("h3",{children:p("upload:focalPoint")}),(0,f.jsx)(tO,{buttonStyle:"none",className:"".concat(p9,"__reset"),onClick:()=>{let e=_.current.getBoundingClientRect(),t=i?N.current.getBoundingClientRect():k.current.getBoundingClientRect();b({x:(t.left-e.left+t.width/2)/e.width*100,y:(t.top-e.top+t.height/2)/e.height*100})},children:p("general:reset")})]})}),(0,f.jsx)("span",{className:"".concat(p9,"__description"),children:p("upload:focalPointDescription")}),(0,f.jsxs)("div",{className:"".concat(p9,"__inputsWrap"),children:[(0,f.jsx)(fe,{name:"X %",onChange:e=>L({coordinate:"x",value:e}),value:g.x.toFixed(0)}),(0,f.jsx)(fe,{name:"Y %",onChange:e=>L({coordinate:"y",value:e}),value:g.y.toFixed(0)})]})]})]})]})]})},fa=e=>{let{boundsRef:t,checkBounds:n,children:a,className:l,containerRef:o,initialPosition:r={x:50,y:50},onDragEnd:i,setCheckBounds:c}=e,[u,d]=(0,s.useState)({x:r.x,y:r.y}),[p,h]=(0,s.useState)(!1),m=(0,s.useRef)(void 0),v=s.useCallback((e,n,a)=>{let l=o.current.getBoundingClientRect(),r=t.current.getBoundingClientRect(),i=null!=e?e:r.left,s=null!=n?n:r.top,c=i<r.left||i>r.right,u=s<r.top||s>r.bottom,d=(i-l.left)/l.width*100,p=(s-l.top)/l.height*100,f=(r.left-l.left+r.width/2)/l.width*100,m=(r.top-l.top+r.height/2)/l.height*100;return(c||u)&&(h(!1),i<r.left?d=(r.left-l.left)/l.width*100:i>r.right&&(d=(l.width-(l.right-r.right))/l.width*100),s<r.top?p=(r.top-l.top)/l.height*100:s>r.bottom&&(p=(l.height-(l.bottom-r.bottom))/l.height*100),a&&(d=c?f:d,p=u?m:p)),{x:d,y:p}},[t,o]);return s.useEffect(()=>{if(!(p||!m.current)&&n){let{height:e,left:t,top:n,width:a}=m.current.getBoundingClientRect(),{x:l,y:o}=v(t+a/2,n+e/2,!0);i({x:l,y:o}),d({x:l,y:o}),c(!1);return}},[v,p,n,c,u.x,u.y,i]),s.useEffect(()=>{d({x:r.x,y:r.y})},[r.x,r.y]),(0,f.jsxs)("div",{className:["".concat(p9,"__draggable-container"),p&&"".concat(p9,"__draggable-container--dragging")].filter(Boolean).join(" "),onMouseMove:e=>{if(!p)return null;let{x:t,y:n}=v(e.clientX,e.clientY);d({x:t,y:n})},children:[(0,f.jsx)("button",{className:["".concat(p9,"__draggable"),l].filter(Boolean).join(" "),onMouseDown:e=>{e.preventDefault(),h(!0)},onMouseUp:()=>{h(!1),i(u)},ref:m,style:{left:"".concat(u.x,"%"),top:"".concat(u.y,"%")},type:"button",children:a}),(0,f.jsx)("div",{})]})},fl="file-details-draggable",fo=e=>{let t,n=(0,h.c)(20),{collectionSlug:a,doc:l,hideRemoveFile:o,imageCacheTag:r,isSortable:i,removeItem:s,rowIndex:c,uploadConfig:u}=e,{id:d,filename:p,thumbnailURL:m,url:v}=l,g;n[0]!==a||n[1]!==d?(g={id:d,collectionSlug:a},n[0]=a,n[1]=d,n[2]=g):g=n[2];let[b,x]=c2(g),y;return n[3]!==b||n[4]!==x||n[5]!==a||n[6]!==l||n[7]!==p||n[8]!==o||n[9]!==r||n[10]!==i||n[11]!==s||n[12]!==c||n[13]!==m||n[14]!==u||n[15]!==v?(y=e=>(0,f.jsxs)("div",{className:[fl,e&&i&&"".concat(fl,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:[(0,f.jsxs)("div",{className:"".concat(fl,"--drag-wrapper"),children:[i&&e&&(0,f.jsx)("div",{className:"".concat(fl,"__drag"),...e.attributes,...e.listeners,children:(0,f.jsx)(oa,{})}),(0,f.jsx)(ur,{className:"".concat(fl,"__thumbnail"),collectionSlug:a,doc:l,fileSrc:m||v,imageCacheTag:r,uploadConfig:u})]}),(0,f.jsx)("div",{className:"".concat(fl,"__main-detail"),children:p}),(0,f.jsxs)("div",{className:"".concat(fl,"__actions"),children:[(0,f.jsx)(b,{}),(0,f.jsx)(x,{children:(0,f.jsx)(ts,{})}),!o&&s&&(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(fl,"__remove"),icon:"x",iconStyle:"none",onClick:()=>s(c),round:!0})]})]}),n[3]=b,n[4]=x,n[5]=a,n[6]=l,n[7]=p,n[8]=o,n[9]=r,n[10]=i,n[11]=s,n[12]=c,n[13]=m,n[14]=u,n[15]=v,n[16]=y):y=n[16],n[17]!==d||n[18]!==y?(t=(0,f.jsx)(nn,{id:d,children:y},d),n[17]=d,n[18]=y,n[19]=t):t=n[19],t},fr=e=>{let{defaultMessage:t,successMessage:n,value:a}=e,l=(0,s.useRef)(null),[o,r]=(0,s.useState)(!1),[i,c]=(0,s.useState)(!1),{t:u}=(0,d.d)();return a?(0,f.jsxs)("button",{className:"copy-to-clipboard",onClick:()=>{l&&l.current&&(l.current.select(),l.current.setSelectionRange(0,a.length+1),document.execCommand("copy"),r(!0))},onMouseEnter:()=>{c(!0),r(!1)},onMouseLeave:()=>{c(!1),r(!1)},type:"button",children:[(0,f.jsx)(tB,{}),(0,f.jsxs)(tP,{delay:o?0:void 0,show:i||o,children:[o&&(null!=n?n:u("general:copied")),!o&&(null!=t?t:u("general:copy"))]}),(0,f.jsx)("textarea",{readOnly:!0,ref:l,tabIndex:-1,value:a})]}):null},fi="file-meta",fs=e=>{let{filename:t,filesize:n,height:a,mimeType:l,url:o,width:r}=e;return(0,f.jsxs)("div",{className:fi,children:[(0,f.jsxs)("div",{className:"".concat(fi,"__url"),children:[(0,f.jsx)("a",{href:o,rel:"noopener noreferrer",target:"_blank",children:t}),(0,f.jsx)(fr,{defaultMessage:"Copy URL",value:o})]}),(0,f.jsxs)("div",{className:"".concat(fi,"__size-type"),children:[(0,q.D)(n),"number"==typeof r&&"number"==typeof a&&(0,f.jsxs)(s.Fragment,{children:["\xa0-\xa0",r,"x",a]}),l&&(0,f.jsxs)(s.Fragment,{children:["\xa0-\xa0",l]})]})]})},fc="file-details",fu=e=>{var t;let{customUploadActions:n,doc:a,enableAdjustments:l,handleRemove:o,hasImageSizes:r,hideRemoveFile:i,imageCacheTag:s,uploadConfig:c}=e,{filename:u,filesize:d,height:p,mimeType:h,thumbnailURL:m,url:v,width:g}=a,b=null===(t=c.displayPreview)||void 0===t||t;return(0,f.jsx)("div",{className:fc,children:(0,f.jsxs)("header",{children:[b&&(0,f.jsx)(ur,{className:"".concat(fc,"__thumbnail"),doc:a,fileSrc:m||v,imageCacheTag:s,uploadConfig:c}),(0,f.jsxs)("div",{className:"".concat(fc,"__main-detail"),children:[(0,f.jsx)(fs,{filename:u,filesize:d,height:p,mimeType:h,url:v,width:g}),(l||r&&a.filename||n)&&(0,f.jsx)(fy,{customActions:n,enableAdjustments:!!l,enablePreviewSizes:r&&a.filename,mimeType:h})]}),!i&&o&&(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(fc,"__remove"),icon:"x",iconStyle:"with-border",onClick:o,round:!0})]})})},fd=e=>{let{hasMany:t}=e;return t?(0,f.jsx)(fo,{...e}):(0,f.jsx)(fu,{...e})},fp="preview-sizes",ff=(e,t)=>{if(!t||0===t.length)return e;let n={};return t.forEach(t=>{let{name:a}=t;e[a]&&(n[a]=e[a])}),n},fh=e=>{let{name:t,active:n,meta:a,onClick:l,previewSrc:o}=e;return(0,f.jsxs)("div",{className:["".concat(fp,"__sizeOption"),n&&"".concat(fp,"--selected")].filter(Boolean).join(" "),onClick:"function"==typeof l?l:void 0,onKeyDown:e=>{"function"==typeof l&&"Enter"===e.key&&l()},role:"button",tabIndex:0,children:[(0,f.jsx)("div",{className:"".concat(fp,"__image"),children:(0,f.jsx)("img",{alt:a.filename,src:o})}),(0,f.jsxs)("div",{className:"".concat(fp,"__sizeMeta"),children:[(0,f.jsx)("div",{className:"".concat(fp,"__sizeName"),children:t}),(0,f.jsx)(fs,{...a})]})]})},fm=e=>{let{doc:t,imageCacheTag:n,uploadConfig:a}=e,{imageSizes:l}=a,{sizes:o}=t,[r,i]=(0,s.useState)(()=>ff(o,l)),[c,u]=(0,s.useState)(null),d=e=>e.filename?e.url?"".concat(e.url).concat(n?"?".concat(encodeURIComponent(n)):""):void 0:null;(0,s.useEffect)(()=>{i(ff(o,l))},[o,l,n]);let p=d(c?t.sizes[c]:t),h=(0,s.useMemo)(()=>({filename:t.filename,filesize:t.filesize,height:t.height,mimeType:t.mimeType,url:t.url,width:t.width}),[t]),m="Original";return(0,f.jsxs)("div",{className:fp,children:[(0,f.jsxs)("div",{className:"".concat(fp,"__imageWrap"),children:[(0,f.jsxs)("div",{className:"".concat(fp,"__meta"),children:[(0,f.jsx)("div",{className:"".concat(fp,"__sizeName"),children:c||m}),(0,f.jsx)(fs,{...c?r[c]:h})]}),(0,f.jsx)("img",{alt:t.filename,className:"".concat(fp,"__preview"),src:p})]}),(0,f.jsx)("div",{className:"".concat(fp,"__listWrap"),children:(0,f.jsxs)("div",{className:"".concat(fp,"__list"),children:[(0,f.jsx)(fh,{active:!c,meta:h,name:m,onClick:()=>u(null),previewSrc:d(t)}),Object.entries(r).map(e=>{let[t,n]=e,a=c===t,l=d(n);return l?(0,f.jsx)(fh,{active:a,meta:n,name:t,onClick:()=>u(t),previewSrc:l},t):null})]})})]})},fv="file-field",fg="edit-upload",fb="preview-sizes",fx=e=>!!e||void 0===e||"A file is required.",fy=e=>{let t=(0,h.c)(10),{customActions:n,enableAdjustments:a,enablePreviewSizes:l,mimeType:o}=e,{t:r}=(0,d.d)(),{openModal:i}=nT(),c,u;if(t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==o||t[4]!==i||t[5]!==r){u=Symbol.for("react.early_return_sentinel");e:{let e,d=(0,T.O)(o)&&"image/svg+xml"!==o&&"image/jxl"!==o;if(!d&&(!n||0===n.length)){u=null;break e}t[8]!==n?(e=n&&n.map(fC),t[8]=n,t[9]=e):e=t[9],c=(0,f.jsxs)("div",{className:"".concat(fv,"__upload-actions"),children:[d&&(0,f.jsxs)(s.Fragment,{children:[l&&(0,f.jsx)(tO,{buttonStyle:"pill",className:"".concat(fv,"__previewSizes"),margin:!1,onClick:()=>{i(fb)},size:"small",children:r("upload:previewSizes")}),a&&(0,f.jsx)(tO,{buttonStyle:"pill",className:"".concat(fv,"__edit"),margin:!1,onClick:()=>{i(fg)},size:"small",children:r("upload:editImage")})]}),e]})}t[0]=n,t[1]=a,t[2]=l,t[3]=o,t[4]=i,t[5]=r,t[6]=c,t[7]=u}else c=t[6],u=t[7];return u!==Symbol.for("react.early_return_sentinel")?u:c},fw=e=>{let t=(0,h.c)(5),{resetUploadEdits:n,updateUploadEdits:a,uploadEdits:l}=lA(),o;return t[0]!==e||t[1]!==n||t[2]!==a||t[3]!==l?(o=(0,f.jsx)(dW,{children:(0,f.jsx)(fj,{...e,resetUploadEdits:n,updateUploadEdits:a,uploadEdits:l})}),t[0]=e,t[1]=n,t[2]=a,t[3]=l,t[4]=o):o=t[4],o},fj=e=>{var t,n,a,l,o,r;let{collectionSlug:i,customActions:c,initialState:p,onChange:h,resetUploadEdits:m,updateUploadEdits:v,uploadConfig:g,UploadControls:b,uploadEdits:x}=e,{setUploadControlFile:y,setUploadControlFileName:w,setUploadControlFileUrl:j,uploadControlFile:C,uploadControlFileName:S,uploadControlFileUrl:_}=dK(),{config:{routes:{api:k},serverURL:N}}=(0,u.b)(),{t:E}=(0,d.d)(),{setModified:D}=eP(),{id:P,docPermissions:R,savedDocumentData:O,setUploadStatus:L}=lV(),F=eL(),{errorMessage:I,setValue:A,showError:M,value:B}=lX({path:"file",validate:fx}),[z,U]=(0,s.useState)(null),[V,H]=(0,s.useState)(!1),[q,W]=(0,s.useState)((null==B?void 0:B.name)||""),[K,Y]=(0,s.useState)(!1),[G,$]=(0,s.useState)(""),X=(0,s.useRef)(null),Q=(0,s.useRef)(null),Z="object"==typeof(null==g?void 0:g.pasteURL)&&(null===(t=g.pasteURL.allowList)||void 0===t?void 0:t.length)>0,J=(0,s.useCallback)(e=>{e instanceof File&&U(URL.createObjectURL(e)),A(e),Y(!1),j(""),w(null),y(null),"function"==typeof h&&h(e)},[h,A,y,w,j]),ee=(e,t)=>new File([e],t,{type:e.type,lastModified:e.lastModified}),et=s.useCallback(e=>{let t=e.target.value;B&&(J(ee(B,t)),W(t))},[J,B]),en=(0,s.useCallback)(e=>{J(null==e?void 0:e[0])},[J]),ea=(0,s.useCallback)(()=>{H(!0),J(null),U(""),$(""),m(),Y(!1),j(""),w(null),y(null)},[J,m,y,w,j]),el=(0,s.useCallback)(e=>{D(!0),v(e)},[D,v]),eo=(0,s.useCallback)(async()=>{if(!(!G||(null==g?void 0:g.pasteURL)===!1)){L("uploading");try{let e=await fetch(G);if(!e.ok)throw Error("Fetch failed with status: ".concat(e.status));let t=await e.blob(),n=S||decodeURIComponent(G.split("/").pop()||""),a=new File([t],n,{type:t.type});J(a),L("idle");return}catch(e){if(!Z){e3.error("Failed to fetch the file."),L("failed");return}}try{let e="/".concat(i,"/paste-url").concat(P?"/".concat(P,"?"):"?","src=").concat(encodeURIComponent(G)),t=await fetch("".concat(N).concat(k).concat(e));if(!t.ok)throw Error("Fetch failed with status: ".concat(t.status));let n=await t.blob(),a=decodeURIComponent(G.split("/").pop()||""),l=new File([n],a,{type:n.type});J(l),L("idle")}catch(e){e3.error("The provided URL is not allowed."),L("failed")}}},[k,i,G,J,P,N,L,g,S,Z]);(0,s.useEffect)(()=>{var e;(null==p?void 0:null===(e=p.file)||void 0===e?void 0:e.value)instanceof File&&(U(URL.createObjectURL(p.file.value)),H(!1))},[p]),(0,s.useEffect)(()=>{K&&X.current},[K]),(0,s.useEffect)(()=>{F&&H(!1)},[F]);let er=(null==R?void 0:R.update)&&"delete"in R&&(null==R?void 0:R.delete),ei=(null==g?void 0:null===(n=g.imageSizes)||void 0===n?void 0:n.length)>0,es=!!(null==g?void 0:g.resizeOptions),ec=(null==g?void 0:g.focalPoint)===!0,{crop:eu=!0,focalPoint:ed=!0}=g,ep=ed&&(ei||es||ec),ef=null===(a=g.mimeTypes)||void 0===a?void 0:a.join(", "),eh=(null==g?void 0:g.cacheTags)&&(null==O?void 0:O.updatedAt);return(0,s.useEffect)(()=>{(async()=>{_&&($(_),await eo())})()},[_,eo]),(0,s.useEffect)(()=>{C&&J(C)},[C,J]),(0,f.jsxs)("div",{className:[l1,fv].filter(Boolean).join(" "),children:[(0,f.jsx)(ns,{message:I,showError:M}),O&&O.filename&&!V&&(0,f.jsx)(fd,{collectionSlug:i,customUploadActions:c,doc:O,enableAdjustments:eu||ep,handleRemove:er?ea:void 0,hasImageSizes:ei,hideRemoveFile:g.hideRemoveFile,imageCacheTag:eh,uploadConfig:g}),(!g.hideFileInputOnCreate&&!(null==O?void 0:O.filename)||V)&&(0,f.jsxs)("div",{className:"".concat(fv,"__upload"),children:[!B&&!K&&(0,f.jsx)(dG,{onChange:en,children:(0,f.jsxs)("div",{className:"".concat(fv,"__dropzoneContent"),children:[(0,f.jsxs)("div",{className:"".concat(fv,"__dropzoneButtons"),children:[(0,f.jsx)(tO,{buttonStyle:"pill",onClick:()=>{Q.current&&Q.current.click()},size:"small",children:E("upload:selectFile")}),(0,f.jsx)("input",{accept:ef,"aria-hidden":"true",className:"".concat(fv,"__hidden-input"),hidden:!0,onChange:e=>{e.target.files&&e.target.files.length>0&&en(e.target.files)},ref:Q,type:"file"}),(null==g?void 0:g.pasteURL)!==!1&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("span",{className:"".concat(fv,"__orText"),children:E("general:or")}),(0,f.jsx)(tO,{buttonStyle:"pill",onClick:()=>{Y(!0),j(""),y(null),w(null)},size:"small",children:E("upload:pasteURL")})]}),b||null]}),(0,f.jsxs)("p",{className:"".concat(fv,"__dragAndDropText"),children:[E("general:or")," ",E("upload:dragAndDrop")]})]})}),K&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)("div",{className:"".concat(fv,"__remote-file-wrap"),children:[(0,f.jsx)("input",{className:"".concat(fv,"__remote-file"),onChange:e=>{$(e.target.value)},ref:X,title:G,type:"text",value:G}),(0,f.jsx)("div",{className:"".concat(fv,"__add-file-wrap"),children:(0,f.jsx)("button",{className:"".concat(fv,"__add-file"),onClick:()=>{eo()},type:"button",children:E("upload:addFile")})})]}),(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(fv,"__remove"),icon:"x",iconStyle:"with-border",onClick:()=>{Y(!1),j(""),y(null),w(null)},round:!0,tooltip:E("general:cancel")})]}),B&&z&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("div",{className:"".concat(fv,"__thumbnail-wrap"),children:(0,f.jsx)(ur,{collectionSlug:i,fileSrc:(0,T.O)(B.type)?z:null})}),(0,f.jsxs)("div",{className:"".concat(fv,"__file-adjustments"),children:[(0,f.jsx)("input",{className:"".concat(fv,"__filename"),onChange:et,title:q||B.name,type:"text",value:q||B.name}),(0,f.jsx)(fy,{customActions:c,enableAdjustments:eu||ep,enablePreviewSizes:ei&&(null==O?void 0:O.filename)&&!V,mimeType:B.type})]}),(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(fv,"__remove"),icon:"x",iconStyle:"with-border",onClick:ea,round:!0,tooltip:E("general:cancel")})]})]}),(B||(null==O?void 0:O.filename))&&(0,f.jsx)(nu,{children:(0,f.jsx)(av,{Header:null,slug:fg,children:(0,f.jsx)(fn,{fileName:(null==B?void 0:B.name)||(null==O?void 0:O.filename),fileSrc:(null==O?void 0:O.url)||z,imageCacheTag:eh,initialCrop:null!==(r=null==x?void 0:x.crop)&&void 0!==r?r:void 0,initialFocalPoint:{x:(null==x?void 0:null===(l=x.focalPoint)||void 0===l?void 0:l.x)||(null==O?void 0:O.focalX)||50,y:(null==x?void 0:null===(o=x.focalPoint)||void 0===o?void 0:o.y)||(null==O?void 0:O.focalY)||50},onSave:el,showCrop:eu,showFocalPoint:ep})})}),O&&ei&&(0,f.jsx)(av,{className:"".concat(fv,"__previewDrawer"),hoverTitle:!0,slug:fb,title:E("upload:sizesFor",{label:O.filename}),children:(0,f.jsx)(fm,{doc:O,imageCacheTag:eh,uploadConfig:g})})]})};function fC(e,t){return(0,f.jsx)(s.Fragment,{children:e},t)}function fS(e){let{resetUploadEdits:t,submitted:n,updateUploadEdits:a,uploadEdits:l}=e,{action:o,collectionSlug:r,docPermissions:i,getDocPreferences:c,hasSavePermission:d,initialState:p,isInitializing:h,Upload:m}=lV(),{onSave:v}=cQ(),{getFormState:g}=cE(),{config:{folders:b},getEntityConfig:x}=(0,u.b)(),y=s.useRef(null),w=x({collectionSlug:r}),{reportUpdate:j}=pp(),C=w.slug,[S]=s.useState(C),_=(0,s.useCallback)(e=>{var n;j({entitySlug:C,updatedAt:(null==e?void 0:null===(n=e.result)||void 0===n?void 0:n.updatedAt)||new Date().toISOString()}),"function"==typeof v&&v({...e,operation:"create"}),t()},[C,v,j,t]),k=(0,s.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=cG(y),l=await c(),{state:o}=await g({collectionSlug:C,docPermissions:i,docPreferences:l,formState:t,operation:"create",schemaPath:S,signal:a.signal,skipValidation:!n});return y.current=null,o},[C,S,c,g,i]);return(0,s.useEffect)(()=>{let e=y.current;return()=>{cY(e)}},[]),(0,f.jsx)(lK,{operation:"create",children:(0,f.jsxs)(dN,{action:o,className:"".concat("collection-edit","__form"),disabled:h||!d,initialState:h?void 0:p,isInitializing:h,method:"POST",onChange:[k],onSuccess:_,submitted:n,children:[(0,f.jsx)(ph,{BeforeFields:(0,f.jsx)(s.Fragment,{children:m||(0,f.jsx)(fj,{collectionSlug:w.slug,customActions:[b&&w.folders&&(0,f.jsx)(pQ,{buttonProps:{buttonStyle:"pill",size:"small"},folderCollectionSlug:b.slug,folderFieldName:b.fieldName},"move-doc-to-folder")].filter(Boolean),initialState:p,resetUploadEdits:t,updateUploadEdits:a,uploadConfig:w.upload,uploadEdits:l})}),docPermissions:i,fields:w.fields,schemaPathSegments:[w.slug]}),(0,f.jsx)(fk,{}),(0,f.jsx)(f_,{})]})})}function f_(){let{getFields:e}=eP(),{getFormDataRef:t}=d5();return(0,s.useEffect)(()=>{t.current=e},[e,t]),null}function fk(){let{docConfig:e}=lV(),{activeIndex:t,setFormTotalErrorCount:n}=d5(),a=s.useRef(0),l=s.useCallback(e=>{e!==a.current&&(n({errorCount:e,index:t}),a.current=e)},[t,n]);return e?(0,f.jsx)(oq,{fields:e.fields,path:[],setErrorCount:l}):null}var fN=e=>new Promise((t,n)=>{let a=new Image;a.src=URL.createObjectURL(e),a.onload=()=>{let l,o,r=a.width/a.height;r>1?(o=280,l=280/r):(o=280*r,l=280);let i=new OffscreenCanvas(o,l),s=i.getContext("2d"),c="image/png"===e.type?"image/png":"image/jpeg",u="image/png"===e.type?void 0:.8;s.drawImage(a,0,0,o,l),i.convertToBlob({type:c,...u&&{quality:u}}).then(e=>{URL.revokeObjectURL(a.src);let l=new FileReader;l.onload=()=>t(l.result),l.onerror=n,l.readAsDataURL(e)}).catch(n)},a.onerror=e=>{URL.revokeObjectURL(a.src),n(e)}}),fE="bulk-upload-drawer--add-more-files",fD="file-selections";function fP(){let e=(0,h.c)(34),{activeIndex:t,addFiles:n,forms:a,isInitializing:l,removeFile:o,setActiveIndex:r,totalErrorCount:i}=d5(),{initialFiles:c,maxFiles:u}=fz(),{i18n:p,t:m}=(0,d.d)(),{closeModal:v,openModal:g}=nT(),[b,x]=s.useState(!1),{breakpoints:y}=ty(),w;e[0]!==o?(w=e=>{o(e)},e[0]=o,e[1]=w):w=e[1];let j=w,C;e[2]!==n||e[3]!==v?(C=e=>{n(e),v(fE)},e[2]=n,e[3]=v,e[4]=C):C=e[4];let S=C,_=l?c.length:a.length,k=b&&"".concat(fD,"__showingFiles"),N;e[5]!==k?(N=[fD,k].filter(Boolean),e[5]=k,e[6]=N):N=e[6];let E=N.join(" "),D;if(e[7]!==t||e[8]!==y.m||e[9]!==v||e[10]!==a||e[11]!==S||e[12]!==j||e[13]!==p||e[14]!==c||e[15]!==l||e[16]!==u||e[17]!==g||e[18]!==r||e[19]!==b||e[20]!==m||e[21]!==E||e[22]!==i||e[23]!==_){let n,o,s;e[25]===Symbol.for("react.memo_cache_sentinel")?(n=()=>x(fR),e[25]=n):n=e[25],e[26]!==v?(o=()=>v(fE),e[26]=v,e[27]=o):o=e[27],e[28]!==t||e[29]!==j||e[30]!==p||e[31]!==r||e[32]!==m?(s=(e,n)=>{var a;let l,o;let{errorCount:i,formID:s,formState:c}=e,u=(null==c?void 0:null===(a=c.file)||void 0===a?void 0:a.value)||{};return(0,f.jsxs)("div",{className:["".concat(fD,"__fileRowContainer"),n===t&&"".concat(fD,"__fileRowContainer--active"),i&&i>0&&"".concat(fD,"__fileRowContainer--error")].filter(Boolean).join(" "),children:[(0,f.jsxs)("button",{className:"".concat(fD,"__fileRow"),onClick:()=>r(n),type:"button",children:[(0,f.jsx)(fO,{file:u,formID:s}),(0,f.jsx)("div",{className:"".concat(fD,"__fileDetails"),children:(0,f.jsx)("p",{className:"".concat(fD,"__fileName"),title:u.name,children:u.name||m("upload:noFile")})}),u instanceof File?(0,f.jsx)("p",{className:"".concat(fD,"__fileSize"),children:(o=0===(l=u.size)?0:Math.floor(Math.log(l)/Math.log(1024)),(l/Math.pow(1024,o)).toFixed(o>1?1:0)+" "+["B","kB","MB","GB","TB"][o])}):null,(0,f.jsx)("div",{className:"".concat(fD,"__remove ").concat(fD,"__remove--underlay"),children:(0,f.jsx)(d.a,{})}),i?(0,f.jsx)(no,{className:"".concat(fD,"__errorCount"),count:i,i18n:p}):null]}),(0,f.jsx)("button",{"aria-label":m("general:remove"),className:"".concat(fD,"__remove ").concat(fD,"__remove--overlay"),onClick:()=>j(n),type:"button",children:(0,f.jsx)(d.a,{})})]},s)},e[28]=t,e[29]=j,e[30]=p,e[31]=r,e[32]=m,e[33]=s):s=e[33],D=(0,f.jsxs)("div",{className:E,children:[y.m&&b?(0,f.jsx)("div",{className:"".concat(fD,"__mobileBlur")}):null,(0,f.jsxs)("div",{className:"".concat(fD,"__header"),children:[(0,f.jsxs)("div",{className:"".concat(fD,"__headerTopRow"),children:[(0,f.jsxs)("div",{className:"".concat(fD,"__header__text"),children:[(0,f.jsx)(no,{count:i,i18n:p,withMessage:!0}),(0,f.jsx)("p",{children:(0,f.jsxs)("strong",{title:"".concat(_," ").concat(m(_>1?"upload:filesToUpload":"upload:fileToUpload")),children:[_," ",m(_>1?"upload:filesToUpload":"upload:fileToUpload")]})})]}),(0,f.jsxs)("div",{className:"".concat(fD,"__header__actions"),children:["number"!=typeof u||_<u?(0,f.jsx)(om,{className:"".concat(fD,"__header__addFile"),onClick:()=>g(fE),size:"small",children:m("upload:addFile")}):null,(0,f.jsxs)(tO,{buttonStyle:"transparent",className:"".concat(fD,"__toggler"),onClick:n,children:[(0,f.jsx)("span",{className:"".concat(fD,"__toggler__label"),children:(0,f.jsxs)("strong",{title:"".concat(_," ").concat(m(_>1?"upload:filesToUpload":"upload:fileToUpload")),children:[_," ",m(_>1?"upload:filesToUpload":"upload:fileToUpload")]})}),(0,f.jsx)(ti,{direction:b?"down":"up"})]}),(0,f.jsx)(av,{gutter:!1,Header:null,slug:fE,children:(0,f.jsx)(dZ,{onCancel:o,onDrop:S})})]})]}),(0,f.jsx)("div",{className:"".concat(fD,"__header__mobileDocActions"),children:(0,f.jsx)(pi,{})})]}),(0,f.jsx)("div",{className:"".concat(fD,"__animateWrapper"),children:(0,f.jsx)(oo,{height:!y.m||b?"auto":0,children:(0,f.jsxs)("div",{className:"".concat(fD,"__filesContainer"),children:[l&&0===a.length&&c.length>0?Array.from(c).map(fT):null,a.map(s)]})})})]}),e[7]=t,e[8]=y.m,e[9]=v,e[10]=a,e[11]=S,e[12]=j,e[13]=p,e[14]=c,e[15]=l,e[16]=u,e[17]=g,e[18]=r,e[19]=b,e[20]=m,e[21]=E,e[22]=i,e[23]=_,e[24]=D}else D=e[24];return D}function fT(e,t){return(0,f.jsx)(u.d,{animationDelay:"calc(".concat(t," * 60ms)"),height:"35px"},t)}function fR(e){return!e}function fO(e){let{file:t,formID:n}=e,[a,l]=s.useState(null),[o,r]=s.useState(!0);return s.useEffect(()=>{let e=!1;return async function(){r(!0),l(null);try{if((0,T.O)(t.type)){let n=await fN(t);e||l(n)}else l(null)}catch(t){e||l(null)}finally{e||r(!1)}}(),()=>{e=!0}},[t]),o?(0,f.jsx)(u.d,{className:"".concat(fD,"__thumbnail-shimmer"),disableInlineStyles:!0}):(0,f.jsx)(ur,{className:"".concat(fD,"__thumbnail"),fileSrc:a},"".concat(n,"-").concat(a||"placeholder"))}var fL="bulk-upload--file-manager";function fF(){let e=(0,h.c)(18),{activeIndex:t,collectionSlug:n,docPermissions:a,documentSlots:l,forms:o,hasPublishPermission:r,hasSavePermission:i,hasSubmitted:s,resetUploadEdits:c,updateUploadEdits:p}=d5(),v=o[t],{getEntityConfig:g}=(0,u.b)(),{i18n:b}=(0,d.d)(),{user:x}=aD(),{openModal:y}=nT(),w;if(e[0]!==v||e[1]!==t||e[2]!==n||e[3]!==a||e[4]!==l||e[5]!==o.length||e[6]!==g||e[7]!==r||e[8]!==i||e[9]!==s||e[10]!==b||e[11]!==y||e[12]!==c||e[13]!==p||e[14]!==x){let u=g({collectionSlug:n}),d;e[16]!==y?(d=()=>y(ps),e[16]=y,e[17]=d):d=e[17],w=(0,f.jsxs)("div",{className:fL,children:[(0,f.jsx)(fP,{}),(0,f.jsxs)("div",{className:"".concat(fL,"__editView"),children:[(0,f.jsx)(dX,{onClose:d,title:(0,m.i)(u.labels.singular,b)}),v?(0,f.jsxs)(lq,{collectionSlug:n,currentEditor:x,docPermissions:a,hasPublishedDoc:!1,hasPublishPermission:r,hasSavePermission:i,id:null,initialData:(0,A.Q)(v.formState,!0),initialState:v.formState,isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,Upload:l.Upload,versionCount:0,children:[(0,f.jsx)(pr,{collectionConfig:u}),(0,f.jsx)(fS,{resetUploadEdits:c,submitted:s,updateUploadEdits:p,uploadEdits:null==v?void 0:v.uploadEdits})]},"".concat(t,"-").concat(o.length)):null]}),(0,f.jsx)(pc,{})]}),e[0]=v,e[1]=t,e[2]=n,e[3]=a,e[4]=l,e[5]=o.length,e[6]=g,e[7]=r,e[8]=i,e[9]=s,e[10]=b,e[11]=y,e[12]=c,e[13]=p,e[14]=x,e[15]=w}else w=e[15];return w}function fI(){var e,t;let{addFiles:n,forms:a,isInitializing:l}=d5(),{closeModal:o}=nT(),{collectionSlug:r,drawerSlug:i}=fz(),{getEntityConfig:c}=(0,u.b)(),{t:p}=(0,d.d)(),h=null===(t=c({collectionSlug:r}))||void 0===t?void 0:null===(e=t.upload)||void 0===e?void 0:e.mimeTypes,m=s.useCallback(e=>{let t=new DataTransfer;for(let n of e)(void 0===h||0===h.length||(0,z.b)(n.type,h))&&t.items.add(n);0===t.files.length?e3.error(p("error:invalidFileType")):n(t.files)},[n,p,h]);return r?a.length||l?(0,f.jsx)(fF,{}):(0,f.jsx)(dZ,{acceptMimeTypes:null==h?void 0:h.join(", "),onCancel:()=>o(i),onDrop:m}):null}function fA(){let e=(0,h.c)(2),{drawerSlug:t}=fz(),n;return e[0]!==t?(n=(0,f.jsx)(av,{gutter:!1,Header:null,slug:t,children:(0,f.jsx)(d6,{children:(0,f.jsx)(dW,{children:(0,f.jsx)(nu,{children:(0,f.jsx)(fI,{})})})})}),e[0]=t,e[1]=n):n=e[1],n}var fM=s.createContext({collectionSlug:"",drawerSlug:"",initialFiles:void 0,maxFiles:void 0,onCancel:()=>null,onSuccess:()=>null,setCollectionSlug:()=>null,setInitialFiles:()=>null,setMaxFiles:()=>null,setOnCancel:()=>null,setOnSuccess:()=>null});function fB(e){let t,n,a=(0,h.c)(14),{children:l,drawerSlugPrefix:o}=e,[r,i]=s.useState(),[c,u]=s.useState(),[d,p]=s.useState(),[m,v]=s.useState(void 0),[g,b]=s.useState(void 0),x="".concat(o?"".concat(o,"-"):"").concat(fU()),y;a[0]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{i(e)},a[0]=y):y=a[0];let w=y,j;a[1]===Symbol.for("react.memo_cache_sentinel")?(j=e=>{u(()=>e)},a[1]=j):j=a[1];let C=j,S;return a[2]!==d?(S=()=>{"function"==typeof d&&d()},a[2]=d,a[3]=S):S=a[3],a[4]!==c?(t=(e,t)=>{"function"==typeof c&&c(e,t)},a[4]=c,a[5]=t):t=a[5],a[6]!==l||a[7]!==r||a[8]!==x||a[9]!==m||a[10]!==g||a[11]!==S||a[12]!==t?(n=(0,f.jsx)(fM,{value:{collectionSlug:r,drawerSlug:x,initialFiles:m,maxFiles:g,onCancel:S,onSuccess:t,setCollectionSlug:w,setInitialFiles:v,setMaxFiles:b,setOnCancel:p,setOnSuccess:C},children:(0,f.jsxs)(s.Fragment,{children:[l,(0,f.jsx)(fA,{})]})}),a[6]=l,a[7]=r,a[8]=x,a[9]=m,a[10]=g,a[11]=S,a[12]=t,a[13]=n):n=a[13],n}var fz=()=>s.use(fM);function fU(){let e=ax();return"".concat("bulk-upload-drawer-slug","-").concat(e||1)}var fV="upload-relationship-details";function fH(e){var t,n;let a,l;let o=(0,h.c)(34),{id:r,allowEdit:i,allowRemove:s,alt:c,byteSize:d,className:p,collectionSlug:m,displayPreview:v,filename:g,mimeType:b,onRemove:x,reloadDoc:y,src:w,thumbnailSrc:j,withMeta:C,x:S,y:_}=e,k=void 0===C||C,{config:N}=(0,u.b)(),E;o[0]!==m||o[1]!==N?(E="collections"in N?N.collections.find(e=>e.slug===m):void 0,o[0]=m,o[1]=N,o[2]=E):E=o[2];let D=E,P=w?r:void 0,T;o[3]!==m||o[4]!==P?(T={id:P,collectionSlug:m},o[3]=m,o[4]=P,o[5]=T):T=o[5];let[R,,O]=c2(T),{openDrawer:L}=O,F;o[6]!==m||o[7]!==y?(F=async e=>{let{doc:t}=e;return y(t.id,m)},o[6]=m,o[7]=y,o[8]=F):F=o[8];let I=F,A;o[9]!==S||o[10]!==_?(A=function(e,t){let n=[];return t&&n.push((0,q.D)(t)),S&&_&&n.push("".concat(S,"x").concat(_)),e&&n.push(e),n.join(" — ")},o[9]=S,o[10]=_,o[11]=A):A=o[11];let M=k?A(b,d):"",B=null===(n=null!=v?v:null===(t=D.upload)||void 0===t?void 0:t.displayPreview)||void 0===n||n,z;o[12]!==p?(z=[fV,p].filter(Boolean),o[12]=p,o[13]=z):z=o[13];let U=z.join(" "),V;return o[14]!==c||o[15]!==g||o[16]!==B||o[17]!==j?(V=B&&(0,f.jsx)(ui,{alt:c,className:"".concat(fV,"__thumbnail"),filename:g,fileSrc:j,size:"small"}),o[14]=c,o[15]=g,o[16]=B,o[17]=j,o[18]=V):V=o[18],o[19]!==g||o[20]!==w?(a=w?(0,f.jsx)("a",{href:w,target:"_blank",children:g}):g,o[19]=g,o[20]=w,o[21]=a):a=o[21],o[22]!==R||o[23]!==i||o[24]!==s||o[25]!==M||o[26]!==x||o[27]!==I||o[28]!==L||o[29]!==a||o[30]!==U||o[31]!==V||o[32]!==k?(l=(0,f.jsxs)("div",{className:U,children:[(0,f.jsxs)("div",{className:"".concat(fV,"__imageAndDetails"),children:[V,(0,f.jsxs)("div",{className:"".concat(fV,"__details"),children:[(0,f.jsx)("p",{className:"".concat(fV,"__filename"),children:a}),k?(0,f.jsx)("p",{className:"".concat(fV,"__meta"),children:M}):null]})]}),!1!==i||!1!==s?(0,f.jsxs)("div",{className:"".concat(fV,"__actions"),children:[!1!==i?(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(fV,"__edit"),icon:"edit",iconStyle:"none",onClick:L}):null,!1!==s?(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(fV,"__remove"),icon:"x",iconStyle:"none",onClick:()=>x()}):null,(0,f.jsx)(R,{onSave:I})]}):null]}),o[22]=R,o[23]=i,o[24]=s,o[25]=M,o[26]=x,o[27]=I,o[28]=L,o[29]=a,o[30]=U,o[31]=V,o[32]=k,o[33]=l):l=o[33],l}var fq="upload-field-card";function fW(e){let{children:t,className:n,size:a="medium"}=e;return(0,f.jsx)("div",{className:[fq,n,"".concat(fq,"--size-").concat(a)].filter(Boolean).join(" "),children:t})}var fK="upload upload--has-many";function fY(e){let t=(0,h.c)(27),{className:n,displayPreview:a,fileDocs:l,isSortable:o,onRemove:r,onReorder:i,readonly:s,reloadDoc:c,serverURL:u}=e,d;t[0]!==l||t[1]!==i?(d=(e,t)=>{if(e===t)return;let n=[...l],[a]=n.splice(e,1);n.splice(t,0,a),i(n)},t[0]=l,t[1]=i,t[2]=d):d=t[2];let p=d,m;t[3]!==l||t[4]!==r?(m=e=>{let t=[...l||[]];t.splice(e,1),r(0===t.length?[]:t)},t[3]=l,t[4]=r,t[5]=m):m=t[5];let v=m,g;t[6]!==n?(g=[fK,n].filter(Boolean),t[6]=n,t[7]=g):g=t[7];let b=g.join(" "),x;if(t[8]!==a||t[9]!==l||t[10]!==o||t[11]!==p||t[12]!==s||t[13]!==c||t[14]!==v||t[15]!==u||t[16]!==b){let e,n;t[18]!==p?(e=e=>{let{moveFromIndex:t,moveToIndex:n}=e;return p(t,n)},t[18]=p,t[19]=e):e=t[19],t[20]!==a||t[21]!==o||t[22]!==s||t[23]!==c||t[24]!==v||t[25]!==u?(n=(e,t)=>{let{relationTo:n,value:l}=e,r=String(l.id),i,d;if(l.url)try{i=new URL(l.url,u).toString()}catch(e){i="".concat(u).concat(l.url)}if(l.thumbnailURL)try{d=new URL(l.thumbnailURL,u).toString()}catch(e){d="".concat(u).concat(l.thumbnailURL)}return(0,T.O)(l.mimeType)&&(d=(0,R.N)({sizes:l.sizes,thumbnailURL:d,url:i,width:l.width})),(0,f.jsx)(nn,{disabled:!o||s,id:r,children:e=>(0,f.jsx)("div",{className:["".concat(fK,"__dragItem"),e&&o&&"".concat(fK,"--has-drag-handle")].filter(Boolean).join(" "),ref:e.setNodeRef,style:{transform:e.transform,transition:e.transition,zIndex:e.isDragging?1:void 0},children:(0,f.jsxs)(fW,{size:"small",children:[e&&(0,f.jsx)("div",{className:"".concat(fK,"__drag"),...e.attributes,...e.listeners,children:(0,f.jsx)(oa,{})}),(0,f.jsx)(fH,{allowEdit:!s,allowRemove:!s,alt:(null==l?void 0:l.alt)||(null==l?void 0:l.filename),byteSize:l.filesize,collectionSlug:n,displayPreview:a,filename:l.filename,id:r,mimeType:null==l?void 0:l.mimeType,onRemove:()=>v(t),reloadDoc:c,src:i,thumbnailSrc:d,withMeta:!1,x:null==l?void 0:l.width,y:null==l?void 0:l.height})]})})},r)},t[20]=a,t[21]=o,t[22]=s,t[23]=c,t[24]=v,t[25]=u,t[26]=n):n=t[26],x=(0,f.jsx)("div",{className:b,children:(0,f.jsx)(na,{className:"".concat(fK,"__draggable-rows"),ids:null==l?void 0:l.map(fG),onDragEnd:e,children:l.map(n)})}),t[8]=a,t[9]=l,t[10]=o,t[11]=p,t[12]=s,t[13]=c,t[14]=v,t[15]=u,t[16]=b,t[17]=x}else x=t[17];return x}function fG(e){let{value:t}=e;return String(t.id)}function f$(e){let{className:t,displayPreview:n,fileDoc:a,onRemove:l,readonly:o,reloadDoc:r,serverURL:i}=e,{relationTo:s,value:c}=a,u=String(null==c?void 0:c.id),d,p;if(c.url)try{d=new URL(c.url,i).toString()}catch(e){d="".concat(i).concat(c.url)}if(c.thumbnailURL)try{p=new URL(c.thumbnailURL,i).toString()}catch(e){p="".concat(i).concat(c.thumbnailURL)}return(0,T.O)(c.mimeType)&&(p=(0,R.N)({sizes:c.sizes,thumbnailURL:p,url:d,width:c.width})),(0,f.jsx)(fW,{className:["upload upload--has-one",t].filter(Boolean).join(" "),children:(0,f.jsx)(fH,{allowEdit:!o,allowRemove:!o,alt:(null==c?void 0:c.alt)||(null==c?void 0:c.filename),byteSize:c.filesize,collectionSlug:s,displayPreview:n,filename:c.filename,id:u,mimeType:null==c?void 0:c.mimeType,onRemove:l,reloadDoc:r,src:d,thumbnailSrc:p,x:null==c?void 0:c.width,y:null==c?void 0:c.height})})}var fX="upload";function fQ(e){var t;let{AfterInput:n,allowCreate:a,api:l,BeforeInput:o,className:r,Description:i,description:c,displayPreview:p,Error:h,filterOptions:m,hasMany:v,isSortable:g,Label:b,label:x,localized:y,maxRows:j,onChange:C,path:S,readOnly:_,relationTo:k,required:N,serverURL:E,showError:D,style:P,value:T}=e,[R,O]=s.useState(),[L,F]=s.useState(Array.isArray(k)?k[0]:k),{openModal:I}=nT(),{drawerSlug:A,setCollectionSlug:M,setInitialFiles:B,setMaxFiles:z,setOnSuccess:U}=fz(),{permissions:V}=aD(),{code:H}=aB(),{i18n:q,t:W}=(0,d.d)(),[K,,{closeDrawer:Y,openDrawer:G}]=uK({collectionSlugs:"string"==typeof k?[k]:k,filterOptions:(0,s.useMemo)(()=>{var e,t,n;return{...m,[L]:{...(null==m?void 0:m[L])||{},id:{...(null==m?void 0:null===(e=m[L])||void 0===e?void 0:e.id)||{},not_in:((null==m?void 0:null===(n=m[L])||void 0===n?void 0:null===(t=n.id)||void 0===t?void 0:t.not_in)||[]).concat(...Array.isArray(T)||T?[T]:[])}}}},[T,L,m])}),[$,,{closeDrawer:X,openDrawer:Q}]=c2({collectionSlug:L}),Z=s.useRef(!1),J=(0,s.useMemo)(()=>{var e,t;return!!a&&!!("string"==typeof L&&(null==V?void 0:V.collections)&&(null===(t=V.collections)||void 0===t?void 0:null===(e=t[L])||void 0===e?void 0:e.create))},[L,V,a]),ee=s.useCallback(e=>{"function"==typeof C&&C(e)},[C]),et=s.useCallback(async(e,t)=>{if(!e.length)return;let n={depth:0,draft:!0,limit:e.length,locale:H,where:{and:[{id:{in:e}}]}},a=await fetch("".concat(E).concat(l,"/").concat(t),{body:w.P(n),credentials:"include",headers:{"Accept-Language":q.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"},method:"POST"});if(a.ok){let t=await a.json(),n=e.map(e=>t.docs.find(t=>String(t.id)===String(e)));return n.includes(void 0)&&v&&(n=n.map((t,n)=>t||{id:e[n],filename:"".concat(W("general:untitled")," - ID: ").concat(e[n]),isPlaceholder:!0})),{...t,docs:n}}return null},[H,E,l,q.language,W,v]),en=(0,s.useCallback)(e=>{if(v)ee([...Array.isArray(T)?T:[],...e.map(e=>e.id)]),O(t=>[...t||[],...e.map(e=>({relationTo:L,value:e}))]);else{let t=e[0];ee(t.id),O([{relationTo:L,value:t}])}},[T,ee,L,v]),ea=s.useCallback(e=>{let t=e;if(!v&&e&&e.length>1){let n=new DataTransfer;n.items.add(e[0]),t=n.files}t&&B(t),M(k),"number"==typeof j&&z(j),I(A)},[A,v,I,k,M,B,j,z]),el=s.useCallback(async e=>{let t=[];for(let[n,a]of e)a&&t.push(n);let n=await et(t,L);n&&O(e=>[...e||[],...n.docs.map(e=>({relationTo:L,value:e}))]),ee([...Array.isArray(T)?T:[],...t]),Y()},[L,Y,ee,et,T]),eo=s.useCallback(e=>{e.doc&&(O(t=>[...t||[],{relationTo:L,value:e.doc}]),ee(e.doc.id)),X()},[X,L,ee]),er=(0,s.useCallback)(async e=>{var t;let{collectionSlug:n,doc:a}=e,l=await et([a.id],n),o=l?null===(t=l.docs)||void 0===t?void 0:t[0]:null;O(e=>o?v?[...e||[],{relationTo:L,value:o}]:[{relationTo:L,value:o}]:e),ee(v?[...Array.isArray(T)?T:[],a.id]:a.id),Y()},[Y,v,et,ee,T,L]),ei=s.useCallback(async(e,t)=>{let{docs:n}=await et([e],t);if(n[0]){let e=[];O(a=>{let l=null==a?void 0:a.findIndex(e=>{var a,l;return((null===(a=e.value)||void 0===a?void 0:a.id)===n[0].id||(null===(l=e.value)||void 0===l?void 0:l.isPlaceholder))&&e.relationTo===t});if(l>-1){let o=[...a];return o[l]={relationTo:t,value:n[0]},e=o,o}}),e.length&&v&&ee(e.map(e=>{var t;return null===(t=e.value)||void 0===t?void 0:t.id}))}},[et,ee,v]),es=s.useCallback(e=>{ee(e.map(e=>{let{value:t}=e;return t.id})),O(e)},[ee]),ec=s.useCallback(e=>{let t=e?e.map(e=>{let{value:t}=e;return t.id}):null;ee(v?t:t?t[0]:null),O(e||[])},[ee,v]);(0,s.useEffect)(()=>{async function e(){if(T){Z.current=!0;let e=await et(Array.isArray(T)?T:[T],L);e&&O(e.docs.map(e=>({relationTo:L,value:e})))}}Z.current||e()},[et,L,T]),(0,s.useEffect)(()=>{U(en)},[T,S,en,U]);let eu=!T||v&&Array.isArray(T)&&("number"!=typeof j||T.length<j)||!v&&(null==R?void 0:R[0])&&typeof R[0].value>"u";return(0,f.jsxs)("div",{className:[l1,fX,r,D&&"error",_&&"read-only"].filter(Boolean).join(" "),id:"field-".concat(null==S?void 0:S.replace(/\./g,"__")),style:P,children:[(0,f.jsx)(ef,{CustomComponent:b,Fallback:(0,f.jsx)(aV,{label:x,localized:y,path:S,required:N})}),(0,f.jsx)("div",{className:"".concat(fX,"__wrap"),children:(0,f.jsx)(ef,{CustomComponent:h,Fallback:(0,f.jsx)(ns,{path:S,showError:D})})}),o,(0,f.jsxs)("div",{className:"".concat(fX,"__dropzoneAndUpload"),children:[v&&Array.isArray(T)&&T.length>0?(0,f.jsx)(f.Fragment,{children:R&&(null==R?void 0:R.length)>0?(0,f.jsx)(fY,{displayPreview:p,fileDocs:R,isSortable:g&&!_,onRemove:ec,onReorder:es,readonly:_,reloadDoc:ei,serverURL:E}):(0,f.jsx)("div",{className:"".concat(fX,"__loadingRows"),children:T.map(e=>(0,f.jsx)(u.d,{height:"40px"},e))})}):null,!v&&T?(0,f.jsx)(f.Fragment,{children:R&&(null==R?void 0:R.length)>0&&R[0].value?(0,f.jsx)(f$,{displayPreview:p,fileDoc:R[0],onRemove:ec,readonly:_,reloadDoc:ei,serverURL:E}):!R||!T||(null==R?void 0:null===(t=R[0])||void 0===t?void 0:t.value)?(0,f.jsx)(u.d,{height:"62px"}):(0,f.jsxs)(f.Fragment,{children:[W("general:untitled")," - ID: ",T]})}):null,eu?(0,f.jsx)(dG,{disabled:_||!J,multipleFiles:v,onChange:ea,children:(0,f.jsxs)("div",{className:"".concat(fX,"__dropzoneContent"),children:[(0,f.jsxs)("div",{className:"".concat(fX,"__dropzoneContent__buttons"),children:[J&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tO,{buttonStyle:"pill",className:"".concat(fX,"__createNewToggler"),disabled:_||!J,onClick:()=>{_||(v?ea():Q())},size:"small",children:W("general:createNew")}),(0,f.jsx)("span",{className:"".concat(fX,"__dropzoneContent__orText"),children:W("general:or")})]}),(0,f.jsx)(tO,{buttonStyle:"pill",className:"".concat(fX,"__listToggler"),disabled:_,onClick:G,size:"small",children:W("fields:chooseFromExisting")}),(0,f.jsx)($,{onSave:eo}),(0,f.jsx)(K,{allowCreate:J,enableRowSelections:v,onBulkSelect:el,onSelect:er})]}),J&&!_&&(0,f.jsxs)("p",{className:"".concat(fX,"__dragAndDropText"),children:[W("general:or")," ",W("upload:dragAndDrop")]})]})}):(0,f.jsx)(f.Fragment,{children:!_&&!R&&(!T||"number"!=typeof j||Array.isArray(T)&&T.length<j)?(0,f.jsx)(u.d,{height:"40px"}):null})]}),n,(0,f.jsx)(ef,{CustomComponent:i,Fallback:(0,f.jsx)(ni,{description:c,path:S})})]})}var fZ=lJ(function(e){let{field:t,field:{admin:{allowCreate:n,className:a,description:l,isSortable:o}={},hasMany:r,label:i,localized:c,maxRows:d,relationTo:p,required:h},path:m,readOnly:v,validate:g}=e,{config:b}=(0,u.b)(),x=t.displayPreview,{customComponents:{AfterInput:y,BeforeInput:w,Description:j,Error:C,Label:S}={},disabled:_,filterOptions:k,path:N,setValue:E,showError:D,value:P}=lX({potentiallyStalePath:m,validate:s.useCallback((e,t)=>{if("function"==typeof g)return g(e,{...t,required:h})},[g,h])}),T=(0,s.useMemo)(()=>l0(t),[t]);return(0,f.jsx)(fB,{drawerSlugPrefix:m,children:(0,f.jsx)(fQ,{AfterInput:y,allowCreate:!1!==n,api:b.routes.api,BeforeInput:w,className:a,Description:j,description:l,displayPreview:x,Error:C,filterOptions:k,hasMany:r,isSortable:o,label:i,Label:S,localized:c,maxRows:d,onChange:E,path:N,readOnly:v||_,relationTo:p,required:h,serverURL:b.serverURL,showError:D,style:T,value:P})})});function fJ(e){let t,n=(0,h.c)(13),{clientFieldConfig:a,forceRender:l,indexPath:o,parentPath:r,parentSchemaPath:i,path:s,permissions:c,readOnly:u,schemaPath:d}=e,p;n[0]!==s?(p=e=>{var t,n;let[a]=e;return a&&(null==a?void 0:null===(n=a[s])||void 0===n?void 0:null===(t=n.customComponents)||void 0===t?void 0:t.Field)},n[0]=s,n[1]=p):p=n[1];let m=eM(p);if(void 0!==m)return m||null;if(n[2]!==a||n[3]!==l||n[4]!==o||n[5]!==r||n[6]!==i||n[7]!==s||n[8]!==c||n[9]!==u||n[10]!==d){t=Symbol.for("react.early_return_sentinel");e:{var v;let e={forceRender:l,permissions:c,readOnly:u,schemaPath:d},p={...e,indexPath:o,parentPath:r,parentSchemaPath:i};if(null===(v=a.admin)||void 0===v?void 0:v.hidden){t=(0,f.jsx)(cg,{...e,path:s});break e}switch(a.type){case"array":t=(0,f.jsx)(f5,{...p,field:a,path:s});break e;case"blocks":t=(0,f.jsx)(oM,{...p,field:a,path:s});break e;case"checkbox":t=(0,f.jsx)(l7,{...e,field:a,path:s});break e;case"code":t=(0,f.jsx)(oV,{...e,field:a,path:s});break e;case"collapsible":t=(0,f.jsx)(oK,{...p,field:a,path:s});break e;case"date":t=(0,f.jsx)(cl,{...e,field:a,path:s});break e;case"email":t=(0,f.jsx)(co,{...e,field:a,path:s});break e;case"group":t=(0,f.jsx)(cv,{...p,field:a,path:s});break e;case"join":t=(0,f.jsx)(uP,{...e,field:a,path:s});break e;case"json":t=(0,f.jsx)(uT,{...e,field:a,path:s});break e;case"number":t=(0,f.jsx)(uR,{...e,field:a,path:s});break e;case"point":t=(0,f.jsx)(uL,{...e,field:a,path:s});break e;case"radio":t=(0,f.jsx)(uM,{...e,field:a,path:s});break e;case"relationship":t=(0,f.jsx)(dl,{...e,field:a,path:s});break e;case"richText":t=(0,f.jsx)(dr,{...e,field:a,path:s});break e;case"row":t=(0,f.jsx)(di,{...p,field:a});break e;case"select":t=(0,f.jsx)(du,{...e,field:a,path:s});break e;case"tabs":t=(0,f.jsx)(dR,{...p,field:a,path:s});break e;case"text":t=(0,f.jsx)(dz,{...e,field:a,path:s});break e;case"textarea":t=(0,f.jsx)(dV,{...e,field:a,path:s});break e;case"ui":{let e;n[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,f.jsx)(dH,{}),n[12]=e):e=n[12],t=e;break e}case"upload":t=(0,f.jsx)(fZ,{...e,field:a,path:s});break e}}n[2]=a,n[3]=l,n[4]=o,n[5]=r,n[6]=i,n[7]=s,n[8]=c,n[9]=u,n[10]=d,n[11]=t}else t=n[11];if(t!==Symbol.for("react.early_return_sentinel"))return t}var f0="render-fields",f1=e=>{let t=(0,h.c)(22),{className:n,fields:a,forceRender:l,margins:o,parentIndexPath:r,parentPath:i,parentSchemaPath:s,permissions:c,readOnly:u}=e,d=lY();if(a&&a.length>0){let e=o&&"".concat(f0,"--margins-").concat(o),p=!1===o&&"".concat(f0,"--margins-none"),h;t[0]!==n||t[1]!==e||t[2]!==p?(h=[f0,n,e,p].filter(Boolean),t[0]=n,t[1]=e,t[2]=p,t[3]=h):h=t[3];let m=h.join(" "),v;if(t[4]!==a||t[5]!==l||t[6]!==d||t[7]!==r||t[8]!==i||t[9]!==s||t[10]!==c||t[11]!==u||t[12]!==m){let e;t[14]!==l||t[15]!==d||t[16]!==r||t[17]!==i||t[18]!==s||t[19]!==c||t[20]!==u?(e=(e,t)=>{var n,a;if(!e||(0,b.XI)(e))return null;let{operation:o,permissions:p,read:h}=(0,S.t)({field:e,operation:d,parentName:(null==i?void 0:i.includes("."))?i.split(".")[i.split(".").length-1]:i,permissions:c});if("name"in e&&!h)return null;let m=u||(null==e?void 0:null===(n=e.admin)||void 0===n?void 0:n.readOnly);m&&(null===(a=e.admin)||void 0===a?void 0:a.readOnly)===!1&&(m=!1),"name"in e&&!o&&(m=!0);let{indexPath:v,path:g,schemaPath:x}=(0,_.z)({field:e,index:t,parentIndexPath:r,parentPath:i,parentSchemaPath:s});return(0,f.jsx)(lG,{value:g,children:(0,f.jsx)(fJ,{clientFieldConfig:e,forceRender:l,indexPath:v,parentPath:i,parentSchemaPath:s,path:g,permissions:p,readOnly:m,schemaPath:x})},"".concat(g,"-").concat(t))},t[14]=l,t[15]=d,t[16]=r,t[17]=i,t[18]=s,t[19]=c,t[20]=u,t[21]=e):e=t[21],v=(0,f.jsx)(od,{className:m,forceRender:l,children:a.map(e)}),t[4]=a,t[5]=l,t[6]=d,t[7]=r,t[8]=i,t[9]=s,t[10]=c,t[11]=u,t[12]=m,t[13]=v}else v=t[13];return v}return null},f3="array-field",f2=e=>{let t=(0,h.c)(44),{addRow:n,attributes:a,copyRow:l,CustomRowLabel:o,duplicateRow:r,errorCount:i,fields:s,forceRender:c,hasMaxRows:p,isDragging:v,isLoading:g,isSortable:b,labels:x,listeners:y,moveRow:w,parentPath:j,pasteRow:C,path:S,permissions:_,readOnly:k,removeRow:N,row:E,rowCount:D,rowIndex:P,schemaPath:T,setCollapse:R,setNodeRef:O,transform:L,transition:F}=e,I=void 0!==c&&c,A=ov(g,500),{i18n:M}=(0,d.d)(),B=eO(),z="".concat((0,m.i)(x.singular,M)," ").concat(String(P+1).padStart(2,"0")),U=i>0&&B,V=U?"".concat(f3,"__row--has-errors"):"".concat(f3,"__row--no-errors"),H;t[0]!==V?(H=["".concat(f3,"__row"),V].filter(Boolean),t[0]=V,t[1]=H):H=t[1];let q=H.join(" "),W="".concat(j.split(".").join("-"),"-row-").concat(P),K=v?1:void 0,Y;if(t[2]!==o||t[3]!==n||t[4]!==a||t[5]!==q||t[6]!==l||t[7]!==r||t[8]!==i||t[9]!==z||t[10]!==U||t[11]!==s||t[12]!==I||t[13]!==p||t[14]!==M||t[15]!==A||t[16]!==b||t[17]!==y||t[18]!==w||t[19]!==j||t[20]!==C||t[21]!==S||t[22]!==_||t[23]!==k||t[24]!==N||t[25]!==E.collapsed||t[26]!==E.id||t[27]!==D||t[28]!==P||t[29]!==T||t[30]!==R||t[31]!==O||t[32]!==W||t[33]!==K||t[34]!==L||t[35]!==F){let e,c;t[37]!==i||t[38]!==U||t[39]!==M?(e=U&&(0,f.jsx)(no,{count:i,i18n:M,withMessage:!0}),t[37]=i,t[38]=U,t[39]=M,t[40]=e):e=t[40],t[41]!==E.id||t[42]!==R?(c=e=>R(E.id,e),t[41]=E.id,t[42]=R,t[43]=c):c=t[43],Y=(0,f.jsx)("div",{id:W,ref:O,style:{transform:L,transition:F,zIndex:K},children:(0,f.jsx)(ou,{actions:k?void 0:(0,f.jsx)(on,{addRow:n,copyRow:l,duplicateRow:r,hasMaxRows:p,index:P,isSortable:b,moveRow:w,pasteRow:C,removeRow:N,rowCount:D}),className:q,collapsibleStyle:U?"error":"default",dragHandleProps:b?{id:E.id,attributes:a,listeners:y}:void 0,header:(0,f.jsxs)("div",{className:"".concat(f3,"__row-header"),children:[A?(0,f.jsx)(u.d,{height:"1rem",width:"8rem"}):(0,f.jsx)(eH,{CustomComponent:o,label:z,path:S,rowNumber:P}),e]}),isCollapsed:E.collapsed,onToggle:c,children:A?(0,f.jsx)(u.d,{}):(0,f.jsx)(f1,{className:"".concat(f3,"__fields"),fields:s,forceRender:I,margins:"small",parentIndexPath:"",parentPath:S,parentSchemaPath:T,permissions:!0===_?_:null==_?void 0:_.fields,readOnly:k})})},"".concat(j,"-row-").concat(E.id)),t[2]=o,t[3]=n,t[4]=a,t[5]=q,t[6]=l,t[7]=r,t[8]=i,t[9]=z,t[10]=U,t[11]=s,t[12]=I,t[13]=p,t[14]=M,t[15]=A,t[16]=b,t[17]=y,t[18]=w,t[19]=j,t[20]=C,t[21]=S,t[22]=_,t[23]=k,t[24]=N,t[25]=E.collapsed,t[26]=E.id,t[27]=D,t[28]=P,t[29]=T,t[30]=R,t[31]=O,t[32]=W,t[33]=K,t[34]=L,t[35]=F,t[36]=Y}else Y=t[36];return Y},f6="array-field",f5=lJ(e=>{let t,n,a=(0,h.c)(73),{field:l,forceRender:o,path:r,permissions:i,readOnly:c,schemaPath:p,validate:v}=e,{name:g,type:b,admin:x,fields:y,label:w,localized:j,maxRows:C,minRows:S,required:_}=l,k;a[0]!==x?(k=void 0===x?{}:x,a[0]=x,a[1]=k):k=a[1];let{className:N,description:E,isSortable:D}=k,P=void 0===D||D,T=void 0!==o&&o,R=null!=p?p:g,O=(null!=S?S:_)?1:0,{setDocFieldPreferences:L}=lV(),{addFieldRow:F,dispatchFields:I,getFields:A,moveFieldRow:M,removeFieldRow:B,replaceState:z,setModified:U}=eP(),V=eO(),{code:H}=aB(),{i18n:q,t:W}=(0,d.d)(),{config:K}=(0,u.b)(),{localization:Y}=K,G;e:{if(Y&&Y.fallback){G=H===Y.defaultLocale;break e}G=!0}let $=G,X;a[2]!==W?(X=e=>{var t,n;return"labels"in e&&(null==e?void 0:e.labels)?e.labels:"labels"in e.field&&e.field.labels?{plural:null===(t=e.field.labels)||void 0===t?void 0:t.plural,singular:null===(n=e.field.labels)||void 0===n?void 0:n.singular}:"label"in e.field&&e.field.label?{plural:void 0,singular:e.field.label}:{plural:W("general:rows"),singular:W("general:row")}},a[2]=W,a[3]=X):X=a[3];let Q=X(e),Z;a[4]!==$||a[5]!==C||a[6]!==O||a[7]!==_||a[8]!==v?(Z=(e,t)=>!$&&null===e||("function"==typeof v?v(e,{...t,maxRows:C,minRows:O,required:_}):void 0),a[4]=$,a[5]=C,a[6]=O,a[7]=_,a[8]=v,a[9]=Z):Z=a[9];let J=Z,ee;a[10]!==J||a[11]!==r?(ee={hasRows:!0,potentiallyStalePath:r,validate:J},a[10]=J,a[11]=r,a[12]=ee):ee=a[12];let{customComponents:et,disabled:en,errorPaths:ea,path:el,rows:eo,showError:er,valid:ei,value:es}=lX(ee),ec;a[13]!==et?(ec=void 0===et?{}:et,a[13]=et,a[14]=ec):ec=a[14];let{AfterInput:eu,BeforeInput:ed,Description:ep,Error:eh,Label:em}=ec,ev;a[15]!==eo?(ev=void 0===eo?[]:eo,a[15]=eo,a[16]=ev):ev=a[16];let eg=ev,eb;a[17]!==F||a[18]!==el||a[19]!==R?(eb=e=>{F({path:el,rowIndex:e,schemaPath:R}),setTimeout(()=>{oe("".concat(el,"-row-").concat(e))},0)},a[17]=F,a[18]=el,a[19]=R,a[20]=eb):eb=a[20];let ex=eb,ey;a[21]!==I||a[22]!==el||a[23]!==U?(ey=e=>{I({type:"DUPLICATE_ROW",path:el,rowIndex:e}),U(!0),setTimeout(()=>{oe("".concat(el,"-row-").concat(e))},0)},a[21]=I,a[22]=el,a[23]=U,a[24]=ey):ey=a[24];let ew=ey,ej;a[25]!==el||a[26]!==B?(ej=e=>{B({path:el,rowIndex:e})},a[25]=el,a[26]=B,a[27]=ej):ej=a[27];let eC=ej,eS;a[28]!==M||a[29]!==el?(eS=(e,t)=>{M({moveFromIndex:e,moveToIndex:t,path:el})},a[28]=M,a[29]=el,a[30]=eS):eS=a[30];let e_=eS,ek;a[31]!==I||a[32]!==el||a[33]!==eg||a[34]!==L?(ek=e=>{let{collapsedIDs:t,updatedRows:n}=aq({collapsed:e,rows:eg});L(el,{collapsed:t}),I({type:"SET_ALL_ROWS_COLLAPSED",path:el,updatedRows:n})},a[31]=I,a[32]=el,a[33]=eg,a[34]=L,a[35]=ek):ek=a[35];let eN=ek,eE;a[36]!==I||a[37]!==el||a[38]!==eg||a[39]!==L?(eE=(e,t)=>{let{collapsedIDs:n,updatedRows:a}=aH({collapsed:t,rowID:e,rows:eg});I({type:"SET_ROW_COLLAPSED",path:el,updatedRows:a}),L(el,{collapsed:n})},a[36]=I,a[37]=el,a[38]=eg,a[39]=L,a[40]=eE):eE=a[40];let eD=eE,eT;a[41]!==y||a[42]!==A||a[43]!==el||a[44]!==W||a[45]!==b?(eT=e=>{let t={...A()},n=tI({type:b,fields:y,getDataToCopy:()=>tV({formState:t,path:el,rowIndex:e}),path:el,rowIndex:e,t:W});"string"==typeof n?e3.error(n):e3.success(W("general:copied"))},a[41]=y,a[42]=A,a[43]=el,a[44]=W,a[45]=b,a[46]=eT):eT=a[46];let eR=eT,eL;a[47]!==y||a[48]!==A||a[49]!==el||a[50]!==z||a[51]!==U||a[52]!==W?(eL=e=>{let t={...A()},n=tA({onPaste:n=>{z(tH({dataFromClipboard:n,formState:t,path:el,rowIndex:e})),U(!0)},path:el,schemaFields:y,t:W});"string"==typeof n&&e3.error(n)},a[47]=y,a[48]=A,a[49]=el,a[50]=z,a[51]=U,a[52]=W,a[53]=eL):eL=a[53];let eF=eL,eI;a[54]!==A||a[55]!==el||a[56]!==z||a[57]!==U?(eI=e=>{z(tH({dataFromClipboard:e,formState:{...A()},path:el})),U(!0)},a[54]=A,a[55]=el,a[56]=z,a[57]=U,a[58]=eI):eI=a[58];let eA=eI,eM;a[59]!==A||a[60]!==el?(eM=()=>tV({formState:{...A()},path:el}),a[59]=A,a[60]=el,a[61]=eM):eM=a[61];let eB=eM,ez=C&&eg.length>=C,eU=ea.length,eV=V&&ea.length>0,eH=(c||en)&&0===eg.length,eq=eg.length&&eg.length<O||_&&0===eg.length,eW=eV?"".concat(f6,"--has-error"):"".concat(f6,"--has-no-error"),eK;return a[62]!==N||a[63]!==eW?(eK=[l1,f6,N,eW].filter(Boolean),a[62]=N,a[63]=eW,a[64]=eK):eK=a[64],a[65]!==eh||a[66]!==el||a[67]!==er?(t=er&&(0,f.jsx)(ef,{CustomComponent:eh,Fallback:(0,f.jsx)(ns,{path:el,showError:er})}),a[65]=eh,a[66]=el,a[67]=er,a[68]=t):t=a[68],a[69]!==eU||a[70]!==eV||a[71]!==q?(n=eV&&eU>0&&(0,f.jsx)(no,{count:eU,i18n:q,withMessage:!0}),a[69]=eU,a[70]=eV,a[71]=q,a[72]=n):n=a[72],(0,f.jsxs)("div",{className:eK.join(" "),id:"field-".concat(el.replace(/\./g,"__")),children:[t,(0,f.jsxs)("header",{className:"".concat(f6,"__header"),children:[(0,f.jsxs)("div",{className:"".concat(f6,"__header-wrap"),children:[(0,f.jsxs)("div",{className:"".concat(f6,"__header-content"),children:[(0,f.jsx)("h3",{className:"".concat(f6,"__title"),children:(0,f.jsx)(ef,{CustomComponent:em,Fallback:(0,f.jsx)(aV,{as:"span",label:w,localized:j,path:el,required:_})})}),n]}),(0,f.jsxs)("ul",{className:"".concat(f6,"__header-actions"),children:[(null==eg?void 0:eg.length)>0&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"".concat(f6,"__header-action"),onClick:()=>eN(!0),type:"button",children:W("fields:collapseAll")})}),(0,f.jsx)("li",{children:(0,f.jsx)("button",{className:"".concat(f6,"__header-action"),onClick:()=>eN(!1),type:"button",children:W("fields:showAll")})})]}),(0,f.jsx)("li",{children:(0,f.jsx)(tU,{allowCopy:(null==eg?void 0:eg.length)>0,allowPaste:!c,className:"".concat(f6,"__header-action"),disabled:en,fields:y,getDataToCopy:eB,onPaste:eA,path:el,type:b})})]})]}),(0,f.jsx)(ef,{CustomComponent:ep,Fallback:(0,f.jsx)(ni,{description:E,path:el})})]}),(0,f.jsx)(l9,{fieldValue:es,localized:j,path:el}),ed,((null==eg?void 0:eg.length)>0||!ei&&(eH||eq))&&(0,f.jsxs)(na,{className:"".concat(f6,"__draggable-rows"),ids:eg.map(f4),onDragEnd:e=>{let{moveFromIndex:t,moveToIndex:n}=e;return e_(t,n)},children:[eg.map((e,t)=>{let{id:n,isLoading:a}=e,l="".concat(el,".").concat(t),o=null==ea?void 0:ea.filter(e=>e.startsWith(l+".")).length;return(0,f.jsx)(nn,{disabled:c||en||!P,id:n,children:n=>{var r,s;return(0,f.jsx)(f2,{...n,addRow:ex,copyRow:eR,CustomRowLabel:null==eg?void 0:null===(s=eg[t])||void 0===s?void 0:null===(r=s.customComponents)||void 0===r?void 0:r.RowLabel,duplicateRow:ew,errorCount:o,fields:y,forceRender:T,hasMaxRows:ez,isLoading:a,isSortable:P,labels:Q,moveRow:e_,parentPath:el,pasteRow:eF,path:l,permissions:i,readOnly:c||en,removeRow:eC,row:e,rowCount:null==eg?void 0:eg.length,rowIndex:t,schemaPath:R,setCollapse:eD})}},n)}),!ei&&(0,f.jsxs)(s.Fragment,{children:[eH&&(0,f.jsx)(tr,{children:W("validation:fieldHasNo",{label:(0,m.i)(Q.plural,q)})}),eq&&(0,f.jsx)(tr,{type:"error",children:W("validation:requiresAtLeast",{count:O,label:(0,m.i)(O>1?Q.plural:Q.singular,q)||W(O>1?"general:rows":"general:row")})})]})]}),!ez&&!c&&(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(f6,"__add-row"),disabled:en,icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:()=>{ex(es||0)},children:W("fields:addLabel",{label:(0,m.i)(Q.singular,q)})}),eu]})});function f4(e){return e.id}var f8=e=>{let t=(0,h.c)(12),{disabled:n,path:a}=e,l=void 0===a?"confirm-password":a,{t:o}=(0,d.d)(),r;t[0]!==l?(r={path:l,validate:f7},t[0]=l,t[1]=r):r=t[1];let{disabled:i,setValue:s,showError:c,value:u}=lX(r),p=c&&"error",m;t[2]!==p?(m=[l1,"confirm-password",p].filter(Boolean),t[2]=p,t[3]=m):m=t[3];let v=m.join(" "),g;return t[4]!==i||t[5]!==n||t[6]!==l||t[7]!==s||t[8]!==o||t[9]!==v||t[10]!==u?(g=(0,f.jsxs)("div",{className:v,children:[(0,f.jsx)(aV,{htmlFor:"field-confirm-password",label:o("authentication:confirmPassword"),required:!0}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ns,{path:l}),(0,f.jsx)("input",{"aria-label":o("authentication:confirmPassword"),autoComplete:"off",disabled:!!(i||n),id:"field-confirm-password",name:"confirm-password",onChange:s,type:"password",value:u||""})]})]}),t[4]=i,t[5]=n,t[6]=l,t[7]=s,t[8]=o,t[9]=v,t[10]=u,t[11]=g):g=t[11],g};function f7(e,t){return(0,W.Zb)(e,{name:"confirm-password",type:"text",required:!0,...t})}var f9=e=>{let t=(0,h.c)(28),{AfterInput:n,autoComplete:a,BeforeInput:l,className:o,description:r,Description:i,Error:s,inputRef:c,Label:u,label:p,localized:v,onChange:g,onKeyDown:b,path:x,placeholder:y,readOnly:w,required:j,rtl:C,showError:S,style:_,value:k,width:N}=e,E=void 0===a?"off":a,{i18n:D}=(0,d.d)(),P=S&&"error",T=w&&"read-only",R;t[0]!==o||t[1]!==P||t[2]!==T?(R=[l1,"password",o,P,T].filter(Boolean),t[0]=o,t[1]=P,t[2]=T,t[3]=R):R=t[3];let O=R.join(" "),L;return t[4]!==n||t[5]!==l||t[6]!==i||t[7]!==s||t[8]!==u||t[9]!==E||t[10]!==r||t[11]!==D||t[12]!==c||t[13]!==p||t[14]!==v||t[15]!==g||t[16]!==b||t[17]!==x||t[18]!==y||t[19]!==w||t[20]!==j||t[21]!==C||t[22]!==S||t[23]!==_||t[24]!==O||t[25]!==k||t[26]!==N?(L=(0,f.jsxs)("div",{className:O,style:{..._,width:N},children:[(0,f.jsx)(ef,{CustomComponent:u,Fallback:(0,f.jsx)(aV,{label:p,localized:v,path:x,required:j})}),(0,f.jsxs)("div",{className:"".concat(l1,"__wrap"),children:[(0,f.jsx)(ef,{CustomComponent:s,Fallback:(0,f.jsx)(ns,{path:x,showError:S})}),(0,f.jsxs)("div",{children:[l,(0,f.jsx)("input",{"aria-label":(0,m.i)(p,D),autoComplete:E,"data-rtl":C,disabled:w,id:"field-".concat(x.replace(/\./g,"__")),name:x,onChange:g,onKeyDown:b,placeholder:(0,m.i)(y,D),ref:c,type:"password",value:k||""}),n]}),(0,f.jsx)(ef,{CustomComponent:i,Fallback:(0,f.jsx)(ni,{description:r,path:x})})]})]}),t[4]=n,t[5]=l,t[6]=i,t[7]=s,t[8]=u,t[9]=E,t[10]=r,t[11]=D,t[12]=c,t[13]=p,t[14]=v,t[15]=g,t[16]=b,t[17]=x,t[18]=y,t[19]=w,t[20]=j,t[21]=C,t[22]=S,t[23]=_,t[24]=O,t[25]=k,t[26]=N,t[27]=L):L=t[27],L},he=lJ(e=>{let{autoComplete:t,field:n,field:{admin:{className:a,disabled:l,placeholder:o,rtl:r}={},label:i,localized:c,required:p}={},inputRef:h,path:m,validate:v}=e,{t:g}=(0,d.d)(),b=aB(),{config:x}=(0,u.b)(),y=(0,s.useCallback)((e,t)=>{let n=m?m.split("."):[];return"function"==typeof v?v(e,{...t,required:p}):(0,W.Bj)(e,{name:"password",type:"text",blockData:{},data:{},event:"onChange",path:n,preferences:{fields:{}},req:{payload:{config:x},t:g},required:!0,siblingData:{}})},[v,x,g,p,m]),{customComponents:{AfterInput:w,BeforeInput:j,Description:C,Error:S,Label:_}={},disabled:k,setValue:N,showError:E,value:D}=lX({path:m,validate:y}),P=l3({fieldLocalized:!1,fieldRTL:r,locale:b,localizationConfig:x.localization||void 0}),T=(0,s.useMemo)(()=>l0(n),[n]);return(0,f.jsx)(f9,{AfterInput:w,autoComplete:t,BeforeInput:j,className:a,Description:C,Error:S,inputRef:h,Label:_,label:i,localized:c,onChange:e=>{N(e.target.value)},path:m,placeholder:o,readOnly:k||l,required:p,rtl:P,showError:E,style:T,value:D||""})}),ht={array:f5,blocks:oM,checkbox:l7,code:oV,collapsible:oK,confirmPassword:f8,date:cl,email:co,group:cv,hidden:cg,join:uP,json:uT,number:uR,password:he,point:uL,radio:uM,relationship:dl,richText:dr,row:di,select:du,tabs:dR,text:dz,textarea:dV,ui:dH,upload:fZ},hn={...ht,Description:ni,Error:ns,Label:aV,RowLabel:eH},ha=new Map([]),hl={altleft:"alt",altright:"alt",controlleft:"ctrl",controlright:"ctrl",ctrlleft:"ctrl",ctrlright:"ctrl",escape:"esc",metaleft:"meta",metaright:"meta",osleft:"meta",osright:"meta",shiftleft:"shift",shiftright:"shift"},ho=e=>(hl[e.toLowerCase()]||e).trim().toLowerCase().replace("key",""),hr=e=>{let t=ho(e);"meta"===t&&ha.forEach((e,t)=>"meta"!==t&&ha.delete(t)),ha.set(t,Date.now())},hi=e=>{let t=ho(e);"meta"===t&&ha.clear(),ha.delete(t)},hs=(e,t)=>{let n=(0,h.c)(9),{cmdCtrlKey:a,editDepth:l,keyCodes:o}=e,{modalState:r}=nT(),i;n[0]!==a||n[1]!==l||n[2]!==t||n[3]!==o||n[4]!==r?(i=e=>{var n,i;let s=(null===(n=e.detail)||void 0===n?void 0:n.key)?e.detail:e;if(void 0===s.key)return;ha.forEach(hc),s.code&&hr(s.code);let c=window.navigator.userAgent.includes("Mac OS X"),u=[...ha.keys()].filter(hu);if((0,K.X)(new Set(u),new Set(o))&&(!a||c&&ha.has("meta")||!c&&s.ctrlKey)){if(((null===(i=Object.keys(r).filter(e=>{var t;return null===(t=r[e])||void 0===t?void 0:t.isOpen}))||void 0===i?void 0:i.length)+1||1)!==l)return;t(s)}},n[0]=a,n[1]=l,n[2]=t,n[3]=o,n[4]=r,n[5]=i):i=n[5];let c=i,u,d;n[6]!==c?(u=()=>(document.addEventListener("keydown",c,!1),document.addEventListener("bypassKeyDown",c,!1),document.addEventListener("keyup",hd,!1),()=>{document.removeEventListener("keydown",c),document.removeEventListener("bypassKeyDown",c),document.removeEventListener("keyup",hd)}),d=[c,hd],n[6]=c,n[7]=u,n[8]=d):(u=n[7],d=n[8]),(0,s.useEffect)(u,d)};function hc(e,t){Date.now()-e>3e3&&ha.delete(t)}function hu(e){return!["alt","ctrl","meta","shift"].includes(e)}function hd(e){e.code&&hi(e.code)}var hp=(e,t)=>{let n,a,l,o,r,i,c=(0,h.c)(32),u;c[0]!==t?(u=void 0===t?{}:t,c[0]=t,c[1]=u):u=c[1];let{initialData:p,initialParams:f}=u,m;c[2]!==f?(m=void 0===f?{}:f,c[2]=f,c[3]=m):m=c[3];let v=m,{i18n:g}=(0,d.d)(),b;c[4]!==p?(b=p||{},c[4]=p,c[5]=b):b=c[5];let[x,y]=(0,s.useState)(b),[j,C]=(0,s.useState)(v),[S,_]=(0,s.useState)(!p),[k,N]=(0,s.useState)(!1),{code:E}=aB(),D=(0,s.useRef)(!1),P;if(c[6]!==E||c[7]!==j){let e;c[9]!==j?(e="object"==typeof j?j:{},c[9]=j,c[10]=e):e=c[10],P=w.P({locale:E,...e},{addQueryPrefix:!0}),c[6]=E,c[7]=j,c[8]=P}else P=c[8];let T=P,R;return c[11]!==g.language||c[12]!==p||c[13]!==T||c[14]!==e?(R=()=>{if(p&&!D.current){D.current=!0;return}let t=new AbortController;return e?(async()=>{N(!1),_(!0);try{let n=await ak.get("".concat(e).concat(T),{headers:{"Accept-Language":g.language},signal:t.signal});n.status>201&&N(!0);let a=await n.json();y(a),_(!1)}catch(e){t.signal.aborted||(N(!0),_(!1))}})():(N(!1),_(!1)),()=>{try{t.abort()}catch(e){}}},c[11]=g.language,c[12]=p,c[13]=T,c[14]=e,c[15]=R):R=c[15],c[16]!==g.language||c[17]!==p||c[18]!==E||c[19]!==T||c[20]!==e?(n=[e,E,T,g.language,p],c[16]=g.language,c[17]=p,c[18]=E,c[19]=T,c[20]=e,c[21]=n):n=c[21],(0,s.useEffect)(R,n),c[22]!==p?(a=()=>{p&&D.current&&y(p)},l=[p],c[22]=p,c[23]=a,c[24]=l):(a=c[23],l=c[24]),(0,s.useEffect)(a,l),c[25]!==x||c[26]!==k||c[27]!==S?(o={data:x,isError:k,isLoading:S},c[25]=x,c[26]=k,c[27]=S,c[28]=o):o=c[28],c[29]===Symbol.for("react.memo_cache_sentinel")?(r={setParams:C},c[29]=r):r=c[29],c[30]!==o?(i=[o,r],c[30]=o,c[31]=i):i=c[31],i},hf=e=>{let t,n=(0,h.c)(5),[a,l]=(0,s.useState)(),o,r;return n[0]!==e?(o=()=>{let t;return e&&(t=new ResizeObserver(e=>{e.forEach(e=>{let{contentBoxSize:t,contentRect:n}=e,a=0,o=0;if(t){let e=Array.isArray(t)?t[0]:t;if(e){let{blockSize:t,inlineSize:n}=e;a=n,o=t}}else if(n){let{height:e,width:t}=n;a=t,o=e}l({height:o,width:a})})})).observe(e),()=>{t&&t.unobserve(e)}},r=[e],n[0]=e,n[1]=o,n[2]=r):(o=n[1],r=n[2]),(0,s.useEffect)(o,r),n[3]!==a?(t={size:a},n[3]=a,n[4]=t):t=n[4],t},hh=e=>{var t;let n=(0,h.c)(4),{admin:a,fields:l}=e,{useAsTitle:o}=a,{i18n:r}=(0,d.d)(),i;return n[0]!==l||n[1]!==r||n[2]!==o?(i=null===(t=(0,k.a)(l,{i18n:r,moveSubFieldsToTop:!0}))||void 0===t?void 0:t.find(e=>"name"in e&&e.name===o),n[0]=l,n[1]=r,n[2]=o,n[3]=i):i=n[3],i},hm=e=>{let{className:t}=e;return(0,f.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"fill",d:"M2.5 13.3333L5.83333 16.6667M5.83333 16.6667L9.16667 13.3333M5.83333 16.6667V3.33333M9.16667 7.08333H17.5M9.16667 10.4167H15M11.6667 13.75H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})})},hv=e=>{let{className:t}=e;return(0,f.jsx)("svg",{className:"icon icon--sort",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"fill",d:"M2.5 6.66668L5.83333 3.33334M5.83333 3.33334L9.16667 6.66668M5.83333 3.33334V16.6667M11.6667 7.08354H17.5M9.16667 10.4169H15M9.16667 13.7502H12.5",stroke:"#2F2F2F",strokeLinecap:"round",strokeLinejoin:"round"})})},hg="sort-header",hb=e=>{let t=(0,h.c)(8),{appearance:n}=e,{handleSortPress:a,isActive:l,sort:o}=function(){let e,t=(0,h.c)(12),{handleSortChange:n,orderableFieldName:a,query:l}=cS(),o=Array.isArray(l.sort)?l.sort[0]:l.sort,r=(0,s.useRef)(o==="-".concat(a)?"desc":"asc"),i=o==="-".concat(a)||o===a,c,u;t[0]!==i||t[1]!==a||t[2]!==o?(c=()=>{i&&(r.current=o==="-".concat(a)?"desc":"asc")},u=[a,o,i],t[0]=i,t[1]=a,t[2]=o,t[3]=c,t[4]=u):(c=t[3],u=t[4]),(0,s.useEffect)(c,u),t[5]!==n||t[6]!==i||t[7]!==a?(e=()=>{if(i){n("asc"===r.current?"-".concat(a):a),r.current="asc"===r.current?"desc":"asc";return}n("asc"===r.current?a:"-".concat(a))},t[5]=n,t[6]=i,t[7]=a,t[8]=e):e=t[8];let d=e,p;return t[9]!==d||t[10]!==i?(p={handleSortPress:d,isActive:i,sort:r},t[9]=d,t[10]=i,t[11]=p):p=t[11],p}(),{t:r}=(0,d.d)(),i=n&&"".concat(hg,"--appearance-").concat(n),c;t[0]!==i?(c=[hg,i].filter(Boolean),t[0]=i,t[1]=c):c=t[1];let u=c.join(" "),p;return t[2]!==a||t[3]!==l||t[4]!==o.current||t[5]!==r||t[6]!==u?(p=(0,f.jsx)("div",{className:u,children:(0,f.jsx)("div",{className:"".concat(hg,"__buttons"),children:"desc"===o.current?(0,f.jsx)("button",{"aria-label":r("general:sortByLabelDirection",{direction:r("general:ascending"),label:"Order"}),className:"".concat(hg,"__button ").concat(hg,"__").concat(o.current," ").concat(l?"".concat(hg,"--active"):""),onClick:a,type:"button",children:(0,f.jsx)(hm,{})}):(0,f.jsx)("button",{"aria-label":r("general:sortByLabelDirection",{direction:r("general:descending"),label:"Order"}),className:"".concat(hg,"__button ").concat(hg,"__").concat(o.current," ").concat(l?"".concat(hg,"--active"):""),onClick:a,type:"button",children:(0,f.jsx)(hv,{})})})}),t[2]=a,t[3]=l,t[4]=o.current,t[5]=r,t[6]=u,t[7]=p):p=t[7],p},hx="sort-row",hy=()=>{let e=(0,h.c)(2),{orderableFieldName:t,query:n}=cS(),a=n.sort===t||n.sort==="-".concat(t),l="".concat(hx," ").concat(a?"active":""),o;return e[0]!==l?(o=(0,f.jsx)("div",{className:l,role:"button",tabIndex:0,children:(0,f.jsx)(oa,{className:"".concat(hx,"__icon")})}),e[0]=l,e[1]=o):o=e[1],o},hw=e=>{let{cellMap:t,columns:n,dragAttributes:a={},dragListeners:l={},rowId:o,...r}=e;return(0,f.jsx)("tr",{...r,children:n.map((e,n)=>{let{accessor:r}=e,i=e.renderedCells[t[o]];return"_dragHandle"===r?(0,f.jsx)("td",{className:"cell-".concat(r),children:(0,f.jsx)("div",{...a,...l,children:i})},n):(0,f.jsx)("td",{className:"cell-".concat(r),children:i},n)})})},hj=e=>{let{children:t,className:n,rowId:a}=e;return typeof a>"u"?null:(0,f.jsx)("div",{className:n,children:(0,f.jsx)("table",{cellPadding:0,cellSpacing:0,children:(0,f.jsx)("tbody",{children:t})})})},hC="table",hS=e=>{let{appearance:t="default",collection:n,columns:a,data:l}=e,{config:o}=(0,u.b)(),{data:r,orderableFieldName:i,query:c}=cS(),d=(null==r?void 0:r.docs)||l,[p,h]=(0,s.useState)(d),[m,v]=(0,s.useState)({}),[g,b]=(0,s.useState)();(0,s.useEffect)(()=>{h(d),v(Object.fromEntries(d.map((e,t)=>{var n;return[String(null!==(n=e.id)&&void 0!==n?n:e._id),t]})))},[d]);let y=null==a?void 0:a.filter(e=>null==e?void 0:e.active);if(!y||0===y.filter(e=>!["_dragHandle","_select"].includes(e.accessor)).length)return(0,f.jsx)("div",{children:"No columns selected"});let w=async e=>{var t,a,l;let{moveFromIndex:r,moveToIndex:s}=e;if(c.sort!==i&&c.sort!=="-".concat(i)){e3.warning('To reorder the rows you must first sort them by the "Order" column'),b(void 0);return}if(r===s){b(void 0);return}let u=null!==(t=p[r].id)&&void 0!==t?t:p[r]._id,d=s>r?p[s]:p[s-1],f=s>r?p[s+1]:p[s],m=[...p];h(e=>{let t=[...e];return t[r][i]="pending",t.splice(s,0,t.splice(r,1)[0]),t});try{let e=d?{id:null!==(a=d.id)&&void 0!==a?a:d._id,key:d[i]}:{id:null!==(l=f.id)&&void 0!==l?l:f._id,key:f[i]},t=d&&c.sort===i||!d&&c.sort==="-".concat(i)?"greater":"less",r={collectionSlug:n.slug,docsToMove:[u],newKeyWillBe:t,orderableFieldName:i,target:e},s=await fetch("".concat(o.routes.api,"/reorder"),{body:JSON.stringify(r),headers:{"Content-Type":"application/json"},method:"POST"});if(403===s.status)throw Error("You do not have permission to reorder these rows");if(!s.ok)throw Error("Failed to reorder. This can happen if you reorder several rows too quickly. Please try again.");if(200===s.status&&"initial migration"===(await s.json()).message)throw Error('You have enabled "orderable" on a collection with existing documentsand this is the first time you have sorted documents. We have run an automatic migration to add an initial order to the documents. Please refresh the page and try again.')}catch(t){let e=t instanceof Error?t.message:String(t);h(m),e3.error(e)}finally{b(void 0)}},j=p.map(e=>{var t;return null!==(t=e.id)&&void 0!==t?t:e._id});return(0,f.jsx)("div",{className:[hC,t&&"".concat(hC,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,f.jsxs)(na,{ids:j,onDragEnd:w,onDragStart:e=>{let{id:t}=e;b(t)},children:[(0,f.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:y.map((e,t)=>(0,f.jsx)("th",{id:"heading-".concat(e.accessor),children:e.Heading},t))})}),(0,f.jsx)("tbody",{children:p.map((e,t)=>(0,f.jsx)(nn,{id:j[t],children:n=>{var a;let{attributes:l,isDragging:o,listeners:r,setNodeRef:i,transform:s,transition:c}=n;return(0,f.jsx)(hw,{cellMap:m,className:"row-".concat(t+1),columns:y,dragAttributes:l,dragListeners:r,ref:i,rowId:null!==(a=e.id)&&void 0!==a?a:e._id,style:{opacity:o?0:1,transform:s,transition:c}})}},j[t]))})]}),(0,f.jsx)(x.y9,{children:(0,f.jsx)(hj,{className:[hC,"".concat(hC,"--drag-preview")].join(" "),rowId:g,children:(0,f.jsx)(hw,{cellMap:m,columns:y,rowId:g})})})]})})},h_=e=>{let{cellData:t}=e;return(0,f.jsx)("div",{className:"query-preset-columns-cell",children:t?(0,E.z)(t).map((e,t)=>{let n=!e.startsWith("-");return n?(0,f.jsx)(om,{pillStyle:n?"always-white":"light",size:"small",children:(0,Y.BH)(e)},t):null}):"No columns selected"})},hk=e=>{if(e.or&&e.or.length>0&&e.or[0].and&&e.or[0].and.length>0){var t,n;let a=null===(n=e.or[0])||void 0===n?void 0:null===(t=n.and)||void 0===t?void 0:t[0];if(!a)return"No where query";let l=Object.keys(a)[0];if(!a[l])return"No where query";let o=Object.keys(a[l])[0],r=a[l][o];return"".concat((0,Y.BH)(l)," ").concat(o," ").concat((0,Y.BH)(r))}return""},hN=e=>{let{cellData:t}=e;return(0,f.jsx)("div",{children:t?hk(t):"No where query"})},hE=e=>{let{cellData:t}=e,n=["read","update","delete"];return(0,f.jsx)("p",{children:n.reduce((e,a,l)=>{let o=null==t?void 0:t[a];return o&&o.constraint&&e.push((0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)("span",{children:[(0,f.jsx)("strong",{children:(0,Y.BH)(a)}),": ",(0,Y.BH)(o.constraint)]}),l!==n.length-1&&", "]},a)),e},[])})},hD=e=>{let t=(0,h.c)(5),{field:n}=e,{label:a,required:l}=n,{path:o,value:r}=lX(),i;return t[0]!==a||t[1]!==o||t[2]!==l||t[3]!==r?(i=(0,f.jsxs)("div",{className:"field-type query-preset-columns-field",children:[(0,f.jsx)(aV,{as:"h3",label:a,path:o,required:l}),(0,f.jsx)("div",{className:"value-wrapper",children:r?(0,E.z)(r).map(hP):"No columns selected"})]}),t[0]=a,t[1]=o,t[2]=l,t[3]=r,t[4]=i):i=t[4],i};function hP(e,t){let n=!e.startsWith("-");return(0,f.jsx)(om,{pillStyle:n?"always-white":"light-gray",size:"small",children:(0,Y.BH)(e)},t)}var hT=(e,t)=>{if(!e)return null;let n=e=>{let t=Object.keys(e)[0];if(!e[t])return"No where query";let n=Object.keys(e[t])[0],a=e[t][n];if("object"==typeof a)try{a=new Date(a).toLocaleDateString()}catch(e){a="Unknown error has occurred"}return(0,f.jsxs)(om,{pillStyle:"always-white",size:"small",children:[(0,f.jsx)("b",{children:(0,Y.BH)(t)})," ",n," ",(0,f.jsx)("b",{children:(0,Y.BH)(a)})]})};return e.or&&e.or.length>0?(0,f.jsx)("div",{className:"or-condition",children:e.or.map((e,a)=>(0,f.jsx)(s.Fragment,{children:e.and&&e.and.length>0?(0,f.jsxs)("div",{className:"and-condition",children:[0===a&&(0,f.jsx)("span",{className:"label",children:"Filter ".concat(t," where ")}),a>0&&(0,f.jsx)("span",{className:"label",children:" or "}),e.and.map((t,a)=>(0,f.jsxs)(s.Fragment,{children:[n(t),a<e.and.length-1&&(0,f.jsx)("span",{className:"label",children:" and "})]},a))]}):n(e)},a))}):n(e)},hR=e=>{var t;let{field:n}=e,{label:a,required:l}=n,{path:o,value:r}=lX(),{collectionSlug:i}=cS(),{getEntityConfig:s}=(0,u.b)(),c=s({collectionSlug:i}),{i18n:p}=(0,d.d)();return(0,f.jsxs)("div",{className:"field-type query-preset-where-field",children:[(0,f.jsx)(aV,{as:"h3",label:a,path:o,required:l}),(0,f.jsx)("div",{className:"value-wrapper",children:r?hT(r,(0,m.i)(null==c?void 0:null===(t=c.labels)||void 0===t?void 0:t.plural,p)):"No where query"})]})},hO=(e,t)=>{let n=(0,h.c)(7),a=void 0===e||e,l;n[0]!==a||n[1]!==t?(l=e=>{if("function"!=typeof a||a())return e.preventDefault(),t&&(e.returnValue=t),t},n[0]=a,n[1]=t,n[2]=l):l=n[2];let o=l,r,i;n[3]!==a||n[4]!==o?(r=()=>{if(a)return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e&&e.addEventListener&&e.addEventListener(...n)}(window,"beforeunload",o),()=>(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];e&&e.removeEventListener&&e.removeEventListener(...n)})(window,"beforeunload",o)},i=[a,o],n[3]=a,n[4]=o,n[5]=r,n[6]=i):(r=n[5],i=n[6]),(0,s.useEffect)(r,i)},hL=e=>{let{hasAccepted:t=!1,message:n="Are you sure want to leave this page?",onAccept:a,onPrevent:l,prevent:o=!0}=e;hO(o,n);let{startRouteTransition:r}=te(),i=(0,g.useRouter)(),c=(0,s.useRef)("");(0,s.useEffect)(()=>{function e(e){try{let t=e.target,a=function(e){for(;e&&"a"!==e.tagName.toLowerCase();)e=e.parentElement;return e}(t);if(a){let t=window.location.href,r=a.href,i=function(e,t){try{let n=new URL(e),a=new URL(t);if(n.hostname===a.hostname&&n.pathname===a.pathname&&n.search===a.search){let e=n.hash,t=a.hash;return e!==t&&n.href.replace(e,"")===a.href.replace(t,"")}}catch(e){console.log("Unexpected exception thrown in LeaveWithoutSaving:isAnchorOfCurrentUrl",e)}return!1}(t,r),s=""!==a.download,u="_blank"===a.target||e.metaKey||e.ctrlKey;!(r===t||i||s||u)&&o&&(l||!window.confirm(n))&&(c.current=r,e.preventDefault(),e.stopPropagation(),"function"==typeof l&&l())}}catch(e){console.log("Unexpected exception thrown in LeaveWithoutSaving:usePreventLeave",e)}}return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[l,o,n]),(0,s.useEffect)(()=>{t&&c.current&&(a&&a(),r(()=>i.push(c.current)))},[t,a,i,r])},hF="leave-without-saving",hI=()=>{let e,t=(0,h.c)(15),{closeModal:n,openModal:a}=nT(),l=eI(),{isValid:o}=eP(),{user:r}=aD(),[i,c]=s.useState(!1),{t:u}=(0,d.d)(),p=!!((l||!o)&&r),m;t[0]!==a?(m=()=>{a(hF)},t[0]=a,t[1]=m):m=t[1];let v=m,g;t[2]!==n?(g=()=>{n(hF)},t[2]=n,t[3]=g):g=t[3];let b=g,x;t[4]!==b||t[5]!==i||t[6]!==v||t[7]!==p?(x={hasAccepted:i,onAccept:b,onPrevent:v,prevent:p},t[4]=b,t[5]=i,t[6]=v,t[7]=p,t[8]=x):x=t[8],hL(x),t[9]!==n?(e=()=>{n(hF)},t[9]=n,t[10]=e):e=t[10];let y=e,w;t[11]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{c(!0)},t[11]=w):w=t[11];let j=w,C;return t[12]!==y||t[13]!==u?(C=(0,f.jsx)(aw,{body:u("general:changesNotSaved"),cancelLabel:u("general:stayOnThisPage"),confirmLabel:u("general:leaveAnyway"),heading:u("general:leaveWithoutSaving"),modalSlug:hF,onCancel:y,onConfirm:j}),t[12]=y,t[13]=u,t[14]=C):C=t[14],C},hA="document-take-over",hM="document-take-over",hB=e=>{let t,n=(0,h.c)(17),{handleBackToDashboard:a,isActive:l,onReadOnly:o}=e,{closeModal:r,openModal:i}=nT(),{t:c}=(0,d.d)(),{startRouteTransition:u}=te(),p,m;if(n[0]!==r||n[1]!==l||n[2]!==i?(p=()=>{l?i(hA):r(hA)},m=[l,i,r],n[0]=r,n[1]=l,n[2]=i,n[3]=p,n[4]=m):(p=n[3],m=n[4]),(0,s.useEffect)(p,m),n[5]!==r||n[6]!==a||n[7]!==o||n[8]!==u||n[9]!==c){let e,l;n[11]!==a||n[12]!==u?(e=()=>{u(()=>a())},n[11]=a,n[12]=u,n[13]=e):e=n[13],n[14]!==r||n[15]!==o?(l=()=>{o(),r(hA)},n[14]=r,n[15]=o,n[16]=l):l=n[16],t=(0,f.jsx)(nY,{className:hM,slug:hA,children:(0,f.jsxs)("div",{className:"".concat(hM,"__wrapper"),children:[(0,f.jsxs)("div",{className:"".concat(hM,"__content"),children:[(0,f.jsx)("h1",{children:c("general:editingTakenOver")}),(0,f.jsx)("p",{children:c("general:anotherUserTakenOver")})]}),(0,f.jsxs)("div",{className:"".concat(hM,"__controls"),children:[(0,f.jsx)(tO,{buttonStyle:"primary",id:"".concat(hA,"-back-to-dashboard"),onClick:e,size:"large",children:c("general:backToDashboard")}),(0,f.jsx)(tO,{buttonStyle:"secondary",id:"".concat(hA,"-view-read-only"),onClick:l,size:"large",children:c("general:viewReadOnly")})]})]})}),n[5]=r,n[6]=a,n[7]=o,n[8]=u,n[9]=c,n[10]=t}else t=n[10];return t},hz=e=>e&&"object"==typeof e,hU="document-locked",hV="document-locked",hH=e=>e?new Intl.DateTimeFormat("en-US",{day:"numeric",hour:"numeric",hour12:!0,minute:"numeric",month:"short",year:"numeric"}).format(e):"",hq=e=>{let t,n,a=(0,h.c)(30),{handleGoBack:l,isActive:o,onReadOnly:r,onTakeOver:i,updatedAt:c,user:u}=e,{closeModal:p,openModal:m}=nT(),{t:v}=(0,d.d)(),{startRouteTransition:g}=te(),b,x;if(a[0]!==p||a[1]!==o||a[2]!==m?(b=()=>{o?m(hU):p(hU)},x=[o,m,p],a[0]=p,a[1]=o,a[2]=m,a[3]=b,a[4]=x):(b=a[3],x=a[4]),(0,s.useEffect)(b,x),a[5]!==l||a[6]!==g?(t=()=>{g(()=>l())},a[5]=l,a[6]=g,a[7]=t):t=a[7],a[8]!==p||a[9]!==l||a[10]!==r||a[11]!==i||a[12]!==g||a[13]!==v||a[14]!==t||a[15]!==c||a[16]!==u){var y;let e,o,s,d;a[18]!==v||a[19]!==u?(e=hz(u)?null!==(y=u.email)&&void 0!==y?y:u.id:"".concat(v("general:user"),": ").concat(u),a[18]=v,a[19]=u,a[20]=e):e=a[20],a[21]!==l||a[22]!==g?(o=()=>{g(()=>l())},a[21]=l,a[22]=g,a[23]=o):o=a[23],a[24]!==p||a[25]!==r?(s=()=>{r(),p(hU)},a[24]=p,a[25]=r,a[26]=s):s=a[26],a[27]!==p||a[28]!==i?(d=()=>{i(),p(hU)},a[27]=p,a[28]=i,a[29]=d):d=a[29],n=(0,f.jsx)(nY,{className:hV,onClose:t,slug:hU,children:(0,f.jsxs)("div",{className:"".concat(hV,"__wrapper"),children:[(0,f.jsxs)("div",{className:"".concat(hV,"__content"),children:[(0,f.jsx)("h1",{children:v("general:documentLocked")}),(0,f.jsxs)("p",{children:[(0,f.jsx)("strong",{children:e})," ",v("general:currentlyEditing")]}),(0,f.jsxs)("p",{children:[v("general:editedSince")," ",(0,f.jsx)("strong",{children:hH(c)})]})]}),(0,f.jsxs)("div",{className:"".concat(hV,"__controls"),children:[(0,f.jsx)(tO,{buttonStyle:"secondary",id:"".concat(hU,"-go-back"),onClick:o,size:"large",children:v("general:goBack")}),(0,f.jsx)(tO,{buttonStyle:"secondary",id:"".concat(hU,"-view-read-only"),onClick:s,size:"large",children:v("general:viewReadOnly")}),(0,f.jsx)(tO,{buttonStyle:"primary",id:"".concat(hU,"-take-over"),onClick:d,size:"large",children:v("general:takeOver")})]})]})}),a[8]=p,a[9]=l,a[10]=r,a[11]=i,a[12]=g,a[13]=v,a[14]=t,a[15]=c,a[16]=u,a[17]=n}else n=a[17];return n};function hW(e){let t=(0,h.c)(3),{i18n:n}=(0,d.d)(),{description:a}=e;if(a){let e;return t[0]!==a||t[1]!==n?(e=(0,f.jsx)("div",{className:"custom-view-description",children:(0,m.i)(a,n)}),t[0]=a,t[1]=n,t[2]=e):e=t[2],e}return null}var hK="graphic-account",hY=e=>(0,f.jsxs)("svg",{className:[hK,(null==e?void 0:e.active)&&"".concat(hK,"--active")].filter(Boolean).join(" "),height:"25",viewBox:"0 0 25 25",width:"25",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("circle",{className:"".concat(hK,"__bg"),cx:"12.5",cy:"12.5",r:"11.5"}),(0,f.jsx)("circle",{className:"".concat(hK,"__head"),cx:"12.5",cy:"10.73",r:"3.98"}),(0,f.jsx)("path",{className:"".concat(hK,"__body"),d:"M12.5,24a11.44,11.44,0,0,0,7.66-2.94c-.5-2.71-3.73-4.8-7.66-4.8s-7.16,2.09-7.66,4.8A11.44,11.44,0,0,0,12.5,24Z"})]}),hG=(0,p.e)(ep(),1),h$=()=>{let e=(0,h.c)(2),{user:t}=aD(),n=(0,hG.default)(t.email.trim().toLowerCase()),a="?".concat(new URLSearchParams({default:"mp",r:"g",s:"50"}).toString()),l="https://www.gravatar.com/avatar/".concat(n,"?").concat(a),o;return e[0]!==l?(o=(0,f.jsx)("img",{alt:"yas",className:"gravatar-account",height:25,src:l,style:{borderRadius:"50%"},width:25}),e[0]=l,e[1]=o):o=e[1],o},hX=()=>{let e=(0,h.c)(3),{config:t}=(0,u.b)(),{admin:n,routes:a}=t,{avatar:l,routes:o}=n,{account:r}=o,{admin:i}=a,{user:s}=aD(),c=(0,g.usePathname)()===(0,y.$)({adminRoute:i,path:r});if(!(null==s?void 0:s.email)||"default"===l){let t;return e[0]!==c?(t=(0,f.jsx)(hY,{active:c}),e[0]=c,e[1]=t):t=e[1],t}if("gravatar"===l){let t;return e[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,f.jsx)(h$,{}),e[2]=t):t=e[2],t}},hQ=(0,s.createContext)({Actions:{},setViewActions:()=>{}}),hZ=()=>(0,s.use)(hQ),hJ=e=>{let t=(0,h.c)(4),{Actions:n,children:a}=e,[l,o]=(0,s.useState)(n),r;return t[0]!==n||t[1]!==a||t[2]!==l?(r=(0,f.jsx)(hQ,{value:{Actions:{...l,...n},setViewActions:o},children:a}),t[0]=n,t[1]=a,t[2]=l,t[3]=r):r=t[3],r},h0=()=>(0,f.jsx)("svg",{className:"icon icon--close-menu",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M14 6L6 14M6 6L14 14",strokeLinecap:"square"})}),h1=()=>(0,f.jsx)("svg",{className:"icon icon--menu",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M4.66667 10H15.3333M4.66667 6H15.3333M4.66667 14H15.3333",strokeLinecap:"square"})}),h3="hamburger",h2=e=>{let t=(0,h.c)(4),{t:n}=(0,d.d)(),{closeIcon:a,isActive:l}=e,o=void 0===a?"x":a,r=void 0!==l&&l,i;return t[0]!==o||t[1]!==r||t[2]!==n?(i=(0,f.jsxs)("div",{className:h3,children:[!r&&(0,f.jsx)("div",{"aria-label":n("general:open"),className:"".concat(h3,"__open-icon"),title:n("general:open"),children:(0,f.jsx)(h1,{})}),r&&(0,f.jsxs)("div",{"aria-label":n("collapse"===o?"general:collapse":"general:close"),className:"".concat(h3,"__close-icon"),title:n("collapse"===o?"general:collapse":"general:close"),children:["x"===o&&(0,f.jsx)(h0,{}),"collapse"===o&&(0,f.jsx)(ti,{direction:"left"})]})]}),t[0]=o,t[1]=r,t[2]=n,t[3]=i):i=t[3],i},h6="localizer-button",h5=e=>{let t,n=(0,h.c)(12),{ariaLabel:a,className:l}=e,o=aB(),{i18n:r,t:i}=(0,d.d)(),s;n[0]!==a||n[1]!==i?(s=a||i("general:locale"),n[0]=a,n[1]=i,n[2]=s):s=n[2],n[3]!==l?(t=[h6,l].filter(Boolean),n[3]=l,n[4]=t):t=n[4];let c=t.join(" "),u=o?o.code:void 0,p="".concat(i("general:locale"),":"),v;return n[5]!==r||n[6]!==o.label||n[7]!==s||n[8]!==c||n[9]!==u||n[10]!==p?(v=(0,f.jsxs)("div",{"aria-label":s,className:c,"data-locale":u,children:[(0,f.jsxs)("div",{className:"".concat(h6,"__label"),children:[p,"\xa0"]}),(0,f.jsxs)("div",{className:"".concat(h6,"__current"),children:[(0,f.jsx)("span",{className:"".concat(h6,"__current-label"),children:"".concat((0,m.i)(o.label,r))}),(0,f.jsx)(ti,{className:"".concat(h6,"__chevron")})]})]}),n[5]=r,n[6]=o.label,n[7]=s,n[8]=c,n[9]=u,n[10]=p,n[11]=v):v=n[11],v},h4="localizer",h8=e=>{let t=(0,h.c)(17),{className:n}=e,{config:a}=(0,u.b)(),{localization:l}=a,o=(0,g.useRouter)(),{startRouteTransition:r}=te(),{setLocaleIsLoading:i}=aM(),{i18n:c}=(0,d.d)(),p=aB();if(l){let{locales:e}=l,a;t[0]!==n?(a=[h4,n].filter(Boolean),t[0]=n,t[1]=a):a=t[1];let u=a.join(" "),d;if(t[2]!==c||t[3]!==p||t[4]!==e||t[5]!==o||t[6]!==i||t[7]!==r||t[8]!==u){let n;t[10]!==c||t[11]!==p||t[12]!==e||t[13]!==o||t[14]!==i||t[15]!==r?(n=t=>{let{close:n}=t;return(0,f.jsx)(tp.ButtonGroup,{children:e.map(e=>{let t=(0,m.i)(e.label,c);return(0,f.jsx)(tp.Button,{active:p.code===e.code,disabled:p.code===e.code,onClick:()=>{i(!0),n();let t=new URLSearchParams(window.location.search),a=w.P({...P.Q(t.toString(),{depth:10,ignoreQueryPrefix:!0}),locale:e.code},{addQueryPrefix:!0});r(()=>{o.push(a)})},children:t!==e.code?(0,f.jsxs)(s.Fragment,{children:[t,"\xa0",(0,f.jsx)("span",{className:"".concat(h4,"__locale-code"),"data-locale":e.code,children:"(".concat(e.code,")")})]}):(0,f.jsx)("span",{className:"".concat(h4,"__locale-code"),"data-locale":e.code,children:t})},e.code)})})},t[10]=c,t[11]=p,t[12]=e,t[13]=o,t[14]=i,t[15]=r,t[16]=n):n=t[16],d=(0,f.jsx)("div",{className:u,children:(0,f.jsx)(tD,{button:(0,f.jsx)(h5,{}),horizontalAlign:"right",render:n,showScrollbar:!0,size:"large"})}),t[2]=c,t[3]=p,t[4]=e,t[5]=o,t[6]=i,t[7]=r,t[8]=u,t[9]=d}else d=t[9];return d}return null},h7=s.createContext({hydrated:!1,navOpen:!0,navRef:null,setNavOpen:()=>{},shouldAnimate:!1}),h9=()=>s.use(h7),me=async e=>{var t;let n=null===(t=await e("nav"))||void 0===t?void 0:t.open;return"boolean"!=typeof n||n},mt=e=>{let{children:t,initialIsOpen:n}=e,{breakpoints:{l:a,m:l,s:o}}=ty(),r=(0,g.usePathname)(),{getPreference:i}=aO(),c=(0,s.useRef)(null),[u,d]=s.useState(n),[p,h]=s.useState(!1),[m,v]=s.useState(!1);return(0,s.useEffect)(()=>{!1===a&&(async()=>{d(await me(i))})()},[a,i,d]),(0,s.useEffect)(()=>{!0===o&&d(!1)},[r]),(0,s.useEffect)(()=>{c.current&&(u&&l?c.current.style.overscrollBehavior="contain":c.current.style.overscrollBehavior="auto")},[u,l]),(0,s.useEffect)(()=>{(!0===a||!0===l||!0===o)&&d(!1),v(!0);let e=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(e)}},[a,l,o]),(0,s.useEffect)(()=>()=>{c.current&&(c.current.style.overscrollBehavior="auto")},[]),(0,f.jsx)(h7,{value:{hydrated:m,navOpen:u,navRef:c,setNavOpen:d,shouldAnimate:p},children:t})},mn="nav-toggler",ma=e=>{let t,n=(0,h.c)(15),{id:a,children:l,className:o,tabIndex:r}=e,i=void 0===r?0:r,{t:s}=(0,d.d)(),{setPreference:c}=aO(),{navOpen:u,setNavOpen:p}=h9(),{breakpoints:m}=ty(),{l:v}=m,g="".concat(s(u?"general:close":"general:open")," ").concat(s("general:menu")),b=u&&"".concat(mn,"--is-open"),x;n[0]!==o||n[1]!==b?(x=[mn,b,o].filter(Boolean),n[0]=o,n[1]=b,n[2]=x):x=n[2];let y=x.join(" "),w;return n[3]!==v||n[4]!==u||n[5]!==p||n[6]!==c?(w=async()=>{p(!u),v||await c("nav",{open:!u},!0)},n[3]=v,n[4]=u,n[5]=p,n[6]=c,n[7]=w):w=n[7],n[8]!==l||n[9]!==a||n[10]!==g||n[11]!==y||n[12]!==w||n[13]!==i?(t=(0,f.jsx)("button",{"aria-label":g,className:y,id:a,onClick:w,tabIndex:i,type:"button",children:l}),n[8]=l,n[9]=a,n[10]=g,n[11]=y,n[12]=w,n[13]=i,n[14]=t):t=n[14],t},ml=e=>{let{fill:t}=e,n=t||"var(--theme-elevation-1000)";return(0,f.jsxs)("svg",{className:"graphic-icon",height:"100%",viewBox:"0 0 25 25",width:"100%",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{d:"M11.8673 21.2336L4.40922 16.9845C4.31871 16.9309 4.25837 16.8355 4.25837 16.7282V10.1609C4.25837 10.0477 4.38508 9.97616 4.48162 10.0298L13.1404 14.9642C13.2611 15.0358 13.412 14.9464 13.412 14.8093V11.6091C13.412 11.4839 13.3456 11.3647 13.2309 11.2992L2.81624 5.36353C2.72573 5.30989 2.60505 5.30989 2.51454 5.36353L1.15085 6.14422C1.06034 6.19786 1 6.29321 1 6.40048V18.5995C1 18.7068 1.06034 18.8021 1.15085 18.8558L11.8491 24.9583C11.9397 25.0119 12.0603 25.0119 12.1509 24.9583L21.1355 19.8331C21.2562 19.7616 21.2562 19.5948 21.1355 19.5232L18.3357 17.9261C18.2211 17.8605 18.0883 17.8605 17.9737 17.9261L12.175 21.2336C12.0845 21.2872 11.9638 21.2872 11.8733 21.2336H11.8673Z",fill:n}),(0,f.jsx)("path",{d:"M22.8491 6.13827L12.1508 0.0417218C12.0603 -0.0119135 11.9397 -0.0119135 11.8491 0.0417218L6.19528 3.2658C6.0746 3.33731 6.0746 3.50418 6.19528 3.57569L8.97092 5.16091C9.08557 5.22647 9.21832 5.22647 9.33296 5.16091L11.8672 3.71872C11.9578 3.66508 12.0784 3.66508 12.1689 3.71872L19.627 7.96782C19.7175 8.02146 19.7778 8.11681 19.7778 8.22408V14.8212C19.7778 14.9464 19.8442 15.0656 19.9589 15.1311L22.7345 16.7104C22.8552 16.7819 23.006 16.6925 23.006 16.5554V6.40048C23.006 6.29321 22.9457 6.19786 22.8552 6.14423L22.8491 6.13827Z",fill:n})]})},mo=()=>(0,s.use)(mr),mr=(0,s.createContext)({}),mi=e=>{let t=(0,h.c)(4),{children:n}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],t[0]=a):a=t[0];let[l,o]=(0,s.useState)(a),r;return t[1]!==n||t[2]!==l?(r=(0,f.jsx)(mr,{value:{setStepNav:o,stepNav:l},children:n}),t[1]=n,t[2]=l,t[3]=r):r=t[3],r},ms=e=>{let t=(0,h.c)(4),{nav:n}=e,{setStepNav:a}=mo(),l,o;return t[0]!==n||t[1]!==a?(l=()=>{a(n)},o=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=o):(l=t[2],o=t[3]),(0,s.useEffect)(l,o),null},mc="step-nav",mu=e=>{let t=(0,h.c)(7),{className:n,CustomIcon:a}=e,{i18n:l}=(0,d.d)(),{stepNav:o}=mo(),{config:r}=(0,u.b)(),{routes:i}=r,{admin:c}=i,{t:p}=(0,d.d)(),v;return t[0]!==a||t[1]!==c||t[2]!==n||t[3]!==l||t[4]!==o||t[5]!==p?(v=(0,f.jsx)(s.Fragment,{children:o.length>0?(0,f.jsxs)("nav",{className:[mc,n].filter(Boolean).join(" "),children:[(0,f.jsx)(tl,{className:"".concat(mc,"__home"),href:c,prefetch:!1,tabIndex:0,children:(0,f.jsx)("span",{title:p("general:dashboard"),children:(0,f.jsx)(ef,{CustomComponent:a,Fallback:(0,f.jsx)(ml,{})})})}),(0,f.jsx)("span",{children:"/"}),o.map((e,t)=>{let n=(0,m.i)(e.label,l);return o.length===t+1?(0,f.jsx)("span",{className:"".concat(mc,"__last"),children:n},t):(0,f.jsxs)(s.Fragment,{children:[e.url?(0,f.jsx)(tl,{href:e.url,prefetch:!1,children:(0,f.jsx)("span",{children:n},t)}):(0,f.jsx)("span",{children:n},t),(0,f.jsx)("span",{children:"/"})]},t)})]}):(0,f.jsx)("div",{className:[mc,n].filter(Boolean).join(" "),children:(0,f.jsx)("div",{className:"".concat(mc,"__home"),children:(0,f.jsx)("span",{title:p("general:dashboard"),children:(0,f.jsx)(ef,{CustomComponent:a,Fallback:(0,f.jsx)(ml,{})})})})})}),t[0]=a,t[1]=c,t[2]=n,t[3]=l,t[4]=o,t[5]=p,t[6]=v):v=t[6],v},md="app-header";function mp(e){let{CustomAvatar:t,CustomIcon:n}=e,{t:a}=(0,d.d)(),{Actions:l}=hZ(),{config:{admin:{routes:{account:o}},localization:r,routes:{admin:i}}}=(0,u.b)(),{navOpen:c}=h9(),p=(0,s.useRef)(null),[h,m]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=()=>{let e=p.current;e&&m(e.scrollWidth>e.clientWidth)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[l]);let v=l?Object.values(l):[];return(0,f.jsxs)("header",{className:[md,c&&"".concat(md,"--nav-open")].filter(Boolean).join(" "),children:[(0,f.jsx)("div",{className:"".concat(md,"__bg")}),(0,f.jsx)("div",{className:"".concat(md,"__content"),children:(0,f.jsxs)("div",{className:"".concat(md,"__wrapper"),children:[(0,f.jsx)(ma,{className:"".concat(md,"__mobile-nav-toggler"),tabIndex:-1,children:(0,f.jsx)(h2,{})}),(0,f.jsxs)("div",{className:"".concat(md,"__controls-wrapper"),children:[(0,f.jsx)("div",{className:"".concat(md,"__step-nav-wrapper"),children:(0,f.jsx)(mu,{className:"".concat(md,"__step-nav"),CustomIcon:n})}),(0,f.jsxs)("div",{className:"".concat(md,"__actions-wrapper"),children:[(0,f.jsx)("div",{className:"".concat(md,"__actions"),ref:p,children:v.map((e,t)=>(0,f.jsx)("div",{className:h&&t===v.length-1?"".concat(md,"__last-action"):"",children:e},t))}),h&&(0,f.jsx)("div",{className:"".concat(md,"__gradient-placeholder")})]}),r&&(0,f.jsx)(h5,{ariaLabel:"invisible",className:"".concat(md,"__localizer-spacing")}),(0,f.jsx)(tl,{"aria-label":a("authentication:account"),className:"".concat(md,"__account"),href:(0,y.$)({adminRoute:i,path:o}),prefetch:!1,tabIndex:0,children:(0,f.jsx)(ef,{CustomComponent:t,Fallback:(0,f.jsx)(hX,{})})})]})]})}),(0,f.jsx)(h8,{className:"".concat(md,"__localizer")})]})}var mf="card",mh=e=>{let{id:t,actions:n,buttonAriaLabel:a,href:l,onClick:o,title:r,titleAs:i}=e,s=[mf,t,(o||l)&&"".concat(mf,"--has-onclick")].filter(Boolean).join(" ");return(0,f.jsxs)("div",{className:s,id:t,children:[(0,f.jsx)(null!=i?i:"div",{className:"".concat(mf,"__title"),children:r}),n&&(0,f.jsx)("div",{className:"".concat(mf,"__actions"),children:n}),(o||l)&&(0,f.jsx)(tO,{"aria-label":a,buttonStyle:"none",className:"".concat(mf,"__click"),el:"link",onClick:o,to:l})]})},mm="copy-locale-data",mv="copy-locale",mg=()=>{let e,t,n,a,l,o,r,i=(0,h.c)(38),{config:c}=(0,u.b)(),{localization:p,routes:v,serverURL:b}=c,{admin:x}=v,{code:w}=aB(),{id:j,collectionSlug:C,globalSlug:S}=lV(),{i18n:_,t:k}=(0,d.d)(),N=eI(),{toggleModal:E}=nT(),{copyDataFromLocale:D}=cE(),P=(0,g.useRouter)(),{startRouteTransition:T}=te(),R;i[0]!==p?(R=p&&p.locales.map(mb)||[],i[0]=p,i[1]=R):R=i[1];let O=R,L;i[2]!==w?(L=e=>e.value!==w,i[2]=w,i[3]=L):L=i[3];let F=O.filter(L),I;i[4]!==_||i[5]!==p?(I=e=>{let t=p&&p.locales.find(t=>t.code===e);return t&&t.label?(0,m.i)(t.label,_):e},i[4]=_,i[5]=p,i[6]=I):I=i[6];let A=I,[M,B]=s.useState(!1),[z,U]=s.useState(null),[V,H]=s.useState(w),[q,W]=s.useState(!1),K,Y;i[7]!==w||i[8]!==V?(K=()=>{V!==w&&H(w)},Y=[w,V],i[7]=w,i[8]=V,i[9]=K,i[10]=Y):(K=i[9],Y=i[10]),s.useEffect(K,Y),i[11]!==x||i[12]!==C||i[13]!==D||i[14]!==S||i[15]!==j||i[16]!==q||i[17]!==P||i[18]!==b||i[19]!==T||i[20]!==E?(e=async e=>{let{from:t,to:n}=e;B(!0);try{await D({collectionSlug:C,docID:j,fromLocale:t,globalSlug:S,overrideData:q,toLocale:n}),B(!1),T(()=>P.push((0,y.$)({adminRoute:x,path:"/".concat(C?"collections/".concat(C,"/").concat(j):"globals/".concat(S)),serverURL:b})+"?locale=".concat(n))),E(mv)}catch(e){e3.error(e.message)}},i[11]=x,i[12]=C,i[13]=D,i[14]=S,i[15]=j,i[16]=q,i[17]=P,i[18]=b,i[19]=T,i[20]=E,i[21]=e):e=i[21];let G=e;return j||S?(i[22]!==N||i[23]!==k||i[24]!==E?(t=()=>{N?e3.info(k("general:unsavedChanges")):E(mv)},i[22]=N,i[23]=k,i[24]=E,i[25]=t):t=i[25],i[26]!==E?(n=()=>{E(mv)},i[26]=E,i[27]=n):n=i[27],i[28]!==G||i[29]!==M||i[30]!==V||i[31]!==k||i[32]!==z?(a=async()=>{if(V===z){e3.error(k("localization:cannotCopySameLocale"));return}M||await G({from:V,to:z})},i[28]=G,i[29]=M,i[30]=V,i[31]=k,i[32]=z,i[33]=a):a=i[33],i[34]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{(null==e?void 0:e.value)&&H(e.value)},i[34]=l):l=i[34],i[35]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{(null==e?void 0:e.value)&&U(e.value)},i[35]=o):o=i[35],i[36]!==q?(r=()=>W(!q),i[36]=q,i[37]=r):r=i[37],(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(tp.Button,{id:"".concat(mm,"__button"),onClick:t,children:k("localization:copyToLocale")}),(0,f.jsxs)(av,{className:mm,gutter:!1,Header:(0,f.jsx)(dX,{onClose:n,title:k("localization:copyToLocale")}),slug:mv,children:[(0,f.jsxs)("div",{className:"".concat(mm,"__sub-header"),children:[(0,f.jsx)("span",{children:V&&z?(0,f.jsx)("div",{children:k("localization:copyFromTo",{from:A(V),to:A(z)})}):k("localization:selectLocaleToCopy")}),(0,f.jsx)(tO,{buttonStyle:"primary",disabled:!V||!z,iconPosition:"left",onClick:a,size:"medium",children:M?k("general:copying")+"...":k("general:copy")})]}),(0,f.jsxs)("div",{className:"".concat(mm,"__content"),children:[(0,f.jsx)(ds,{label:k("localization:copyFrom"),name:"fromLocale",onChange:l,options:O,path:"fromLocale",readOnly:!0,value:V}),(0,f.jsx)(ds,{label:k("localization:copyTo"),name:"toLocale",onChange:o,options:F,path:"toLocale",value:z}),(0,f.jsx)(l7,{checked:q,field:{name:"overwriteExisting",label:k("general:overwriteExistingData")},onChange:r,path:"overwriteExisting"})]})]})]})):null};function mb(e){return{label:e.label,value:e.code}}var mx=((i={}).AllAvailable="allAvailable",i.AllInPage="allInPage",i.None="none",i.Some="some",i),my=(0,s.createContext)({}),mw=e=>{let{children:t,docs:n=[],totalDocs:a,user:l}=e,o=(0,s.useRef)({}),{code:r}=aB(),[i,c]=(0,s.useState)(()=>{let e=new Map;return n.forEach(t=>{let{id:n}=t;e.set(n,!1)}),e}),[u,d]=(0,s.useState)("none"),[p,h]=(0,s.useState)(0),m=(0,g.useSearchParams)(),v=(0,s.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Map;e?(d("allAvailable"),n.forEach(e=>{let{id:n,_isLocked:a,_userEditing:o}=e;a&&(null==o?void 0:o.id)!==(null==l?void 0:l.id)||t.set(n,!0)})):"allAvailable"===u||"allInPage"===u?d("none"):n.forEach(e=>{let{id:n,_isLocked:a,_userEditing:o}=e;a&&(null==o?void 0:o.id)!==(null==l?void 0:l.id)||t.set(n,"some"!==u)}),c(t)},[n,u,null==l?void 0:l.id]),b=(0,s.useCallback)(e=>{let t=n.find(t=>t.id===e);if((null==t?void 0:t._isLocked)&&(null==l?void 0:l.id)!==(null==t?void 0:t._userEditing.id))return;let a=i.get(e),o="boolean"!=typeof a||!a,r=new Map(i.set(e,o));"allAvailable"!==u||o||d("some"),c(r)},[i,n,u,null==l?void 0:l.id]),x=(0,s.useCallback)(e=>{var t;let n;if("allAvailable"===u)n=(null===(t=cj(m))||void 0===t?void 0:t.where)||{id:{not_equals:""}};else{let e=[];for(let[t,n]of i)n&&e.push(t);n={id:{in:e}}}return e&&(n={and:[{...e},n]}),w.P({locale:r,where:n},{addQueryPrefix:!0})},[u,i,r,m]),y=(0,s.useCallback)(()=>{let e=[];for(let[t,n]of i)n&&e.push(t);return e},[i]);return(0,s.useEffect)(()=>{if("allAvailable"===u)return;let e=!1,t=!0;if(i.size)for(let[n,a]of i)t=t&&a,e=e||a;else t=!1,e=!1;t&&i.size===n.length?d("allInPage"):d(e?"some":"none")},[u,i,a,n]),(0,s.useEffect)(()=>{let e=0;if("allAvailable"===u)e=a;else for(let[t,n]of i)n&&e++;h(e)},[u,i,a]),o.current={count:p,getQueryParams:x,getSelectedIds:y,selectAll:u,selected:i,setSelection:b,toggleAll:v,totalDocs:a},(0,f.jsx)(my,{value:o.current,children:t})},mj=()=>(0,s.use)(my),mC="list-selection";function mS(e){let t=(0,h.c)(9),{count:n,ListActions:a,SelectionActions:l}=e,{t:o}=(0,d.d)(),r;if(t[0]!==a||t[1]!==l||t[2]!==n||t[3]!==o){let e,i;t[5]!==a?(e=a&&a.length>0&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("span",{children:"—"}),(0,f.jsx)("div",{className:"".concat(mC,"__actions"),children:a})]}),t[5]=a,t[6]=e):e=t[6],t[7]!==l?(i=l&&l.length>0&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("span",{children:"—"}),(0,f.jsx)("div",{className:"".concat(mC,"__actions"),children:l})]}),t[7]=l,t[8]=i):i=t[8],r=(0,f.jsxs)("div",{className:mC,children:[(0,f.jsx)("span",{children:o("general:selectedCount",{count:n,label:""})}),e,i]}),t[0]=a,t[1]=l,t[2]=n,t[3]=o,t[4]=r}else r=t[4];return r}function m_(e){let{children:t,className:n,...a}=e;return(0,f.jsx)(tO,{...a,buttonStyle:"none",className:["".concat(mC,"__button"),n].filter(Boolean).join(" "),children:t})}var mk="confirm-delete-many-docs",mN=e=>{var t,n,a,l;let o=(0,h.c)(18),{collection:r}=e,i;o[0]!==r?(i=void 0===r?{}:r,o[0]=r,o[1]=i):i=o[1];let{slug:c}=i,{permissions:u}=aD(),{count:d,getSelectedIds:p,selectAll:m,toggleAll:v}=mj(),b=(0,g.useRouter)(),x=(0,g.useSearchParams)(),{clearRouteCache:y}=pC(),j=null==u?void 0:null===(n=u.collections)||void 0===n?void 0:null===(t=n[c])||void 0===t?void 0:t.delete;if(m===mx.None||!j)return null;let C=m===mx.AllAvailable,S;if(o[2]!==y||o[3]!==d||o[4]!==p||o[5]!==b||o[6]!==x||o[7]!==m||o[8]!==C||o[9]!==c||o[10]!==v){let e=C?[]:p(),t;o[12]!==y||o[13]!==b||o[14]!==x||o[15]!==m||o[16]!==v?(t=()=>{v(),b.replace(w.P({...cj(x),page:m?"1":void 0},{addQueryPrefix:!0})),y()},o[12]=y,o[13]=b,o[14]=x,o[15]=m,o[16]=v,o[17]=t):t=o[17],S=(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(mE,{afterDelete:t,search:null===(a=cj(x))||void 0===a?void 0:a.search,selections:{[c]:{all:m===mx.AllAvailable,ids:e,totalCount:C?d:e.length}},where:null===(l=cj(x))||void 0===l?void 0:l.where})}),o[2]=y,o[3]=d,o[4]=p,o[5]=b,o[6]=x,o[7]=m,o[8]=C,o[9]=c,o[10]=v,o[11]=S}else S=o[11];return S};function mE(e){let{afterDelete:t,search:n,selections:a,where:l}=e,{t:o}=(0,d.d)(),{config:{collections:r,routes:{api:i},serverURL:c}}=(0,u.b)(),{code:p}=aB(),{i18n:h}=(0,d.d)(),{openModal:v}=nT(),g=s.useCallback(async()=>{let e=1===Object.keys(a).length,s={};for(let[t,{all:u,ids:d=[]}]of Object.entries(a)){let a=r.find(e=>{let{slug:n}=e;return n===t});if(a){let r;r=u?e&&l?l:{id:{not_equals:""}}:{id:{in:d}};let f=await ak.delete("".concat(c).concat(i,"/").concat(t).concat(w.P({limit:0,locale:p,where:(0,N.c)({collectionConfig:a,search:n,where:r})},{addQueryPrefix:!0})),{headers:{"Accept-Language":h.language,"Content-Type":"application/json"}});try{let{plural:e,singular:n}=a.labels,l=await f.json(),r=(null==l?void 0:l.docs.length)||0,i=r>1?e:n;(f.status<400||r>0)&&e3.success(o("general:deletedCountSuccessfully",{count:r,label:(0,m.i)(i,h)})),(null==l?void 0:l.errors.length)>0&&e3.error(l.message,{description:l.errors.map(e=>e.message).join("\n")}),s[t]={deletedCount:r,errors:(null==l?void 0:l.errors)||null,ids:(null==l?void 0:l.docs.map(e=>e.id))||[],totalCount:l.totalDocs},f.status>400&&(null==l?void 0:l.errors.length)===0&&(e3.error(o("error:unknown")),s[t].errors=[o("error:unknown")]);continue}catch(e){e3.error(o("error:unknown")),s[t]={deletedCount:0,errors:[e],ids:[],totalCount:0};continue}}}"function"==typeof t&&t(s)},[a,t,r,p,n,c,i,h,l,o]),{label:b,labelCount:x}=Object.entries(a).reduce((e,t,n,a)=>{let[l,o]=t,i=r.find(e=>{let{slug:t}=e;return t===l});if(i){let t=void 0===e.labelCount?o.totalCount:e.labelCount,l="".concat(void 0!==e.labelCount?"".concat(o.totalCount," "):"").concat((0,m.i)(o.totalCount>1?i.labels.plural:i.labels.singular,h));return{label:n===a.length-1&&0!==n?"".concat(e.label," and ").concat(l):n>0?"".concat(e.label,", ").concat(l):l,labelCount:t}}return e},{label:"",labelCount:void 0});return(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(m_,{"aria-label":o("general:delete"),className:"delete-documents__toggle",onClick:()=>{v(mk)},children:o("general:delete")}),(0,f.jsx)(aw,{body:o("general:aboutToDeleteCount",{count:x,label:b}),confirmingLabel:o("general:deleting"),heading:o("general:confirmDeletion"),modalSlug:mk,onConfirm:g})]})}var mD=(0,s.createContext)({appIsReady:!1,breakpoint:void 0,breakpoints:void 0,fieldSchemaJSON:void 0,iframeHasLoaded:!1,iframeRef:void 0,isLivePreviewEnabled:void 0,isLivePreviewing:!1,isPopupOpen:!1,measuredDeviceSize:{height:0,width:0},openPopupWindow:()=>{},popupRef:void 0,previewWindowType:"iframe",setAppIsReady:()=>{},setBreakpoint:()=>{},setHeight:()=>{},setIframeHasLoaded:()=>{},setIsLivePreviewing:()=>{},setMeasuredDeviceSize:()=>{},setPreviewWindowType:()=>{},setSize:()=>{},setToolbarPosition:()=>{},setWidth:()=>{},setZoom:()=>{},size:{height:0,width:0},toolbarPosition:{x:0,y:0},url:void 0,zoom:1}),mP=()=>(0,s.use)(mD),mT=(e,t,n)=>{let a={data:{},valid:!0};return e&&(Object.keys(e).forEach(t=>{var l,o;!0!==n&&(null===(l=e[t])||void 0===l?void 0:l.disableFormData)||(a.data[t]=null===(o=e[t])||void 0===o?void 0:o.value,e[t].valid||(a.valid=!1))}),t&&(a.data=(0,U.T)(a.data))),a},mR=e=>{var t,n;let{id:a,collection:l,global:o}=e,{config:{routes:{api:r},serverURL:i}}=(0,u.b)(),{docConfig:c,incrementVersionCount:p,lastUpdateTime:h,mostRecentVersionIsAutosaved:m,setLastUpdateTime:v,setMostRecentVersionIsAutosaved:g,setUnpublishedVersionCount:b,updateSavedDocumentData:x}=lV(),{onSave:y}=cQ(),{reportUpdate:w}=pp(),{dispatchFields:C,isValid:S,setBackgroundProcessing:_,setIsValid:k}=eP(),[N]=eB(),E=eI(),D=eO(),{code:P}=aB(),{i18n:T,t:R}=(0,d.d)(),O=null==c?void 0:c.versions,L=G.t.autosaveInterval;O.drafts&&O.drafts.autosave&&(L=O.drafts.autosave.interval);let F=!!((null==c?void 0:null===(t=c.versions)||void 0===t?void 0:t.drafts)&&(null==c?void 0:null===(n=c.versions)||void 0===n?void 0:n.drafts.validate)),[I,M]=(0,s.useState)(!1),B=(0,s.useDeferredValue)(I),z=aS(N,L),U=(0,s.useRef)(N),V=(0,s.useRef)(E),H=(0,s.useRef)(P);U.current=N,V.current=E,H.current=P;let{queueTask:q}=u$(),W=(0,s.useRef)(null),K=a_(()=>{W.current=void 0;let e,t,n=()=>{t-e<1e3?W.current=setTimeout(()=>{M(!1)},1e3-(t-e)):X()};q(async()=>{if(E){let u,d,f;if(e=new Date().getTime(),M(!0),l&&a&&(f=l.slug,u="".concat(i).concat(r,"/").concat(f,"/").concat(a,"?draft=true&autosave=true&locale=").concat(H.current),d="PATCH"),o&&(f=o.slug,u="".concat(i).concat(r,"/globals/").concat(f,"?draft=true&autosave=true&locale=").concat(H.current),d="POST"),u&&V.current){var s,c;let{data:e,valid:l}=mT(U.current,!0);if(e._status="draft",!(D&&!l&&(null==O?void 0:O.drafts)&&(null==O?void 0:null===(s=O.drafts)||void 0===s?void 0:s.validate))){let l;try{l=await fetch(u,{body:JSON.stringify(e),credentials:"include",headers:{"Accept-Language":T.language,"Content-Type":"application/json"},method:d})}catch(e){}let o=new Date;t=o.getTime();let r=await l.json();if(200===l.status&&(v(o.getTime()),w({id:a,entitySlug:f,updatedAt:o.toISOString()}),"function"==typeof y&&y({...r,operation:"update"}),m||(p(),g(!0),b(e=>e+1))),(null==O?void 0:O.drafts)&&(null==O?void 0:null===(c=O.drafts)||void 0===c?void 0:c.validate)&&(null==r?void 0:r.errors)){if(Array.isArray(r.errors)){let[e,t]=r.errors.reduce((e,t)=>{let[n,a]=e,l=[],o=[];return(null==t?void 0:t.message)&&o.push(t),Array.isArray(null==t?void 0:t.data)&&t.data.forEach(e=>{(null==e?void 0:e.field)?l.push(e):o.push(e)}),[[...n,...l],[...a,...o]]},[[],[]]);C({type:"ADD_SERVER_ERRORS",errors:e}),t.forEach(e=>{e3.error(e.message||T.t("error:unknown"))}),k(!1),n();return}}else{let e=(null==r?void 0:r.doc)||(null==r?void 0:r.result);e&&(k(!0),x(e))}n()}}}},{afterProcess:()=>{_(!1)},beforeProcess:()=>{_(!0)}})}),Y=(0,s.useRef)(!1),$=(0,s.useRef)((0,A.Q)(z));(0,s.useEffect)(()=>{if(!Y.current){Y.current=!0;return}let{updatedAt:e,...t}=(0,A.Q)(z),{updatedAt:n,...a}=$.current;(0,j.J)(t,a)||($.current=t,K())},[z]),(0,s.useEffect)(()=>()=>{X()},[]);let X=a_(()=>{W.current&&clearTimeout(W.current),M(!1)});return(0,f.jsxs)("div",{className:"autosave",children:[F&&!S&&(0,f.jsx)(hI,{}),B&&R("general:saving"),!B&&!!h&&(0,f.jsx)(s.Fragment,{children:R("version:lastSavedAgo",{distance:lN({date:h,i18n:T})})})]})},mO=e=>{let{id:t,buttonId:n,collectionSlug:a,onDelete:l,redirectAfterDelete:o=!0,singularLabel:r,title:i}=e,{config:{routes:{admin:c,api:p},serverURL:h},getEntityConfig:v}=(0,u.b)(),b=v({collectionSlug:a}),{setModified:x}=eP(),w=(0,g.useRouter)(),{i18n:j,t:C}=(0,d.d)(),{title:S}=lO(),{startRouteTransition:_}=te(),{openModal:k}=nT(),N="delete-".concat(t),E=(0,s.useCallback)(()=>{e3.error(C("error:deletingTitle",{title:S}))},[C,S]),D=(0,s.useCallback)(async()=>{x(!1);try{await ak.delete("".concat(h).concat(p,"/").concat(a,"/").concat(t),{headers:{"Accept-Language":j.language,"Content-Type":"application/json"}}).then(async e=>{try{let n=await e.json();if(e.status<400){if(e3.success(C("general:titleDeleted",{label:(0,m.i)(r,j),title:S})||n.message),o)return _(()=>w.push((0,y.$)({adminRoute:c,path:"/collections/".concat(a)})));"function"==typeof l&&await l({id:t,collectionConfig:b});return}return n.errors?n.errors.forEach(e=>e3.error(e.message)):E(),!1}catch(e){return E()}})}catch(e){return E()}},[x,h,p,a,t,C,r,E,j,S,w,c,o,l,b,_]);return t?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(tp.Button,{id:n,onClick:()=>{k(N)},children:C("general:delete")}),(0,f.jsx)(aw,{body:(0,f.jsx)(pO,{elements:{1:e=>{let{children:t}=e;return(0,f.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:C,variables:{label:(0,m.i)(r,j),title:i||S||t}}),confirmingLabel:C("general:deleting"),heading:C("general:confirmDeletion"),modalSlug:N,onConfirm:D})]}):null},mL=e=>{let{id:t,slug:n,onDuplicate:a,redirectAfterDuplicate:l=!0,singularLabel:o}=e,r=(0,g.useRouter)(),i=eI(),{openModal:c}=nT(),p=aB(),{setModified:h}=eP(),{startRouteTransition:v}=te(),{config:{routes:{admin:b,api:x},serverURL:w},getEntityConfig:j}=(0,u.b)(),C=j({collectionSlug:n}),[S,_]=s.useState(!1),{i18n:k,t:N}=(0,d.d)(),E="duplicate-".concat(t),D=(0,s.useCallback)(async()=>{_(!0),await ak.post("".concat(w).concat(x,"/").concat(n,"/").concat(t,"/duplicate").concat((null==p?void 0:p.code)?"?locale=".concat(p.code):""),{body:JSON.stringify({}),headers:{"Accept-Language":k.language,"Content-Type":"application/json",credentials:"include"}}).then(async e=>{let{doc:t,errors:i,message:s}=await e.json();if(e.status<400){if(e3.success(s||N("general:successfullyDuplicated",{label:(0,m.i)(o,k)})),h(!1),l)return v(()=>r.push((0,y.$)({adminRoute:b,path:"/collections/".concat(n,"/").concat(t.id).concat((null==p?void 0:p.code)?"?locale=".concat(p.code):"")})));"function"==typeof a&&a({collectionConfig:C,doc:t})}else e3.error((null==i?void 0:i[0].message)||s||N("error:unspecific",{label:(0,m.i)(o,k)}))})},[p,w,x,n,t,k,N,o,a,l,h,r,b,C,v]),P=(0,s.useCallback)(async()=>{_(!1),await D()},[D]);return(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(tp.Button,{id:"action-duplicate",onClick:()=>i?(_(!0),c(E)):D(),children:N("general:duplicate")}),S&&(0,f.jsx)(aw,{body:N("general:unsavedChangesDuplicate"),confirmLabel:N("general:duplicateWithoutSaving"),heading:N("general:unsavedChanges"),modalSlug:E,onConfirm:P})]})},mF=e=>{let{active:t=!0,className:n}=e;return(0,f.jsx)("svg",{className:[n,"icon icon--eye"].filter(Boolean).join(" "),viewBox:"0 0 16 12",xmlns:"http://www.w3.org/2000/svg",children:t?(0,f.jsx)(s.Fragment,{children:(0,f.jsx)("path",{className:"stroke",d:"M2 11.5L4.35141 9.51035M15 0.5L12.6486 2.48965M10.915 6.64887C10.6493 7.64011 9.78959 8.38832 8.7408 8.48855M10.4085 4.38511C9.94992 3.84369 9.2651 3.5 8.5 3.5C7.11929 3.5 6 4.61929 6 6C6 6.61561 6.22251 7.17926 6.59149 7.61489M10.4085 4.38511L6.59149 7.61489M10.4085 4.38511L12.6486 2.48965M6.59149 7.61489L4.35141 9.51035M14.1292 3.92915C15.0431 5.02085 15.5 6 15.5 6C15.5 6 13.1667 11 8.5 11C7.67995 11 6.93195 10.8456 6.256 10.5911M4.35141 9.51035C2.45047 8.03672 1.5 6 1.5 6C1.5 6 3.83333 1 8.5 1C10.1882 1 11.5711 1.65437 12.6486 2.48965"})}):(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("circle",{className:"stroke",cx:"8.5",cy:"6",r:"2.5"}),(0,f.jsx)("path",{className:"stroke",d:"M8.5 1C3.83333 1 1.5 6 1.5 6C1.5 6 3.83333 11 8.5 11C13.1667 11 15.5 6 15.5 6C15.5 6 13.1667 1 8.5 1Z"})]})})},mI="live-preview-toggler",mA=()=>{let{isLivePreviewing:e,setIsLivePreviewing:t}=mP(),{t:n}=(0,d.d)();return(0,f.jsx)("button",{"aria-label":n(e?"general:exitLivePreview":"general:livePreview"),className:[mI,e&&"".concat(mI,"--active")].filter(Boolean).join(" "),id:"live-preview-toggler",onClick:()=>{t(!e)},title:n(e?"general:exitLivePreview":"general:livePreview"),type:"button",children:(0,f.jsx)(mF,{active:e})})},mM=e=>{let{className:t}=e;return(0,f.jsxs)("svg",{className:["icon icon--lock",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{className:"stroke",d:"M7.5 9.5V7.5C7.5 6.83696 7.76339 6.20107 8.23223 5.73223C8.70107 5.26339 9.33696 5 10 5C10.663 5 11.2989 5.26339 11.7678 5.73223C12.2366 6.20107 12.5 6.83696 12.5 7.5V9.5",strokeLinecap:"round",strokeLinejoin:"round",strokeOpacity:"1"}),(0,f.jsx)("path",{className:"stroke",d:"M13.5 9.5H6.5C5.94772 9.5 5.5 9.94772 5.5 10.5V14C5.5 14.5523 5.94772 15 6.5 15H13.5C14.0523 15 14.5 14.5523 14.5 14V10.5C14.5 9.94772 14.0523 9.5 13.5 9.5Z",stopOpacity:"1",strokeLinecap:"round",strokeLinejoin:"round"})]})},mB="locked",mz=e=>{var t;let n=(0,h.c)(8),{className:a,user:l}=e,[o,r]=(0,s.useState)(!1),{t:i}=(0,d.d)(),c=hz(l)?null!==(t=l.email)&&void 0!==t?t:l.id:i("general:anotherUser"),u;n[0]!==a?(u=[mB,a].filter(Boolean),n[0]=a,n[1]=u):u=n[1];let p=u.join(" "),m,v;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=()=>r(!0),v=()=>r(!1),n[2]=m,n[3]=v):(m=n[2],v=n[3]);let g="".concat(c," ").concat(i("general:isEditing")),b;return n[4]!==o||n[5]!==p||n[6]!==g?(b=(0,f.jsxs)("div",{className:p,onMouseEnter:m,onMouseLeave:v,role:"button",tabIndex:0,children:[(0,f.jsx)(tP,{alignCaret:"left",className:"".concat(mB,"__tooltip"),position:"top",show:o,children:g}),(0,f.jsx)(mM,{})]}),n[4]=o,n[5]=p,n[6]=g,n[7]=b):b=n[7],b},mU=e=>{let{className:t}=e;return(0,f.jsx)("svg",{className:[t,"icon icon--externalLink"].filter(Boolean).join(" "),viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M16 10.6667V14.6667C16 15.0203 15.8595 15.3594 15.6095 15.6095C15.3594 15.8595 15.0203 16 14.6667 16H5.33333C4.97971 16 4.64057 15.8595 4.39052 15.6095C4.14048 15.3594 4 15.0203 4 14.6667V5.33333C4 4.97971 4.14048 4.64057 4.39052 4.39052C4.64057 4.14048 4.97971 4 5.33333 4H9.33333M16 4L10 10M16 4H12M16 4V8",strokeLinecap:"square"})})},mV=()=>{let{id:e,collectionSlug:t,globalSlug:n,versionCount:a}=lV(),[l,o]=(0,s.useState)(!1),[r,i]=(0,s.useState)(""),{code:c}=aB(),p=a>0,{config:{routes:{api:f},serverURL:h}}=(0,u.b)(),{t:m}=(0,d.d)(),v=(0,s.useRef)(!1);return{generatePreviewURL:(0,s.useCallback)(async a=>{let{openPreviewWindow:l=!1}=a;if(!v.current){v.current=!0;try{o(!0);let a="".concat(h).concat(f);t&&(a="".concat(a,"/").concat(t,"/").concat(e,"/preview")),n&&(a="".concat(a,"/globals/").concat(n,"/preview"));let r=await fetch("".concat(a,"?").concat(w.P({draft:p?"true":"false",locale:c||void 0})));if(!r.ok)throw Error();let s=await r.json();if(!s)throw Error();i(s),o(!1),v.current=!1,l&&window.open(s,"_blank")}catch(e){o(!1),v.current=!1,e3.error(m("error:previewing"))}}},[h,f,t,n,p,c,e,m]),isLoading:l,label:m(l?"general:loading":"version:preview"),previewURL:r}};function mH(e){let t,n=(0,h.c)(5),{generatePreviewURL:a,label:l}=mV(),o;return n[0]!==a?(o=()=>{a({openPreviewWindow:!0})},n[0]=a,n[1]=o):o=n[1],n[2]!==l||n[3]!==o?(t=(0,f.jsx)("button",{"aria-label":l,className:"preview-btn",id:"preview-button",onClick:o,title:l,type:"button",children:(0,f.jsx)(mU,{})}),n[2]=l,n[3]=o,n[4]=t):t=n[4],t}var mq="table",mW=e=>{let{appearance:t,columns:n,data:a}=e,l=null==n?void 0:n.filter(e=>null==e?void 0:e.active);return l&&0!==l.length?(0,f.jsx)("div",{className:[mq,t&&"".concat(mq,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,f.jsxs)("table",{cellPadding:"0",cellSpacing:"0",children:[(0,f.jsx)("thead",{children:(0,f.jsx)("tr",{children:l.map((e,t)=>(0,f.jsx)("th",{id:"heading-".concat(e.accessor.replace(/\./g,"__")),children:e.Heading},t))})}),(0,f.jsx)("tbody",{children:a&&a.map((e,t)=>(0,f.jsx)("tr",{className:"row-".concat(t+1),children:l.map((e,n)=>{let{accessor:a}=e;return(0,f.jsx)("td",{className:"cell-".concat(a.replace(/\./g,"__")),children:e.renderedCells[t]},n)})},"string"==typeof e.id||"number"==typeof e.id?String(e.id):t))})]})}):(0,f.jsx)("div",{children:"No columns selected"})},mK=e=>{let{dateFormat:t,deleteHandler:n,docs:a,i18n:l,localization:o,supportedTimezones:r,t:i}=e,s=[{accessor:"input.type",active:!0,field:{name:"",type:"text"},Heading:(0,f.jsx)("span",{children:i("version:type")}),renderedCells:a.map(e=>{var t;let n=null===(t=e.input)||void 0===t?void 0:t.type;return(0,f.jsxs)(om,{pillStyle:"publish"===n?"success":"warning",size:"small",children:["publish"===n&&i("version:publish"),"unpublish"===n&&i("version:unpublish")]},e.id)})},{accessor:"waitUntil",active:!0,field:{name:"",type:"date"},Heading:(0,f.jsx)("span",{children:i("general:time")}),renderedCells:a.map(e=>(0,f.jsx)("span",{children:lk({date:e.waitUntil,i18n:l,pattern:t,timezone:e.input.timezone})},e.id))},{accessor:"input.timezone",active:!0,field:{name:"",type:"text"},Heading:(0,f.jsx)("span",{children:i("general:timezone")}),renderedCells:a.map(e=>{var t;let n=(null===(t=r.find(t=>t.value===e.input.timezone))||void 0===t?void 0:t.label)||e.input.timezone;return(0,f.jsx)("span",{children:n||i("general:noValue")},e.id)})}];return o&&s.push({accessor:"input.locale",active:!0,field:{name:"",type:"text"},Heading:(0,f.jsx)("span",{children:i("general:locale")}),renderedCells:a.map(e=>{if(e.input.locale){let t=o.locales.find(t=>t.code===e.input.locale);if(t)return(0,f.jsx)("span",{children:(0,m.i)(t.label,l)},e.id)}return(0,f.jsx)("span",{children:i("general:all")},e.id)})}),s.push({accessor:"delete",active:!0,field:{name:"delete",type:"text"},Heading:(0,f.jsx)("span",{children:i("general:delete")}),renderedCells:a.map(e=>(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"schedule-publish__delete",icon:"x",onClick:t=>{t.preventDefault(),n(e.id)},tooltip:i("general:delete")},e.id))}),s},mY="schedule-publish",mG={label:"All",value:"all"},m$=e=>{var t;let{slug:n,defaultType:a,schedulePublishConfig:l}=e,{toggleModal:o}=nT(),{config:{admin:{dateFormat:r,timezones:{defaultTimezone:i,supportedTimezones:c}},localization:p,routes:{api:h},serverURL:v}}=(0,u.b)(),{id:g,collectionSlug:b,globalSlug:x}=lV(),{title:y}=lO(),{i18n:j,t:C}=(0,d.d)(),{schedulePublish:S}=cE(),[_,k]=s.useState(a||"publish"),[N,E]=s.useState(),[D,P]=s.useState(i),[T,R]=s.useState(mG),[O,L]=s.useState(!1),F=C("general:schedulePublishFor",{title:y}),[I,A]=s.useState(),[M,B]=s.useState(),z=s.useRef(()=>null),U=Intl.DateTimeFormat().resolvedOptions().timeZone,V=s.useMemo(()=>{if(p){let e=p.locales.map(e=>{let{code:t,label:n}=e;return{label:(0,m.i)(n,j),value:t}});return e.unshift(mG),e}return[]},[p,j]),H=s.useCallback(async()=>{let e={sort:"waitUntil",where:{and:[{taskSlug:{equals:"schedulePublish"}},{waitUntil:{greater_than:new Date}}]}};b&&(e.where.and.push({"input.doc.value":{equals:String(g)}}),e.where.and.push({"input.doc.relationTo":{equals:b}})),x&&e.where.and.push({"input.global":{equals:x}});let{docs:t}=await ak.post("".concat(v).concat(h,"/payload-jobs"),{body:w.P(e),headers:{"Accept-Language":j.language,"Content-Type":"application/x-www-form-urlencoded","X-Payload-HTTP-Method-Override":"GET"}}).then(e=>e.json());B(mK({dateFormat:r,deleteHandler:z.current,docs:t,i18n:j,localization:p,supportedTimezones:c,t:C})),A(t)},[b,x,v,h,j,r,p,c,C,g]),q=s.useCallback(async e=>{try{await S({deleteID:e}),await H(),e3.success(C("general:deletedSuccessfully"))}catch(e){console.error(e),e3.error(e.message)}},[H,S,C]);s.useEffect(()=>{z.current=q},[q]);let W=s.useCallback(async()=>{let e;if(!N)return e3.error(C("general:noDateSelected"));L(!0),"object"==typeof T&&"all"!==T.value&&"publish"===_&&(e=T.value);try{await S({type:_,date:N,doc:b?{relationTo:b,value:String(g)}:void 0,global:x||void 0,locale:e,timezone:D}),E(void 0),e3.success(C("version:scheduledSuccessfully")),H()}catch(e){console.error(e),e3.error(e.message)}L(!1)},[N,T,_,C,S,b,g,x,D,H]),K=(0,s.useMemo)(()=>{if(D&&U&&N){let e=aZ.tz(D),t=aZ.tz(U),n=l_(new aZ(N).withTimeZone(D),e);return l_(n,t).toISOString()}return N},[D,N,U]),Y=(0,s.useCallback)(e=>{if(D&&e){let t=aZ.tz(D);E(l_(new aZ(e),t)||null)}else E(e||null)},[E,D]);s.useEffect(()=>{I||(async()=>await H())()},[I,H]);let G=(0,s.useMemo)(()=>{var e;return N&&function(e,t,n){let[a,l]=le(void 0,e,t);return+lt(a)==+lt(l)}(a2(N,N),la((null==e?void 0:e.in)||N))?new Date:lt(new Date)},[N]);return(0,f.jsxs)(av,{className:mY,gutter:!1,Header:(0,f.jsxs)("div",{className:"".concat(mY,"__drawer-header"),children:[(0,f.jsx)("h2",{title:F,children:F}),(0,f.jsx)(d$,{onClick:()=>o(n)})]}),slug:n,children:[(0,f.jsxs)(ad,{className:"".concat(mY,"__scheduler"),children:[(0,f.jsx)(aV,{label:C("version:type"),required:!0}),(0,f.jsxs)("ul",{className:"".concat(mY,"__type"),children:[(0,f.jsx)("li",{children:(0,f.jsx)(uI,{id:"".concat(n,"-type"),isSelected:"publish"===_,onChange:()=>k("publish"),option:{label:C("version:publish"),value:"publish"},path:"".concat(n,"-type"),readOnly:O})}),(0,f.jsx)("li",{children:(0,f.jsx)(uI,{id:"".concat(n,"-type"),isSelected:"unpublish"===_,onChange:()=>k("unpublish"),option:{label:C("version:unpublish"),value:"unpublish"},path:"".concat(n,"-type"),readOnly:O})})]}),(0,f.jsx)("br",{}),(0,f.jsx)(aV,{label:C("general:time"),path:"time",required:!0}),(0,f.jsx)(oG,{id:"time",maxTime:ll(Date.now(),void 0),minDate:new Date,minTime:G,onChange:e=>Y(e),pickerAppearance:"dayAndTime",readOnly:O,timeFormat:null==l?void 0:l.timeFormat,timeIntervals:null!==(t=null==l?void 0:l.timeIntervals)&&void 0!==t?t:5,value:K}),c.length>0&&(0,f.jsx)(cn,{id:"timezone-picker",onChange:P,options:c,selectedTimezone:D}),(0,f.jsx)("br",{}),V.length>0&&"publish"===_&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(aV,{label:C("localization:localeToPublish")}),(0,f.jsx)(ce,{onChange:e=>R(e),options:V,value:T}),(0,f.jsx)("br",{})]}),(0,f.jsxs)("div",{className:"".concat(mY,"__actions"),children:[(0,f.jsx)(tO,{buttonStyle:"primary",disabled:O,id:"scheduled-publish-save",onClick:W,type:"button",children:C("general:save")}),O?(0,f.jsx)("span",{children:C("general:saving")}):null]})]}),(0,f.jsxs)(ad,{className:"".concat(mY,"__upcoming"),children:[(0,f.jsx)("h4",{children:C("general:upcomingEvents")}),!I&&(0,f.jsx)(u.d,{}),(null==I?void 0:I.length)===0&&(0,f.jsx)(tr,{type:"info",children:C("general:noUpcomingEventsScheduled")}),(null==I?void 0:I.length)>0&&(0,f.jsx)(mW,{appearance:"condensed",columns:M,data:I})]})]})};function mX(e){var t,n,a,l,o,r;let{label:i}=e,{id:c,collectionSlug:p,docConfig:h,globalSlug:m,hasPublishedDoc:v,hasPublishPermission:g,setHasPublishedDoc:b,setMostRecentVersionIsAutosaved:x,setUnpublishedVersionCount:y,unpublishedVersionCount:j,uploadStatus:C}=lV(),{config:S,getEntityConfig:_}=(0,u.b)(),{submit:k}=eP(),N=eI(),E=nd(),{code:D}=aB(),{isModalOpen:P,toggleModal:T}=nT(),R="schedule-publish-".concat(c),{localization:O,routes:{api:L},serverURL:F}=S,{t:I}=(0,d.d)(),A=i||I("version:publishChanges"),M=s.useMemo(()=>p?_({collectionSlug:p}):m?_({globalSlug:m}):void 0,[p,m,_]),B=j>0,z="object"==typeof(null==M?void 0:null===(t=M.versions)||void 0===t?void 0:t.drafts)&&(null==M?void 0:null===(n=M.versions)||void 0===n?void 0:n.drafts.schedulePublish),U=g&&(N||B||!v)&&"uploading"!==C,V=!!("object"==typeof(null==M?void 0:null===(a=M.versions)||void 0===a?void 0:a.drafts)&&(null==M?void 0:null===(l=M.versions)||void 0===l?void 0:l.drafts.autosave)),H=!!(z&&g&&(m||p&&c)&&(V||!N)),q="update"===lY()&&!N,W=(0,s.useCallback)(async()=>{if(q)return;let e="?locale=".concat(D,"&depth=0&fallback-locale=null&draft=true"),t,n="POST";p&&(t="".concat(F).concat(L,"/").concat(p).concat(c?"/".concat(c):"").concat(e),c&&(n="PATCH")),m&&(t="".concat(F).concat(L,"/globals/").concat(m).concat(e)),await k({action:t,method:n,overrides:{_status:"draft"},skipValidation:!0})},[k,p,m,F,L,D,c,q]);hs({cmdCtrlKey:!0,editDepth:E,keyCodes:["s"]},e=>{var t,n,a;e.preventDefault(),e.stopPropagation(),W&&(null===(t=h.versions)||void 0===t?void 0:t.drafts)&&(null===(a=h.versions)||void 0===a?void 0:null===(n=a.drafts)||void 0===n?void 0:n.autosave)&&W()});let K=(0,s.useCallback)(()=>{"uploading"!==C&&(k({overrides:{_status:"published"}}),y(0),x(!1),b(!0))},[b,k,y,C,x]),Y=(0,s.useCallback)(e=>{if("uploading"===C)return;let t=w.P({publishSpecificLocale:e});k({action:"".concat(F).concat(L).concat(m?"/globals/".concat(m):"/".concat(p,"/").concat(c?"".concat("/"+c):"")).concat(t?"?"+t:""),overrides:{_status:"published"}}),b(!0)},[L,p,m,c,F,b,k,C]),G=!O||O&&"active"!==O.defaultLocalePublishOption,$=O&&(null==O?void 0:O.locales.find(e=>"string"==typeof e?e===D:e.code===D)),X=$&&("string"==typeof $.label?$.label:null!==(r=null===(o=$.label)||void 0===o?void 0:o[D])&&void 0!==r?r:void 0),Q=G?A:I("version:publishIn",{locale:X}),Z=G?()=>Y($.code):K,J=G?I("version:publishIn",{locale:X}):I("version:publishAllLocales");return g?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(pS,{buttonId:"action-save",disabled:!U,enableSubMenu:H,onClick:G?K:()=>Y($.code),size:"medium",SubMenuPopupContent:O||H?e=>{let{close:t}=e;return(0,f.jsxs)(s.Fragment,{children:[H&&(0,f.jsx)(tp.ButtonGroup,{children:(0,f.jsx)(tp.Button,{id:"schedule-publish",onClick:()=>[T(R),t()],children:I("version:schedulePublish")})},"schedule-publish"),O&&U&&(0,f.jsx)(tp.ButtonGroup,{children:(0,f.jsx)(tp.Button,{id:"publish-locale",onClick:Z,children:J})})]})}:void 0,type:"button",children:O?Q:A}),H&&P(R)&&(0,f.jsx)(m$,{defaultType:B?"publish":"unpublish",schedulePublishConfig:"object"==typeof z&&z,slug:R})]}):null}function mQ(e){let{label:t}=e,{uploadStatus:n}=lV(),{t:a}=(0,d.d)(),{submit:l}=eP(),o=eI(),r=t||a("general:save"),i=(0,s.useRef)(null),c=nd(),u="update"===lY()&&!o||"uploading"===n;return hs({cmdCtrlKey:!0,editDepth:c,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==i?void 0:i.current)&&i.current.click()}),(0,f.jsx)(pS,{buttonId:"action-save",disabled:u,onClick:()=>{if("uploading"!==n)return void l()},ref:i,size:"medium",type:"button",children:r})}function mZ(e){let{config:{routes:{api:t},serverURL:n}}=(0,u.b)(),{id:a,collectionSlug:l,globalSlug:o,setUnpublishedVersionCount:r,uploadStatus:i}=lV(),c=eI(),{code:p}=aB(),h=(0,s.useRef)(null),m=nd(),{t:v}=(0,d.d)(),{submit:g}=eP(),b="update"===lY()&&!c||"uploading"===i,x=(0,s.useCallback)(async()=>{if(b)return;let e="?locale=".concat(p,"&depth=0&fallback-locale=null&draft=true"),i,s="POST";l&&(i="".concat(n).concat(t,"/").concat(l).concat(a?"/".concat(a):"").concat(e),a&&(s="PATCH")),o&&(i="".concat(n).concat(t,"/globals/").concat(o).concat(e)),await g({action:i,method:s,overrides:{_status:"draft"},skipValidation:!0}),r(e=>e+1)},[g,l,o,n,t,p,a,b,r]);return hs({cmdCtrlKey:!0,editDepth:m,keyCodes:["s"]},e=>{e.preventDefault(),e.stopPropagation(),(null==h?void 0:h.current)&&h.current.click()}),(0,f.jsx)(pS,{buttonId:"action-save-draft",buttonStyle:"secondary",className:"save-draft",disabled:b,onClick:()=>void x(),ref:h,size:"medium",type:"button",children:v("version:saveDraft")})}var mJ="status",m0=()=>{let{id:e,collectionSlug:t,docPermissions:n,globalSlug:a,hasPublishedDoc:l,incrementVersionCount:o,setHasPublishedDoc:r,setMostRecentVersionIsAutosaved:i,setUnpublishedVersionCount:c,unpublishedVersionCount:p}=lV(),{toggleModal:h}=nT(),{config:{routes:{api:m},serverURL:v}}=(0,u.b)(),{reset:g}=eP(),{code:b}=aB(),{i18n:x,t:y}=(0,d.d)(),w="confirm-un-publish-".concat(e),j="confirm-revert-".concat(e),C;p>0&&l?C="changed":l?l&&p<=0&&(C="published"):C="draft";let S=(0,s.useCallback)(async n=>{let l,s,u;"unpublish"===n&&(u={_status:"draft"}),t&&(l="".concat(v).concat(m,"/").concat(t,"/").concat(e,"?locale=").concat(b,"&fallback-locale=null&depth=0"),s="patch"),a&&(l="".concat(v).concat(m,"/globals/").concat(a,"?locale=").concat(b,"&fallback-locale=null&depth=0"),s="post"),"revert"===n&&(u=await ak.get(l,{headers:{"Accept-Language":x.language,"Content-Type":"application/json"}}).then(e=>e.json()));let d=await ak[s](l,{body:JSON.stringify(u),headers:{"Accept-Language":x.language,"Content-Type":"application/json"}});if(200===d.status){let e,l=await d.json();a?e=l.result:t&&(e=l.doc),g(e),e3.success(l.message),o(),i(!1),"unpublish"===n?r(!1):"revert"===n&&c(0)}else try{var p,f;let e=await d.json();(null===(f=e.errors)||void 0===f?void 0:null===(p=f[0])||void 0===p?void 0:p.message)?e3.error(e.errors[0].message):e.error?e3.error(e.error):e3.error(y("error:unPublishingDocument"))}catch(e){e3.error(y("error:unPublishingDocument"))}},[m,t,a,e,x.language,o,b,g,v,c,i,y,r]),_=null==n?void 0:n.update;return C?(0,f.jsx)("div",{className:mJ,title:"".concat(y("version:status"),": ").concat(y("version:".concat(C))),children:(0,f.jsxs)("div",{className:"".concat(mJ,"__value-wrap"),children:[(0,f.jsxs)("span",{className:"".concat(mJ,"__label"),children:[y("version:status"),":\xa0"]}),(0,f.jsx)("span",{className:"".concat(mJ,"__value"),children:y("version:".concat(C))}),_&&"published"===C&&(0,f.jsxs)(s.Fragment,{children:["\xa0—\xa0",(0,f.jsx)(tO,{buttonStyle:"none",className:"".concat(mJ,"__action"),id:"action-unpublish",onClick:()=>h(w),children:y("version:unpublish")}),(0,f.jsx)(aw,{body:y("version:aboutToUnpublish"),confirmingLabel:y("version:unpublishing"),heading:y("version:confirmUnpublish"),modalSlug:w,onConfirm:()=>S("unpublish")})]}),_&&"changed"===C&&(0,f.jsxs)(s.Fragment,{children:["\xa0—\xa0",(0,f.jsx)(tO,{buttonStyle:"none",className:"".concat(mJ,"__action"),id:"action-revert-to-published",onClick:()=>h(j),children:y("version:revertToPublished")}),(0,f.jsx)(aw,{body:y("version:aboutToRevertToPublished"),confirmingLabel:y("version:reverting"),heading:y("version:confirmRevertToSaved"),modalSlug:j,onConfirm:()=>S("revert")})]})]})}):null},m1="doc-controls",m3=e=>{var t,n,a,l,o,r,i,c,p,v,g,b,x,w;let j;let C=(0,h.c)(15),{id:S,slug:_,BeforeDocumentControls:k,customComponents:N,data:E,disableActions:D,disableCreate:P,EditMenuItems:T,hasSavePermission:R,isAccountView:O,isEditing:L,isInDrawer:F,onDelete:I,onDrawerCreateNew:A,onDuplicate:M,onTakeOver:B,permissions:z,readOnlyForIncomingUser:U,redirectAfterDelete:V,redirectAfterDuplicate:H,user:q}=e,W;C[0]!==N?(W=void 0===N?{}:N,C[0]=N,C[1]=W):W=C[1];let{PreviewButton:K,PublishButton:Y,SaveButton:G,SaveDraftButton:$}=W,{i18n:X,t:Q}=(0,d.d)(),Z=nd(),{config:J,getEntityConfig:ee}=(0,u.b)(),et=ee({collectionSlug:_}),en=ee({globalSlug:_}),{isLivePreviewEnabled:ea}=mP(),{admin:el,localization:eo,routes:er}=J,{dateFormat:ei}=el,{admin:es}=er,[ec,eu]=s.useState(""),[ed,ep]=s.useState(""),eh=eL(),em=eA(),ev,eg;C[2]!==E||C[3]!==ei||C[4]!==X?(ev=()=>{(null==E?void 0:E.updatedAt)&&eu(lk({date:E.updatedAt,i18n:X,pattern:ei})),(null==E?void 0:E.createdAt)&&ep(lk({date:E.createdAt,i18n:X,pattern:ei}))},eg=[E,X,ei],C[2]=E,C[3]=ei,C[4]=X,C[5]=ev,C[6]=eg):(ev=C[5],eg=C[6]),(0,s.useEffect)(ev,eg);let eb=z&&"create"in z&&z.create,ex=z&&"delete"in z&&z.delete,ey=!!(et&&S&&!D&&(eb||ex)),ew=!S&&(null==et?void 0:null===(t=et.versions)||void 0===t?void 0:t.drafts)&&(null===(n=et.versions)||void 0===n?void 0:n.drafts.validate),ej=null==et?void 0:null===(a=et.versions)||void 0===a?void 0:a.drafts,eC=null==en?void 0:null===(l=en.versions)||void 0===l?void 0:l.drafts,eS=ej&&(null==ej?void 0:ej.autosave)||eC&&(null==eC?void 0:eC.autosave),e_=ej&&(null==ej?void 0:ej.autosave),ek=eC&&(null==eC?void 0:eC.autosave),eN=e_&&!1!==ej.autosave&&!0===ej.autosave.showSaveDraftButton||ek&&!1!==eC.autosave&&!0===eC.autosave.showSaveDraftButton,eE=eo&&!(null==et?void 0:null===(o=et.admin)||void 0===o?void 0:o.disableCopyToLocale),eD=et&&et.folders,eP=q&&U,eT;return C[7]!==F||C[8]!==ea?(eT=ea&&!F&&(0,f.jsx)(mA,{}),C[7]=F,C[8]=ea,C[9]=eT):eT=C[9],C[10]!==B||C[11]!==U||C[12]!==Q||C[13]!==q?(j=q&&U&&(0,f.jsx)(tO,{buttonStyle:"secondary",id:"take-over",onClick:B,size:"medium",type:"button",children:Q("general:takeOver")}),C[10]=B,C[11]=U,C[12]=Q,C[13]=q,C[14]=j):j=C[14],(0,f.jsxs)(ad,{className:m1,children:[(0,f.jsxs)("div",{className:"".concat(m1,"__wrapper"),children:[(0,f.jsxs)("div",{className:"".concat(m1,"__content"),children:[eP||eD?(0,f.jsxs)("div",{className:"".concat(m1,"__meta-icons"),children:[eP&&(0,f.jsx)(mz,{className:"".concat(m1,"__locked-controls"),user:q}),eD&&J.folders&&(0,f.jsx)(pQ,{folderCollectionSlug:J.folders.slug,folderFieldName:J.folders.fieldName})]}):null,(0,f.jsxs)("ul",{className:"".concat(m1,"__meta"),children:[et&&!L&&!O&&(0,f.jsx)("li",{className:"".concat(m1,"__list-item"),children:(0,f.jsx)("p",{className:"".concat(m1,"__value"),children:X.t("general:creatingNewLabel",{label:(0,m.i)(null!==(w=null==et?void 0:null===(r=et.labels)||void 0===r?void 0:r.singular)&&void 0!==w?w:X.t("general:document"),X)})})}),((null==et?void 0:null===(i=et.versions)||void 0===i?void 0:i.drafts)||(null==en?void 0:null===(c=en.versions)||void 0===c?void 0:c.drafts))&&(0,f.jsxs)(s.Fragment,{children:[(en||et&&L)&&(0,f.jsx)("li",{className:["".concat(m1,"__status"),"".concat(m1,"__list-item")].filter(Boolean).join(" "),children:(0,f.jsx)(m0,{})}),R&&eS&&!ew&&(0,f.jsx)("li",{className:"".concat(m1,"__list-item"),children:(0,f.jsx)(mR,{collection:et,global:en,id:S,publishedDocUpdatedAt:null==E?void 0:E.createdAt})})]}),(null==et?void 0:et.timestamps)&&(L||O)&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)("li",{className:["".concat(m1,"__list-item"),"".concat(m1,"__value-wrap")].filter(Boolean).join(" "),title:(null==E?void 0:E.updatedAt)?ec:"",children:[(0,f.jsxs)("p",{className:"".concat(m1,"__label"),children:[X.t("general:lastModified"),":\xa0"]}),(null==E?void 0:E.updatedAt)&&(0,f.jsx)("p",{className:"".concat(m1,"__value"),children:ec})]}),(0,f.jsxs)("li",{className:["".concat(m1,"__list-item"),"".concat(m1,"__value-wrap")].filter(Boolean).join(" "),title:(null==E?void 0:E.createdAt)?ed:"",children:[(0,f.jsxs)("p",{className:"".concat(m1,"__label"),children:[X.t("general:created"),":\xa0"]}),(null==E?void 0:E.createdAt)&&(0,f.jsx)("p",{className:"".concat(m1,"__value"),children:ed})]})]})]})]}),(0,f.jsxs)("div",{className:"".concat(m1,"__controls-wrapper"),children:[(0,f.jsxs)("div",{className:"".concat(m1,"__controls"),children:[k,eT,((null==et?void 0:et.admin.preview)||(null==en?void 0:en.admin.preview))&&(0,f.jsx)(ef,{CustomComponent:K,Fallback:(0,f.jsx)(mH,{})}),R&&(0,f.jsx)(s.Fragment,{children:(null==et?void 0:null===(p=et.versions)||void 0===p?void 0:p.drafts)||(null==en?void 0:null===(v=en.versions)||void 0===v?void 0:v.drafts)?(0,f.jsxs)(s.Fragment,{children:[(ew||!eS||eS&&eN)&&(0,f.jsx)(ef,{CustomComponent:$,Fallback:(0,f.jsx)(mZ,{})}),(0,f.jsx)(ef,{CustomComponent:Y,Fallback:(0,f.jsx)(mX,{})})]}):(0,f.jsx)(ef,{CustomComponent:G,Fallback:(0,f.jsx)(mQ,{})})}),j]}),ey&&!U&&(0,f.jsx)(tD,{button:(0,f.jsxs)("div",{className:"".concat(m1,"__dots"),children:[(0,f.jsx)("div",{}),(0,f.jsx)("div",{}),(0,f.jsx)("div",{})]}),className:"".concat(m1,"__popup"),disabled:em||eh,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:(0,f.jsxs)(tp.ButtonGroup,{children:[eE&&(0,f.jsx)(mg,{}),eb&&(0,f.jsxs)(s.Fragment,{children:[!P&&(0,f.jsx)(s.Fragment,{children:Z>1?(0,f.jsx)(tp.Button,{id:"action-create",onClick:A,children:X.t("general:createNew")}):(0,f.jsx)(tp.Button,{href:(0,y.$)({adminRoute:es,path:"/collections/".concat(null==et?void 0:et.slug,"/create")}),id:"action-create",children:X.t("general:createNew")})}),!0!==et.disableDuplicate&&L&&(0,f.jsx)(mL,{id:S.toString(),onDuplicate:M,redirectAfterDuplicate:H,singularLabel:null==et?void 0:null===(g=et.labels)||void 0===g?void 0:g.singular,slug:null==et?void 0:et.slug})]}),ex&&(0,f.jsx)(mO,{buttonId:"action-delete",collectionSlug:null==et?void 0:et.slug,id:S.toString(),onDelete:I,redirectAfterDelete:V,singularLabel:null==et?void 0:null===(b=et.labels)||void 0===b?void 0:b.singular,useAsTitle:null==et?void 0:null===(x=et.admin)||void 0===x?void 0:x.useAsTitle}),T]})})]})]}),(0,f.jsx)("div",{className:"".concat(m1,"__divider")})]})},m2=RegExp("^<(?<name>[^\\s/>]+)[^>]*>$"),m6=RegExp("^<(?<isEnd>\\/)?(?<name>[^\\s>]+)[^>]*>$"),m5=/^<[^>]+>/,m4=/^<img[^>]*>$/,m8=RegExp("^<video[^>]*>.*?<\\/video>$","ms"),m7=class{computeBestMatchedBlock(e,t,n,a){let l=null;for(let o=e;o<t;o++){let e=Math.min(t-o,a-n),r=this.slideBestMatchedBlock(o,n,e);if(r&&(!l||r.size>l.size)&&(l=r,r.size>this.leastCommonLength))return l}for(let o=n;o<a;o++){let n=Math.min(t-e,a-o),r=this.slideBestMatchedBlock(e,o,n);if(r&&(!l||r.size>l.size)&&(l=r,r.size>this.leastCommonLength))break}return l}computeMatchedBlockList(e,t,n,a){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=this.computeBestMatchedBlock(e,t,n,a);return o?(e<o.oldStart&&n<o.newStart&&this.computeMatchedBlockList(e,o.oldStart,n,o.newStart,l),l.push(o),t>o.oldEnd&&a>o.newEnd&&this.computeMatchedBlockList(o.oldEnd,t,o.newEnd,a,l),l):[]}dressUpBlockTag(e,t){return"create"===e?'<div class="'.concat(this.config.classNames.createBlock,'">').concat(t,"</div>"):"delete"===e?'<div class="'.concat(this.config.classNames.deleteBlock,'">').concat(t,"</div>"):""}dressUpDiffContent(e,t){let n=t.length;if(!n)return"";let a="",l=0,o=-1;for(let n of t){var r;o++;let i=n.includes('data-enable-match="true"'),s=n.includes('data-enable-match="false"'),c=!!(null===(r=n.match(m5))||void 0===r?void 0:r.length);s?(l=o+1,a+=n):!i&&c?(o>l&&(a+=this.dressUpText(e,t.slice(l,o))),l=o+1,n.match(m8)?a+=this.dressUpBlockTag(e,n):a+=n):i&&c&&(o>l&&(a+=this.dressUpText(e,t.slice(l,o))),l=o+1,a+=this.dressupMatchEnabledHtmlTag(e,n))}return l<n&&(a+=this.dressUpText(e,t.slice(l))),a}dressUpInlineTag(e,t){return"create"===e?'<span class="'.concat(this.config.classNames.createInline,'">').concat(t,"</span>"):"delete"===e?'<span class="'.concat(this.config.classNames.deleteInline,'">').concat(t,"</span>"):""}dressupMatchEnabledHtmlTag(e,t){var n,a;let l=null===(a=t.match(m2))||void 0===a?void 0:null===(n=a.groups)||void 0===n?void 0:n.name;if(!l)return t;let o=l.length+1;return"".concat(t.slice(0,o),' data-match-type="').concat("create"===e?"create":"delete",'"').concat(t.slice(o,t.length))}dressUpText(e,t){let n=t.join("");return n.trim()?"create"===e?'<span data-match-type="create">'.concat(n,"</span>"):"delete"===e?'<span data-match-type="delete">'.concat(n,"</span>"):"":""}getMatchedBlockList(){let e=this.oldTokens.length,t=this.newTokens.length,n=null,a=0;for(;a<e&&a<t&&this.oldTokens[a]===this.newTokens[a];)a++;a>=this.config.minMatchedSize&&(n={newEnd:a,newStart:0,oldEnd:a,oldStart:0,size:a});let l=null,o=e-1,r=t-1;for(;a<=o&&a<=r&&this.oldTokens[o]===this.newTokens[r];)o--,r--;let i=e-1-o;i>=this.config.minMatchedSize&&(l={newEnd:t,newStart:r+1,oldEnd:e,oldStart:o+1,size:i});let s=n?a:0,c=l?o+1:e,u=n?a:0,d=l?r+1:t;if(this.config.greedyMatch){let e=Math.min(c-s,d-u);e>this.config.greedyBoundary&&(this.leastCommonLength=Math.floor(e/3))}let p=this.computeMatchedBlockList(s,c,u,d);return n&&p.unshift(n),l&&p.push(l),p}getOperationList(){let e=[],t=0,n=0;for(let a of this.matchedBlockList){let l=t===a.oldStart,o=n===a.newStart,r={newEnd:a.newStart,newStart:n,oldEnd:a.oldStart,oldStart:t};l||o?l&&!o?e.push(Object.assign(r,{type:"create"})):!l&&o&&e.push(Object.assign(r,{type:"delete"})):e.push(Object.assign(r,{type:"replace"})),e.push({type:"equal",newEnd:a.newEnd,newStart:a.newStart,oldEnd:a.oldEnd,oldStart:a.oldStart}),t=a.oldEnd,n=a.newEnd}let a=this.oldTokens.length,l=this.newTokens.length,o={newEnd:l,newStart:n,oldEnd:a,oldStart:t},r=t===a,i=n===l;return r||i?r&&!i?e.push(Object.assign(o,{type:"create"})):!r&&i&&e.push(Object.assign(o,{type:"delete"})):e.push(Object.assign(o,{type:"replace"})),e}slideBestMatchedBlock(e,t,n){let a=0,l=null,o=0;for(let r=0;r<n;r++)this.oldTokens[e+r]===this.newTokens[t+r]?o++:o=0,o>a&&(a=o,l={newEnd:t+r+1,newStart:t+r-o+1,oldEnd:e+r+1,oldStart:e+r-o+1,size:o});return a>=this.config.minMatchedSize?l:null}tokenizeByCharacter(e){let t=[],n=0,a=RegExp("<picture[^>]*>.*?<\\/picture>|<video[^>]*>.*?<\\/video>|<[^>]+>","gs"),l;for(;null!==(l=a.exec(e));){let a=e.substring(n,l.index);if(a)for(let e of a)t.push(e);t.push(l[0]),n=l.index+l[0].length}for(let a of e.substring(n))t.push(a);return t}tokenizeByWord(e){return e.match(RegExp("<picture[^>]*>.*?<\\/picture>|<video[^>]*>.*?<\\/video>|<[^>]+>|\\w+\\b|\\s+|[^<>\\w]","gs"))||[]}getSideBySideContents(){if(void 0!==this.sideBySideContents)return this.sideBySideContents;let e="",t="",n=0;this.operationList.forEach(a=>{switch(a.type){case"create":t+=this.dressUpDiffContent("create",this.newTokens.slice(a.newStart,a.newEnd));break;case"delete":{let t=this.oldTokens.slice(a.oldStart,a.oldEnd);e+=this.dressUpDiffContent("delete",t);break}case"equal":{let i=this.newTokens.slice(a.newStart,a.newEnd),s="";for(let e of i){let t=e.match(m2);if(t){var l,o,r;n+=1;let a=(null!==(r=null==t?void 0:null===(o=t.groups)||void 0===o?void 0:null===(l=o.name)||void 0===l?void 0:l.length)&&void 0!==r?r:0)+1;s+="".concat(e.slice(0,a),' data-seq="').concat(n,'"').concat(e.slice(a))}else s+=e}e+=s,t+=s;break}case"replace":e+=this.dressUpDiffContent("delete",this.oldTokens.slice(a.oldStart,a.oldEnd)),t+=this.dressUpDiffContent("create",this.newTokens.slice(a.newStart,a.newEnd));break;default:console.error("Richtext diff error - invalid operation: "+String(a.type))}});let a=[e,t];return this.sideBySideContents=a,a}getUnifiedContent(){if(void 0!==this.unifiedContent)return this.unifiedContent;let e="";return this.operationList.forEach(t=>{switch(t.type){case"create":e+=this.dressUpDiffContent("create",this.newTokens.slice(t.newStart,t.newEnd));break;case"delete":e+=this.dressUpDiffContent("delete",this.oldTokens.slice(t.oldStart,t.oldEnd));break;case"equal":for(let n of this.newTokens.slice(t.newStart,t.newEnd))e+=n;break;case"replace":{var n,a,l,o,r,i;let s=this.oldTokens.slice(t.oldStart,t.oldEnd),c=this.newTokens.slice(t.newStart,t.newEnd);if(1===s.length&&1===c.length&&(null===(n=s[0])||void 0===n?void 0:n.match(m5))&&(null===(a=c[0])||void 0===a?void 0:a.match(m5))){e+=c[0];break}let u=[],d=[],p=t.newStart;for(let n=t.oldStart;n<t.oldEnd;n++){let a=this.oldTokens[n];if(!a)continue;let s=null==a?void 0:a.match(m6);if(s){if([m4,m8].some(e=>null==a?void 0:a.match(e))){u.push(a);continue}e+=this.dressUpDiffContent("delete",u),u.splice(0);let n=!1;for(let a=p;a<t.newEnd;a++){let t=this.newTokens[a];if(!t)continue;let c=null==t?void 0:t.match(m6);if(c&&(null===(l=c.groups)||void 0===l?void 0:l.name)===(null===(o=s.groups)||void 0===o?void 0:o.name)&&(null===(r=c.groups)||void 0===r?void 0:r.isEnd)===(null===(i=s.groups)||void 0===i?void 0:i.isEnd)){n=!0,e+=this.dressUpDiffContent("create",d)+t,d.splice(0),p=a+1;break}d.push(t)}n||(e+=a,d.splice(0))}else u.push(a)}p<t.newEnd&&d.push(...this.newTokens.slice(p,t.newEnd)),e+=this.dressUpDiffContent("delete",u)+this.dressUpDiffContent("create",d);break}default:console.error("Richtext diff error - invalid operation: "+String(t.type))}}),this.unifiedContent=e,e}constructor(e,t,{classNames:n={createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper"},greedyBoundary:a=1e3,greedyMatch:l=!0,minMatchedSize:o=2,tokenizeByCharacter:r=!1}={}){if(this.leastCommonLength=1/0,this.matchedBlockList=[],this.newTokens=[],this.oldTokens=[],this.operationList=[],this.config={classNames:{createBlock:"html-diff-create-block-wrapper",createInline:"html-diff-create-inline-wrapper",deleteBlock:"html-diff-delete-block-wrapper",deleteInline:"html-diff-delete-inline-wrapper",...n},greedyBoundary:a,greedyMatch:l,minMatchedSize:o},(e=e.trim())===(t=t.trim())){this.unifiedContent=e;let t=0,n=e.replace(/<([^\s/>]+)[^>]*>/g,(e,n)=>{let a=n.length+1;return"".concat(e.slice(0,a),' data-seq="').concat(++t,'"').concat(e.slice(a))});this.sideBySideContents=[n,n];return}let i=r?this.tokenizeByCharacter:this.tokenizeByWord;this.oldTokens=i(e),this.newTokens=i(t),this.matchedBlockList=this.getMatchedBlockList(),this.operationList=this.getOperationList()}},m9="html-diff",ve=e=>{let{fromHTML:t,toHTML:n,tokenizeByCharacter:a}=e,[l,o]=new m7(t,n,{tokenizeByCharacter:a}).getSideBySideContents();return{From:l?(0,f.jsx)("div",{className:"".concat(m9,"__diff-old html-diff"),dangerouslySetInnerHTML:{__html:l}}):null,To:o?(0,f.jsx)("div",{className:"".concat(m9,"__diff-new html-diff"),dangerouslySetInnerHTML:{__html:o}}):null}},vt=(0,s.createContext)(null),vn=e=>{let{children:t}=e,n=(0,s.useRef)(new Set);return(0,s.useEffect)(()=>{let e=e=>{n.current.forEach(t=>{let{handler:n,ref:a}=t;a.current&&!a.current.contains(e.target)&&n()})};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,f.jsx)(vt,{value:{register:e=>n.current.add(e),unregister:e=>n.current.delete(e)},children:t})},va=()=>{let e=(0,s.use)(vt);if(!e)throw Error("useClickOutside must be used within a ClickOutsideProvider");return e};function vl(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],{register:a,unregister:l}=va();(0,s.useEffect)(()=>{if(!n||!e.current)return;let o={handler:t,ref:e};return a(o),()=>l(o)},[e,t,n,a,l])}var vo=e=>{let t=(0,h.c)(7),{action:n,disabled:a}=e,{submit:l}=eP(),{t:o}=(0,d.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,s;return t[3]!==a||t[4]!==i||t[5]!==o?(s=(0,f.jsx)(pS,{className:"".concat(vc,"__save"),disabled:a,onClick:i,children:o("general:save")}),t[3]=a,t[4]=i,t[5]=o,t[6]=s):s=t[6],s},vr=e=>{let t=(0,h.c)(7),{action:n,disabled:a}=e,{submit:l}=eP(),{t:o}=(0,d.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",overrides:{_status:"published"},skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,s;return t[3]!==a||t[4]!==i||t[5]!==o?(s=(0,f.jsx)(pS,{className:"".concat(vc,"__publish"),disabled:a,onClick:i,children:o("version:publishChanges")}),t[3]=a,t[4]=i,t[5]=o,t[6]=s):s=t[6],s},vi=e=>{let t=(0,h.c)(7),{action:n,disabled:a}=e,{submit:l}=eP(),{t:o}=(0,d.d)(),r;t[0]!==n||t[1]!==l?(r=()=>{l({action:n,method:"PATCH",overrides:{_status:"draft"},skipValidation:!0})},t[0]=n,t[1]=l,t[2]=r):r=t[2];let i=r,s;return t[3]!==a||t[4]!==i||t[5]!==o?(s=(0,f.jsx)(pS,{buttonStyle:"secondary",className:"".concat(vc,"__draft"),disabled:a,onClick:i,children:o("version:saveDraft")}),t[3]=a,t[4]=i,t[5]=o,t[6]=s):s=t[6],s},vs=e=>{var t,n;let{collection:a,collection:{fields:l,labels:{plural:o,singular:r}}={},count:i,drawerSlug:c,ids:p,onSuccess:h,selectAll:v,selectedFields:b,setSelectedFields:x}=e,{permissions:y,user:j}=aD(),{code:C}=aB(),{closeModal:S}=nT(),{config:{routes:{api:_},serverURL:k}}=(0,u.b)(),{getFormState:E}=cE(),{i18n:D,t:P}=(0,d.d)(),[T,R]=(0,s.useState)(!1),O=(0,g.useRouter)(),L=s.useRef(null),{clearRouteCache:F}=pC(),I=null==y?void 0:null===(t=y.collections)||void 0===t?void 0:t[a.slug],A=(0,g.useSearchParams)(),M=(0,s.useMemo)(()=>(0,U.T)(b.reduce((e,t)=>(e[t.value.path]=!0,e),{})),[b]),B=(0,s.useCallback)(async e=>{let{formState:t,submitted:n}=e,l=cG(L),{state:o}=await E({collectionSlug:a.slug,docPermissions:I,docPreferences:null,formState:t,operation:"update",schemaPath:a.slug,select:M,signal:l.signal,skipValidation:!n});return L.current=null,o},[E,a,I,M]);(0,s.useEffect)(()=>{let e=L.current;return()=>{cY(e)}},[]);let z=(0,s.useMemo)(()=>{var e;let t=[],n=(0,N.c)({collectionConfig:a,search:A.get("search")});return n&&t.push(n),v?t.push((null===(e=cj(A))||void 0===e?void 0:e.where)||{id:{exists:!0}}):t.push({id:{in:p||[]}}),w.P({locale:C,where:(0,$.d)(t)},{addQueryPrefix:!0})},[a,A,v,p,C]),V=(0,s.useCallback)(async e=>{let{dispatchFields:t,formState:n,selected:l}=e;R(!0),x(l||[]);let{state:o}=await E({collectionSlug:a.slug,docPermissions:I,docPreferences:null,formState:n,operation:"update",schemaPath:a.slug,select:(0,U.T)(l.reduce((e,t)=>(e[t.value.path]=!0,e),{})),skipValidation:!0});t({type:"UPDATE_MANY",formState:o}),R(!1)},[E,a.slug,I,x]);return(0,f.jsx)(lq,{collectionSlug:a.slug,currentEditor:j,hasPublishedDoc:!1,id:null,initialData:{},isLocked:!1,lastUpdateTime:0,mostRecentVersionIsAutosaved:!1,unpublishedVersionCount:0,versionCount:0,children:(0,f.jsx)(lW,{value:"update",children:(0,f.jsxs)("div",{className:"".concat(vc,"__main"),children:[(0,f.jsxs)("div",{className:"".concat(vc,"__header"),children:[(0,f.jsx)("h2",{className:"".concat(vc,"__header__title"),children:P("general:editingLabel",{count:i,label:(0,m.i)(i>1?o:r,D)})}),(0,f.jsx)("button",{"aria-label":P("general:close"),className:"".concat(vc,"__header__close"),id:"close-drawer__".concat(c),onClick:()=>S(c),type:"button",children:(0,f.jsx)(d.a,{})})]}),(0,f.jsxs)(dN,{className:"".concat(vc,"__form"),isInitializing:T,onChange:[B],onSuccess:()=>{O.replace(w.P({...cj(A),page:v?"1":void 0},{addQueryPrefix:!0})),F(),S(c),"function"==typeof h&&h()},children:[(0,f.jsx)(pe,{fields:l,onChange:V,permissions:I.fields}),0===b.length?null:(0,f.jsx)("div",{className:"render-fields",children:b.map((e,t)=>{let{value:{field:n,fieldPermissions:a,path:l}}=e;return(0,f.jsx)(fJ,{clientFieldConfig:n,indexPath:"",parentPath:"",parentSchemaPath:"",path:l,permissions:a},"".concat(l,"-").concat(t))})}),(0,f.jsx)("div",{className:"".concat(vc,"__sidebar-wrap"),children:(0,f.jsx)("div",{className:"".concat(vc,"__sidebar"),children:(0,f.jsx)("div",{className:"".concat(vc,"__sidebar-sticky-wrap"),children:(0,f.jsx)("div",{className:"".concat(vc,"__document-actions"),children:(null==a?void 0:null===(n=a.versions)||void 0===n?void 0:n.drafts)?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(vi,{action:"".concat(k).concat(_,"/").concat(a.slug).concat(z,"&draft=true"),disabled:0===b.length}),(0,f.jsx)(vr,{action:"".concat(k).concat(_,"/").concat(a.slug).concat(z,"&draft=true"),disabled:0===b.length})]}):(0,f.jsx)(vo,{action:"".concat(k).concat(_,"/").concat(a.slug).concat(z),disabled:0===b.length})})})})})]})]})})})},vc="edit-many",vu=e=>{let t=(0,h.c)(8),{count:n,selectAll:a,selected:l,toggleAll:o}=mj(),r;if(t[0]!==n||t[1]!==e||t[2]!==a||t[3]!==l||t[4]!==o){let i;t[6]!==o?(i=()=>o(!1),t[6]=o,t[7]=i):i=t[7],r=(0,f.jsx)(vd,{...e,count:n,ids:Array.from(l.keys()),onSuccess:i,selectAll:a===mx.AllAvailable}),t[0]=n,t[1]=e,t[2]=a,t[3]=l,t[4]=o,t[5]=r}else r=t[5];return r},vd=e=>{var t;let n,a;let l=(0,h.c)(15),{collection:o,count:r,ids:i,onSuccess:c,selectAll:u}=e,{permissions:p}=aD(),{openModal:m}=nT(),{t:v}=(0,d.d)(),g;l[0]===Symbol.for("react.memo_cache_sentinel")?(g=[],l[0]=g):g=l[0];let[b,x]=(0,s.useState)(g),y=null==p?void 0:null===(t=p.collections)||void 0===t?void 0:t[o.slug],w="edit-".concat(o.slug);if(0===r||!(null==y?void 0:y.update))return null;if(l[1]===Symbol.for("react.memo_cache_sentinel")?(n=[vc,"".concat(vc,"__toggle")].filter(Boolean),l[1]=n):n=l[1],l[2]!==o||l[3]!==r||l[4]!==w||l[5]!==i||l[6]!==c||l[7]!==m||l[8]!==u||l[9]!==b||l[10]!==v){let e;l[12]!==w||l[13]!==m?(e=()=>{m(w),x([])},l[12]=w,l[13]=m,l[14]=e):e=l[14],a=(0,f.jsxs)("div",{className:n.join(" "),children:[(0,f.jsx)(m_,{"aria-label":v("general:edit"),onClick:e,children:v("general:edit")}),(0,f.jsx)(nu,{children:(0,f.jsx)(av,{Header:null,slug:w,children:(0,f.jsx)(vs,{collection:o,count:r,drawerSlug:w,ids:i,onSuccess:c,selectAll:u,selectedFields:b,setSelectedFields:x})})})]}),l[2]=o,l[3]=r,l[4]=w,l[5]=i,l[6]=c,l[7]=m,l[8]=u,l[9]=b,l[10]=v,l[11]=a}else a=l[11];return a};function vp(e){let t=(0,h.c)(6),n=nd(),a;t[0]!==e.style?(a=e.style||{},t[0]=e.style,t[1]=a):a=t[1];let l="calc(100 + ".concat(n||0," + 1)"),o;return t[2]!==e||t[3]!==a||t[4]!==l?(o=(0,f.jsx)(nY,{...e,style:{...a,zIndex:l}}),t[2]=e,t[3]=a,t[4]=l,t[5]=o):o=t[5],o}function vf(e){let t,n=(0,h.c)(12),{highlightField:a,setKey:l}=e,{id:o}=lV(),{toggleModal:r}=nT(),{t:i}=(0,d.d)(),c="generate-confirmation-".concat(o),u;n[0]!==a||n[1]!==l||n[2]!==i?(u=()=>{l(),e3.success(i("authentication:newAPIKeyGenerated")),a(!0)},n[0]=a,n[1]=l,n[2]=i,n[3]=u):u=n[3];let p=u,m;return n[4]!==c||n[5]!==r?(m=()=>{r(c)},n[4]=c,n[5]=r,n[6]=m):m=n[6],n[7]!==p||n[8]!==c||n[9]!==i||n[10]!==m?(t=(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(tO,{buttonStyle:"secondary",onClick:m,size:"small",children:i("authentication:generateNewAPIKey")}),(0,f.jsx)(aw,{body:(0,f.jsx)(pO,{elements:{1:vh},i18nKey:"authentication:generatingNewAPIKeyWillInvalidate",t:i}),confirmLabel:i("authentication:generate"),heading:i("authentication:confirmGeneration"),modalSlug:c,onConfirm:p})]}),n[7]=p,n[8]=c,n[9]=i,n[10]=m,n[11]=t):t=n[11],t}function vh(e){let{children:t}=e;return(0,f.jsx)("strong",{children:t})}function vm(e){let t=(0,h.c)(4),{permissions:n}=e,{setPermissions:a}=aD(),l,o;return t[0]!==n||t[1]!==a?(l=()=>{a(n)},o=[n,a],t[0]=n,t[1]=a,t[2]=l,t[3]=o):(l=t[2],o=t[3]),(0,s.useEffect)(l,o),null}var vv="dots",vg=e=>{let{ariaLabel:t,className:n,noBackground:a,orientation:l="vertical"}=e;return(0,f.jsxs)("div",{"aria-label":t,className:[n,vv,a&&"".concat(vv,"--no-background"),l&&"".concat(vv,"--").concat(l)].filter(Boolean).join(" "),children:[(0,f.jsx)("div",{}),(0,f.jsx)("div",{}),(0,f.jsx)("div",{})]})},vb="search-filter",vx=e=>{let{handleChange:t,initialParams:n,label:a,searchQueryParam:l}=e,o=(null==n?void 0:n.search)||l,r=(0,g.usePathname)(),[i,c]=(0,s.useState)("string"==typeof o?o:void 0),u=(0,s.useRef)(!0),d=(0,s.useRef)("string"==typeof o?o:void 0),p=aS(i,300);return(0,s.useEffect)(()=>{o!==d.current&&(u.current=!1,c(o),d.current=o)},[o,r]),(0,s.useEffect)(()=>{p!==d.current&&u.current&&(t&&t(p),d.current=p)},[p,t]),(0,f.jsx)("div",{className:vb,children:(0,f.jsx)("input",{"aria-label":a,className:"".concat(vb,"__input"),id:"search-filter-input",onChange:e=>{u.current=!0,c(e.target.value)},placeholder:a,type:"text",value:i||""})})},vy=e=>{let{disabled:t,field:{admin:n},onChange:a,value:l}=e,{date:o}=n||{};return(0,f.jsx)("div",{className:"condition-value-date",children:(0,f.jsx)(oG,{...o,onChange:a,readOnly:t,value:l})})},vw=e=>{let t,n=(0,h.c)(18),{disabled:a,field:l,onChange:o,operator:r,value:i}=e,{hasMany:c}=l,{t:u}=(0,d.d)(),p;n[0]!==c||n[1]!==r?(p=["in","not_in"].includes(r)||c,n[0]=c,n[1]=r,n[2]=p):p=n[2];let m=p,v;n[3]===Symbol.for("react.memo_cache_sentinel")?(v=[],n[3]=v):v=n[3];let[g,b]=s.useState(v),x;n[4]!==m||n[5]!==o?(x=e=>{var t;let n;e?m&&(n=Array.isArray(e)?e.map(vj):[Number((null===(t=e.value)||void 0===t?void 0:t.value)||e.value)]):n=[],o(n)},n[4]=m,n[5]=o,n[6]=x):x=n[6];let y=x,w,j;return n[7]!==i?(w=()=>{Array.isArray(i)?b(i.map(vC)):b([])},j=[i],n[7]=i,n[8]=w,n[9]=j):(w=n[8],j=n[9]),s.useEffect(w,j),n[10]!==a||n[11]!==m||n[12]!==o||n[13]!==y||n[14]!==u||n[15]!==i||n[16]!==g?(t=m?(0,f.jsx)(ce,{disabled:a,isClearable:!0,isCreatable:!0,isMulti:m,isSortable:!0,numberOnly:!0,onChange:y,options:[],placeholder:u("general:enterAValue"),value:g||[]}):(0,f.jsx)("input",{className:"condition-value-number",disabled:a,onChange:e=>o(e.target.value),placeholder:u("general:enterAValue"),type:"number",value:i}),n[10]=a,n[11]=m,n[12]=o,n[13]=y,n[14]=u,n[15]=i,n[16]=g,n[17]=t):t=n[17],t};function vj(e){var t;return Number((null===(t=e.value)||void 0===t?void 0:t.value)||e.value)}function vC(e,t){return{id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}}}var vS=e=>e.reduce((e,t)=>t.options?[...e,...vS(t.options)]:[...e,t.id],[]),v_=(e,t)=>{switch(t.type){case"ADD":{let{collection:n,data:a,hasMultipleRelations:l,i18n:o,relation:r}=t,i=n.admin.useAsTitle||"id",s=vS(e);if(!l)return[...e,...a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],value:t.id}]):e,[])];let c=[...e],u=c.find(e=>e.label===(0,m.i)(n.labels.plural,o)),d=a.docs.reduce((e,t)=>-1===s.indexOf(t.id)?(s.push(t.id),[...e,{label:t[i],relationTo:r,value:t.id}]):e,[]);return u?u.options=[...u.options,...d]:c.push({label:(0,m.i)(n.labels.plural,o),options:d,value:void 0}),c}case"CLEAR":return t.required?[]:[{label:t.i18n.t("general:none"),value:"null"}];default:return e}},vk="condition-value-relationship",vN=e=>{let{disabled:t,field:{admin:{isSortable:n,placeholder:a}={},hasMany:l,relationTo:o},filterOptions:r,onChange:i,value:c}=e,{config:{routes:{api:p},serverURL:h},getEntityConfig:m}=(0,u.b)(),v=Array.isArray(o),[g,b]=(0,s.useReducer)(v_,[]),[x,y]=(0,s.useState)(""),j=aS(x,300),[C,S]=(0,s.useState)(""),[_,k]=(0,s.useState)(!1),{i18n:N,t:E}=(0,d.d)(),D=aB(),P=v?o:[o],T=s.useRef(new Map(P.map(e=>[e,{hasLoadedAll:!1,nextPage:1}]))),R=(0,s.useCallback)((e,t)=>{b({type:"ADD",collection:m({collectionSlug:t}),data:e,hasMultipleRelations:v,i18n:N,relation:t})},[v,N,m]),O=a_(async e=>{let{abortController:t,relationSlug:n}=e,a=T.current.get(n);if(n&&!a.hasLoadedAll){var l,o;let e=(null===(o=m({collectionSlug:n}))||void 0===o?void 0:null===(l=o.admin)||void 0===l?void 0:l.useAsTitle)||"id",i={depth:0,limit:10,locale:D.code,page:a.nextPage,select:{[e]:!0},where:{and:[]}};r&&(null==r?void 0:r[n])&&i.where.and.push(r[n]),j&&i.where.and.push({[e]:{like:j}});try{let e=await fetch("".concat(h).concat(p,"/").concat(n).concat(w.P(i,{addQueryPrefix:!0})),{credentials:"include",headers:{"Accept-Language":N.language},signal:t.signal});if(e.ok){let t=await e.json();t.docs.length>0&&(R(t,n),t.nextPage?T.current.set(n,{hasLoadedAll:!1,nextPage:t.nextPage}):T.current.set(n,{hasLoadedAll:!0,nextPage:null}))}else S(E("error:unspecific"))}catch(e){t.signal.aborted||console.error(e)}}k(!0)}),L=s.useCallback(()=>{let e=T.current.entries().next().value;e[0]&&!e[1].hasLoadedAll&&O({abortController:new AbortController,relationSlug:e[0]})},[]),F=(0,s.useCallback)(()=>{if(c){if(l)return Array.isArray(c)?c.map(e=>{if(v){let t;return g.forEach(n=>{n.options&&n.options.some(n=>(null==n?void 0:n.value)==e.value&&(t=n,!0))}),t}return g.find(t=>t.value==e)}):void 0;if(v){let e;return g.forEach(t=>{(null==t?void 0:t.options)&&t.options.some(t=>(null==t?void 0:t.value)==c.value&&(e=t,!0))}),e}return g.find(e=>e.value==c)}},[l,v,c,g]),I=(0,s.useCallback)(e=>{if(e!==x){b({type:"CLEAR",i18n:N,required:!1});let t=Array.isArray(o)?o:[o];T.current=new Map(t.map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),y(e)}},[N,o,x]),A=(0,s.useCallback)(async(e,t)=>{if(!C&&"null"!==e&&e&&t){let n=await fetch("".concat(h).concat(p,"/").concat(t,"/").concat(e,"?depth=0"),{credentials:"include",headers:{"Accept-Language":N.language}});n.ok?R({docs:[await n.json()]},t):console.error(E("error:loadingDocument",{id:e}))}},[N,R,p,C,h,E]);(0,s.useEffect)(()=>{let e=Array.isArray(o)?o:[o];T.current=new Map(e.map(e=>[e,{hasLoadedAll:!1,nextPage:1}])),b({type:"CLEAR",i18n:N,required:!1}),k(!1);let t=[];return e.forEach(e=>{let n=new AbortController;O({abortController:n,relationSlug:e}),t.push(n)}),()=>{t.forEach(e=>{if(e.signal)try{e.abort()}catch(e){}})}},[N,o,j,r]),(0,s.useEffect)(()=>{c&&_&&(l?(F()||[]).forEach((e,t)=>{e||(v?A(c[t].value,c[t].relationTo):A(c[t],o))}):F()||(v?A(c.value,c.relationTo):A(c,o)))},[A,F,l,v,o,c,_]);let M=["field-type",vk,C&&"error-loading"].filter(Boolean).join(" "),B=F()||c;return(0,f.jsx)("div",{className:M,children:C?(0,f.jsx)("div",{className:"".concat(vk,"__error-loading"),children:C}):(0,f.jsx)(ce,{disabled:t,isMulti:l,isSortable:n,onChange:e=>{if(!e){i(null);return}l&&Array.isArray(e)?i(e?e.map(e=>v?{relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}:null==e?void 0:e.value):null):v&&!Array.isArray(e)?i({relationTo:null==e?void 0:e.relationTo,value:null==e?void 0:e.value}):Array.isArray(e)||i(null==e?void 0:e.value)},onInputChange:I,onMenuScrollToBottom:L,options:g,placeholder:a,value:B})})},vE=e=>{let t,n,a,l,o=(0,h.c)(26),{disabled:r,field:i,isClearable:c,onChange:u,operator:p,options:v,value:g}=e,{admin:b}=i,{placeholder:x}=b,{i18n:y}=(0,d.d)(),w;o[0]!==v?(w=ct(v),o[0]=v,o[1]=w):w=o[1];let[j,C]=s.useState(w),S;o[2]===Symbol.for("react.memo_cache_sentinel")?(S=["in","not_in"],o[2]=S):S=o[2];let _=S.includes(p),k;if(_&&Array.isArray(g)){let e;o[3]!==y||o[4]!==j?(e=e=>{var t;let n=j.find(t=>t.value===e);return{label:n?(0,m.i)(n.label,y):e,value:null!==(t=null==n?void 0:n.value)&&void 0!==t?t:e}},o[3]=y,o[4]=j,o[5]=e):e=o[5],k=g.map(e)}else if(g){var N;let e,t;if(o[6]!==y||o[7]!==j||o[8]!==g){let n;o[11]!==g?(n=e=>e.value===g,o[11]=g,o[12]=n):n=o[12],t=(e=j.find(n))?(0,m.i)(e.label,y):g,o[6]=y,o[7]=j,o[8]=g,o[9]=e,o[10]=t}else e=o[9],t=o[10];k={label:t,value:null!==(N=null==e?void 0:e.value)&&void 0!==N?N:g}}o[13]!==_||o[14]!==u?(t=e=>{u(e?_?Array.isArray(e)?e.map(vD):[]:e.value:null)},o[13]=_,o[14]=u,o[15]=t):t=o[15];let E=t,D,P;return o[16]!==v?(D=()=>{C(ct(v))},P=[v],o[16]=v,o[17]=D,o[18]=P):(D=o[17],P=o[18]),s.useEffect(D,P),o[19]!==_||o[20]!==u||o[21]!==g?(n=()=>{!_&&Array.isArray(g)&&u(g[0])},a=[_,u,g],o[19]=_,o[20]=u,o[21]=g,o[22]=n,o[23]=a):(n=o[22],a=o[23]),s.useEffect(n,a),o[24]!==y?(l=e=>({...e,label:(0,m.i)(e.label,y)}),o[24]=y,o[25]=l):l=o[25],(0,f.jsx)(ce,{disabled:r,isClearable:c,isMulti:_,onChange:E,options:j.map(l),placeholder:x,value:k})};function vD(e){return e.value}var vP=e=>{let t,n=(0,h.c)(18),{disabled:a,field:l,onChange:o,operator:r,value:i}=e,{hasMany:c}=l,{t:u}=(0,d.d)(),p;n[0]!==c||n[1]!==r?(p=["in","not_in"].includes(r)||c,n[0]=c,n[1]=r,n[2]=p):p=n[2];let m=p,v;n[3]===Symbol.for("react.memo_cache_sentinel")?(v=[],n[3]=v):v=n[3];let[g,b]=s.useState(v),x;n[4]!==m||n[5]!==o?(x=e=>{var t;let n;e?m&&(n=Array.isArray(e)?e.map(vT):[(null===(t=e.value)||void 0===t?void 0:t.value)||e.value]):n=[],o(n)},n[4]=m,n[5]=o,n[6]=x):x=n[6];let y=x,w,j;return n[7]!==i?(w=()=>{Array.isArray(i)?b(i.map(vR)):b([])},j=[i],n[7]=i,n[8]=w,n[9]=j):(w=n[8],j=n[9]),s.useEffect(w,j),n[10]!==a||n[11]!==m||n[12]!==o||n[13]!==y||n[14]!==u||n[15]!==i||n[16]!==g?(t=m?(0,f.jsx)(ce,{disabled:a,isClearable:!0,isCreatable:!0,isMulti:m,isSortable:!0,onChange:y,options:[],placeholder:u("general:enterAValue"),value:g||[]}):(0,f.jsx)("input",{className:"condition-value-text",disabled:a,onChange:e=>o(e.target.value),placeholder:u("general:enterAValue"),type:"text",value:i||""}),n[10]=a,n[11]=m,n[12]=o,n[13]=y,n[14]=u,n[15]=i,n[16]=g,n[17]=t):t=n[17],t};function vT(e){var t;return(null===(t=e.value)||void 0===t?void 0:t.value)||e.value}function vR(e,t){return{id:"".concat(e).concat(t),label:"".concat(e),value:{toString:()=>"".concat(e).concat(t),value:(null==e?void 0:e.value)||e}}}var vO=e=>{var t,n;let{booleanSelect:a,disabled:l,filterOptions:o,internalField:r,onChange:i,operator:s,options:c,value:u}=e;if(a||["radio","select"].includes(null==r?void 0:null===(t=r.field)||void 0===t?void 0:t.type))return(0,f.jsx)(vE,{disabled:l,field:r.field,isClearable:!a,onChange:i,operator:s,options:c,value:u});switch(null==r?void 0:null===(n=r.field)||void 0===n?void 0:n.type){case"date":return(0,f.jsx)(vy,{disabled:l,field:r.field,onChange:i,operator:s,value:u});case"number":return(0,f.jsx)(vw,{disabled:l,field:r.field,onChange:i,operator:s,value:u});case"relationship":return(0,f.jsx)(vN,{disabled:l,field:r.field,filterOptions:o,onChange:i,operator:s,value:u});default:return(0,f.jsx)(vP,{disabled:l,field:null==r?void 0:r.field,onChange:i,operator:s,value:u})}},vL=e=>({all:"any",contains:"string",equals:"any",exists:"boolean",greater_than:"date"===e?"object":"string",greater_than_equal:"date"===e?"object":"string",in:"any",intersects:"any",less_than:"date"===e?"object":"string",less_than_equal:"date"===e?"object":"string",like:"string",near:"any",not_equals:"any",not_in:"any",not_like:"string",within:"any"}),vF="condition",vI=e=>{var t,n,a,l,o;let{addCondition:r,andIndex:i,fieldName:c,filterOptions:u,operator:p,orIndex:h,reducedFields:m,removeCondition:v,RenderedFilter:g,updateCondition:b,value:x}=e,{t:y}=(0,d.d)(),w=m.find(e=>e.value===c),[j,C]=(0,s.useState)(x),S=aS(j,300),_=["exists"].includes(p)||(null==w?void 0:null===(t=w.field)||void 0===t?void 0:t.type)==="checkbox",k=[];_?k=[{label:y("general:true"),value:"true"},{label:y("general:false"),value:"false"}]:(null==w?void 0:w.field)&&"options"in w.field&&(k=w.field.options);let N=a_(async e=>{p&&await b({andIndex:i,field:w,operator:p,orIndex:h,value:null===e?"":e})});(0,s.useEffect)(()=>{N(S)},[S]);let E=!(null==w?void 0:w.value)&&"number"!=typeof(null==w?void 0:w.value)||(null==w?void 0:null===(a=w.field)||void 0===a?void 0:null===(n=a.admin)||void 0===n?void 0:n.disableListFilter),D=(0,s.useCallback)(async e=>{C(void 0),await b({andIndex:i,field:m.find(t=>t.value===e.value),operator:p,orIndex:h,value:void 0})},[i,p,h,m,b]),P=(0,s.useCallback)(async e=>{let t=vL(w.field.type)[e.value]||"any",n="any"===t||typeof x===t||"boolean"===t&&("true"===x||"false"===x);n||C(void 0),await b({andIndex:i,field:w,operator:e.value,orIndex:h,value:n?x:void 0})},[i,w,h,b,x]);return(0,f.jsx)("div",{className:vF,children:(0,f.jsxs)("div",{className:"".concat(vF,"__wrap"),children:[(0,f.jsxs)("div",{className:"".concat(vF,"__inputs"),children:[(0,f.jsx)("div",{className:"".concat(vF,"__field"),children:(0,f.jsx)(ce,{disabled:E,filterOption:(e,t)=>{var n;return((null==e?void 0:null===(n=e.data)||void 0===n?void 0:n.plainTextLabel)||e.label).toLowerCase().includes(t.toLowerCase())},isClearable:!1,onChange:D,options:m.filter(e=>!e.field.admin.disableListFilter),value:w||{value:null==w?void 0:w.value}})}),(0,f.jsx)("div",{className:"".concat(vF,"__operator"),children:(0,f.jsx)(ce,{disabled:E,isClearable:!1,onChange:P,options:null==w?void 0:w.operators,value:(null==w?void 0:w.operators.find(e=>p===e.value))||null})}),(0,f.jsx)("div",{className:"".concat(vF,"__value"),children:g||(0,f.jsx)(vO,{booleanSelect:_,disabled:!p||!w||(null==w?void 0:null===(o=w.field)||void 0===o?void 0:null===(l=o.admin)||void 0===l?void 0:l.disableListFilter),filterOptions:u,internalField:w,onChange:C,operator:p,options:k,value:null!=j?j:""})})]}),(0,f.jsxs)("div",{className:"".concat(vF,"__actions"),children:[(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(vF,"__actions-remove"),icon:"x",iconStyle:"with-border",onClick:()=>v({andIndex:i,orIndex:h}),round:!0}),(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(vF,"__actions-add"),icon:"plus",iconStyle:"with-border",onClick:()=>r({andIndex:i+1,field:m.find(e=>{var t;return!(null===(t=e.field.admin)||void 0===t?void 0:t.disableListFilter)}),orIndex:h,relation:"and"}),round:!0})]})]})})},vA=[{label:"equals",value:"equals"},{label:"isNotEqualTo",value:"not_equals"}],vM=[{label:"isIn",value:"in"},{label:"isNotIn",value:"not_in"},{label:"exists",value:"exists"}],vB=[...vA,...vM],vz=[...vB,{label:"isGreaterThan",value:"greater_than"},{label:"isLessThan",value:"less_than"},{label:"isLessThanOrEqualTo",value:"less_than_equal"},{label:"isGreaterThanOrEqualTo",value:"greater_than_equal"}],vU=[...vA,{label:"exists",value:"exists"},{label:"near",value:"near"}],vV={label:"within",value:"within"},vH={label:"intersects",value:"intersects"},vq={label:"isLike",value:"like"},vW={label:"isNotLike",value:"not_like"},vK={label:"contains",value:"contains"},vY={checkbox:{component:"Text",operators:vA},code:{component:"Text",operators:[...vB,vq,vW,vK]},date:{component:"Date",operators:[...vB,...vz]},email:{component:"Text",operators:[...vB,vK]},json:{component:"Text",operators:[...vB,vq,vK,vW,vV,vH]},number:{component:"Number",operators:[...vB,...vz]},point:{component:"Point",operators:[...vU,vV,vH]},radio:{component:"Select",operators:[...vB]},relationship:{component:"Relationship",operators:[...vB]},richText:{component:"Text",operators:[...vB,vq,vW,vK]},select:{component:"Select",operators:[...vB]},text:{component:"Text",operators:[...vB,vq,vW,vK]},textarea:{component:"Text",operators:[...vB,vq,vW,vK]},upload:{component:"Text",operators:[...vB]}},vG=e=>{let{fields:t,i18n:n,labelPrefix:a,pathPrefix:l}=e;return t.reduce((e,t)=>{if((0,b.XI)(t)&&!(0,b.Ve)(t))return e;if("tabs"===t.type&&"tabs"in t)return t.tabs.forEach(t=>{if("boolean"!=typeof t.label){let o=(0,m.i)(t.label,n),r=(0,b.JC)(t)&&t.name?l?l+"."+t.name:t.name:l;"string"==typeof o&&e.push(...vG({fields:t.fields,i18n:n,labelPrefix:a?a+" > "+o:o,pathPrefix:r}))}}),e;if("row"===t.type&&"fields"in t)return e.push(...vG({fields:t.fields,i18n:n,labelPrefix:a,pathPrefix:l})),e;if("collapsible"===t.type&&"fields"in t){let o=(0,m.i)(t.label||"",n);return e.push(...vG({fields:t.fields,i18n:n,labelPrefix:a?a+" > "+o:o,pathPrefix:l})),e}if("group"===t.type&&"fields"in t){let o=(0,m.i)(t.label||"",n),r=a?o?a+" > "+o:a:o;if((0,b.j7)(t)){let a=t.name?l?l+"."+t.name:t.name:l;e.push(...vG({fields:t.fields,i18n:n,labelPrefix:r,pathPrefix:a}))}else e.push(...vG({fields:t.fields,i18n:n,labelPrefix:r,pathPrefix:l}));return e}if("array"===t.type&&"fields"in t){let o=(0,m.i)(t.label||"",n),r=t.name?l?l+"."+t.name:t.name:l;return e.push(...vG({fields:t.fields,i18n:n,labelPrefix:a?o?a+" > "+o:a:o,pathPrefix:r})),e}if("object"==typeof vY[t.type]){let o=new Set,r=("hasMany"in t&&t.hasMany?vM:vY[t.type].operators).reduce((e,t)=>{if(!o.has(t.value)){o.add(t.value);let a="operators:".concat(t.label);e.push({...t,label:n.t(a)})}return e},[]),i=(0,m.i)(t.label||"",n),s=a?d7({field:t,prefix:a}):i,c=l?d8(l,t):t.name,u={label:s,plainTextLabel:"".concat(a?a+" > ":"").concat(i),value:c,...vY[t.type],field:t,operators:r};return e.push(u),e}return e},[])},v$="where-builder",vX=e=>{let{collectionPluralLabel:t,fields:n,renderedFilters:a,resolvedFilterOptions:l}=e,{i18n:o,t:r}=(0,d.d)(),i=(0,s.useMemo)(()=>vG({fields:n,i18n:o}),[n,o]),{handleWhereChange:c,query:u}=cS(),p=(0,s.useMemo)(()=>{let e=u.where;if(e){if((0,X.b)(e))return e.or;let t=(0,Q.C)(e);if((0,X.b)(t))return t.or;console.warn("Invalid where query in URL: ".concat(JSON.stringify(e)))}return[]},[u.where]),h=s.useCallback(async e=>{let{andIndex:t,field:n,orIndex:a,relation:l}=e,o=[...p],r=vY[n.field.type].operators[0].value;"and"===l?o[a].and.splice(t,0,{[String(n.value)]:{[r]:void 0}}):o.push({and:[{[String(n.value)]:{[r]:void 0}}]}),await c({or:o})},[p,c]),v=s.useCallback(async e=>{let{andIndex:t,field:n,operator:a,orIndex:l,value:o}=e,r=p[l].and[t],i=vY[n.field.type],s=a||i.operators[0].value;if("object"==typeof r&&n.value){var u,d;let e=null!=o?o:null==r?void 0:r[s],a=e!==(null==r?void 0:null===(u=r[String(n.value)])||void 0===u?void 0:u[String(s)]),i=s!==(null===(d=Object.keys((null==r?void 0:r[String(n.value)])||{}))||void 0===d?void 0:d[0]);if(a||i){let a={[String(n.value)]:{[s]:e}},o=[...p];o[l].and[t]=a,await c({or:o})}}},[p,c]),g=s.useCallback(async e=>{let{andIndex:t,orIndex:n}=e,a=[...p];a[n].and.splice(t,1),0===a[n].and.length&&a.splice(n,1),await c({or:a})},[p,c]);return(0,f.jsxs)("div",{className:v$,children:[p.length>0&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("div",{className:"".concat(v$,"__label"),children:r("general:filterWhere",{label:(0,m.i)(t,o)})}),(0,f.jsx)("ul",{className:"".concat(v$,"__or-filters"),children:p.map((e,t)=>{let n="".concat(t,"_").concat(Array.isArray(null==e?void 0:e.and)?e.and.length:"");return(0,f.jsxs)("li",{children:[0!==t&&(0,f.jsx)("div",{className:"".concat(v$,"__label"),children:r("general:or")}),(0,f.jsx)("ul",{className:"".concat(v$,"__and-filters"),children:Array.isArray(null==e?void 0:e.and)&&e.and.map((e,n)=>{var o,s;let c=p[t].and[n],u=Object.keys(c)[0],d=(null===(o=Object.keys((null==c?void 0:c[u])||{}))||void 0===o?void 0:o[0])||void 0,m=(null==c?void 0:null===(s=c[u])||void 0===s?void 0:s[d])||void 0;return(0,f.jsxs)("li",{children:[0!==n&&(0,f.jsx)("div",{className:"".concat(v$,"__label"),children:r("general:and")}),(0,f.jsx)(vI,{addCondition:h,andIndex:n,fieldName:u,filterOptions:null==l?void 0:l.get(u),operator:d,orIndex:t,reducedFields:i,removeCondition:g,RenderedFilter:null==a?void 0:a.get(u),updateCondition:v,value:m})]},n)})})]},n)})}),(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(v$,"__add-or"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{await h({andIndex:0,field:i.find(e=>{var t;return!(null===(t=e.field.admin)||void 0===t?void 0:t.disableListFilter)}),orIndex:p.length,relation:"or"})},children:r("general:or")})]}),0===p.length&&(0,f.jsxs)("div",{className:"".concat(v$,"__no-filters"),children:[(0,f.jsx)("div",{className:"".concat(v$,"__label"),children:r("general:noFiltersSet")}),(0,f.jsx)(tO,{buttonStyle:"icon-label",className:"".concat(v$,"__add-first-filter"),icon:"plus",iconPosition:"left",iconStyle:"with-border",onClick:async()=>{i.length>0&&await h({andIndex:0,field:i.find(e=>{var t;return!(null===(t=e.field.admin)||void 0===t?void 0:t.disableListFilter)}),orIndex:p.length,relation:"or"})},children:r("general:addFilter")})]})]})},vQ=e=>{let{className:t}=e;return(0,f.jsx)("svg",{className:["icon","icon--people",t].filter(Boolean).join(" "),fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M14 16C14 14.5855 13.4381 13.229 12.4379 12.2288C11.4377 11.2286 10.0812 10.6667 8.66668 10.6667M8.66668 10.6667C7.25219 10.6667 5.89563 11.2286 4.89544 12.2288C3.89525 13.229 3.33334 14.5855 3.33334 16M8.66668 10.6667C10.5076 10.6667 12 9.17428 12 7.33333C12 5.49238 10.5076 4 8.66668 4C6.82573 4 5.33334 5.49238 5.33334 7.33333C5.33334 9.17428 6.82573 10.6667 8.66668 10.6667ZM16.6667 15.3333C16.6667 13.0867 15.3333 11 14 10C14.4383 9.67118 14.7888 9.23939 15.0204 8.74285C15.252 8.2463 15.3577 7.70031 15.328 7.1532C15.2984 6.60609 15.1343 6.07472 14.8503 5.60613C14.5664 5.13754 14.1713 4.74617 13.7 4.46667",strokeLinecap:"round",strokeLinejoin:"round"})})},vZ="active-query-preset";function vJ(e){let t,n=(0,h.c)(44),{activePreset:a,openPresetListDrawer:l,resetPreset:o}=e,{i18n:r,t:i}=(0,d.d)(),{getEntityConfig:s}=(0,u.b)(),c,p,v,g,b,x,y,w,j,C,S,_,k,N,E;if(n[0]!==a||n[1]!==s||n[2]!==r||n[3]!==l||n[4]!==i){let e=s({collectionSlug:"payload-query-presets"});x=f.jsxs,y=om;let t=a&&"".concat(vZ,"--active"),o;n[20]!==t?(o=[vZ,t].filter(Boolean),n[20]=t,n[21]=o):o=n[21],E=o.join(" "),p="select-preset",n[22]!==l?(v=()=>{l()},n[22]=l,n[23]=v):v=n[23],g=a?"always-white":"light",b="small",n[24]!==(null==a?void 0:a.isShared)?(N=(null==a?void 0:a.isShared)&&(0,f.jsx)(vQ,{className:"".concat(vZ,"__shared")}),n[24]=null==a?void 0:a.isShared,n[25]=N):N=n[25],_=f.jsx,k="div",S="".concat(vZ,"__label-text-max-width"),j=f.jsx,C="div",c="".concat(vZ,"__label-text"),w=(null==a?void 0:a.title)||i("general:selectLabel",{label:(0,m.i)(e.labels.singular,r)}),n[0]=a,n[1]=s,n[2]=r,n[3]=l,n[4]=i,n[5]=c,n[6]=p,n[7]=v,n[8]=g,n[9]=b,n[10]=x,n[11]=y,n[12]=w,n[13]=j,n[14]=C,n[15]=S,n[16]=_,n[17]=k,n[18]=N,n[19]=E}else c=n[5],p=n[6],v=n[7],g=n[8],b=n[9],x=n[10],y=n[11],w=n[12],j=n[13],C=n[14],S=n[15],_=n[16],k=n[17],N=n[18],E=n[19];return n[26]!==a||n[27]!==o||n[28]!==c||n[29]!==p||n[30]!==v||n[31]!==g||n[32]!==b||n[33]!==x||n[34]!==y||n[35]!==w||n[36]!==j||n[37]!==C||n[38]!==S||n[39]!==_||n[40]!==k||n[41]!==N||n[42]!==E?(t=x(y,{className:E,id:p,onClick:v,pillStyle:g,size:b,children:[N,_(k,{className:S,children:j(C,{className:c,children:w})}),a?(0,f.jsx)("div",{className:"".concat(vZ,"__clear"),id:"clear-preset",onClick:async e=>{e.stopPropagation(),await o()},onKeyDown:async e=>{("Enter"===e.key||" "===e.key)&&(e.stopPropagation(),await o())},role:"button",tabIndex:0,children:(0,f.jsx)(d.a,{})}):null]}),n[26]=a,n[27]=o,n[28]=c,n[29]=p,n[30]=v,n[31]=g,n[32]=b,n[33]=x,n[34]=y,n[35]=w,n[36]=j,n[37]=C,n[38]=S,n[39]=_,n[40]=k,n[41]=N,n[42]=E,n[43]=t):t=n[43],t}var v0=(e,t,n)=>e?(0,k.a)(t,{i18n:n,moveSubFieldsToTop:!0}).filter(t=>(0,b.j7)(t)&&e.includes(t.name)):null,v1="confirm-delete-preset",v3="payload-query-presets",v2=e=>{var t,n,a;let{activePreset:l,collectionSlug:o,queryPresetPermissions:r}=e,{modified:i,query:c,refineListData:p,setModified:h}=cS(),{i18n:v,t:g}=(0,d.d)(),{openModal:b}=nT(),{config:{routes:{api:x}},getEntityConfig:y}=(0,u.b)(),w=y({collectionSlug:v3}),[j,,{openDrawer:C}]=c2({id:null==l?void 0:l.id,collectionSlug:v3}),[S,,{closeDrawer:_,openDrawer:k}]=c2({collectionSlug:v3}),[N,,{closeDrawer:D,openDrawer:P}]=uK({collectionSlugs:[v3],filterOptions:(0,s.useMemo)(()=>({"payload-query-presets":{isTemp:{not_equals:!0},relatedCollection:{equals:o}}}),[o]),selectedCollection:v3}),T=(0,s.useCallback)(async e=>{await p({columns:e.columns?(0,E.z)(e.columns):void 0,preset:e.id,where:e.where},!1)},[p]),R=(0,s.useCallback)(async()=>{await p({columns:void 0,preset:void 0,where:void 0},!1)},[p]),O=(0,s.useCallback)(async()=>{try{await fetch("".concat(x,"/").concat(v3,"/").concat(l.id),{method:"DELETE"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(e3.success(g("general:titleDeleted",{label:(0,m.i)(null==w?void 0:null===(t=w.labels)||void 0===t?void 0:t.singular,v),title:l.title})),await R()):n.errors?n.errors.forEach(e=>e3.error(e.message)):e3.error(g("error:deletingTitle",{title:l.title}))}catch(e){e3.error(g("error:deletingTitle",{title:l.title}))}})}catch(e){e3.error(g("error:deletingTitle",{title:l.title}))}},[x,null==l?void 0:l.id,null==l?void 0:l.title,g,w,v,R]),L=(0,s.useCallback)(async()=>{try{await fetch("".concat(x,"/payload-query-presets/").concat(l.id),{body:JSON.stringify({columns:(0,E.P)(c.columns),where:c.where}),credentials:"include",headers:{"Content-Type":"application/json"},method:"PATCH"}).then(async e=>{try{var t;let n=await e.json();e.status<400?(e3.success(g("general:updatedLabelSuccessfully",{label:(0,m.i)(null==w?void 0:null===(t=w.labels)||void 0===t?void 0:t.singular,v)})),h(!1)):n.errors?n.errors.forEach(e=>e3.error(e.message)):e3.error(g("error:unknown"))}catch(e){e3.error(g("error:unknown"))}})}catch(e){e3.error(g("error:unknown"))}},[x,null==l?void 0:l.id,c.columns,c.where,g,null==w?void 0:null===(t=w.labels)||void 0===t?void 0:t.singular,v,h]),F=(0,s.useMemo)(()=>{var e;let t=l&&i;return[(0,f.jsx)(th,{label:(0,m.i)(null==w?void 0:null===(e=w.labels)||void 0===e?void 0:e.plural,v)},"preset-group-label"),(0,f.jsxs)(tp.ButtonGroup,{children:[t&&(0,f.jsx)(tp.Button,{onClick:async()=>{await p({columns:(0,E.z)(l.columns),where:l.where},!1)},children:g("general:reset")}),t&&r.update&&(0,f.jsx)(tp.Button,{onClick:async()=>{await L()},children:(null==l?void 0:l.isShared)?g("general:updateForEveryone"):g("general:save")}),(0,f.jsx)(tp.Button,{onClick:()=>{k()},children:g("general:createNew")}),l&&(null==r?void 0:r.delete)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tp.Button,{onClick:()=>b(v1),children:g("general:delete")}),(0,f.jsx)(tp.Button,{onClick:()=>{C()},children:g("general:edit")})]})]},"preset-group-buttons")]},[l,null==r?void 0:r.delete,null==r?void 0:r.update,k,C,b,L,g,p,i,null==w?void 0:null===(n=w.labels)||void 0===n?void 0:n.plural,v]);return{CreateNewPresetDrawer:(0,f.jsx)(S,{initialData:{columns:(0,E.P)(c.columns),relatedCollection:o,where:c.where},onSave:async e=>{let{doc:t}=e;_(),await T(t)},redirectAfterCreate:!1}),DeletePresetModal:(0,f.jsx)(aw,{body:(0,f.jsx)(pO,{elements:{1:e=>{let{children:t}=e;return(0,f.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:g,variables:{label:null==w?void 0:null===(a=w.labels)||void 0===a?void 0:a.singular,title:null==l?void 0:l.title}}),confirmingLabel:g("general:deleting"),heading:g("general:confirmDeletion"),modalSlug:v1,onConfirm:O}),EditPresetDrawer:(0,f.jsx)(j,{onDelete:()=>{},onDuplicate:async e=>{let{doc:t}=e;await T(t)},onSave:async e=>{let{doc:t}=e;await T(t)}}),hasModifiedPreset:i,openPresetListDrawer:P,PresetListDrawer:(0,f.jsx)(N,{allowCreate:!1,disableQueryPresets:!0,onSelect:async e=>{let{doc:t}=e;D(),await T(t)}}),queryPresetMenuItems:F,resetPreset:R}},v6="list-controls",v5=e=>{var t,n;let{beforeActions:a,collectionConfig:l,collectionSlug:o,disableQueryPresets:r,enableColumns:i=!0,enableFilters:c=!0,enableSort:u=!1,listMenuItems:p,queryPreset:h,queryPresetPermissions:v,renderedFilters:g,resolvedFilterOptions:b}=e,{handleSearchChange:x,query:y}=cS(),{CreateNewPresetDrawer:w,DeletePresetModal:j,EditPresetDrawer:C,hasModifiedPreset:S,openPresetListDrawer:_,PresetListDrawer:k,queryPresetMenuItems:N,resetPreset:E}=v2({activePreset:h,collectionSlug:o,queryPresetPermissions:v}),D=hh(l),{i18n:P,t:T}=(0,d.d)(),{breakpoints:{s:R}}=ty(),O=null!==(n=D&&(0,m.i)("label"in D&&("string"==typeof D.label||"object"==typeof D.label)?D.label:"name"in D?D.name:null,P))&&void 0!==n?n:"ID",L=v0(l.admin.listSearchableFields,l.fields,P),F=(0,s.useRef)(T("general:searchBy",{label:(0,m.i)(O,P)})),I=(0,s.useRef)(!!(null==y?void 0:y.where)),A=(0,X.b)(null==y?void 0:y.where),[M,B]=(0,s.useState)(A?"where":void 0);(0,s.useEffect)(()=>{!I.current||(null==y?void 0:y.where)?(null==y?void 0:y.where)&&(I.current=!0):I.current=!1},[B,null==y?void 0:y.where]),(0,s.useEffect)(()=>{(null==L?void 0:L.length)>0?F.current=L.reduce((e,t,n)=>{let a="label"in t&&t.label?t.label:"name"in t?t.name:null;return 0===n?"".concat(T("general:searchBy",{label:(0,m.i)(a,P)})):n===L.length-1?"".concat(e," ").concat(T("general:or")," ").concat((0,m.i)(a,P)):"".concat(e,", ").concat((0,m.i)(a,P))},""):F.current=T("general:searchBy",{label:(0,m.i)(O,P)})},[T,L,P,O]);let z=p;return(null==l?void 0:l.enableQueryPresets)&&!r&&(null==N?void 0:N.length)>0&&(z=[...N,(null==p?void 0:p.length)>0?(0,f.jsx)(tp.Divider,{},"divider"):null,...p||[]]),(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)("div",{className:v6,children:[(0,f.jsxs)("div",{className:"".concat(v6,"__wrap"),children:[(0,f.jsx)(ok,{}),(0,f.jsx)(vx,{handleChange:x,label:F.current,searchQueryParam:null==y?void 0:y.search},o),h&&S?(0,f.jsx)("div",{className:"".concat(v6,"__modified"),children:"Modified"}):null,(0,f.jsx)("div",{className:"".concat(v6,"__buttons"),children:(0,f.jsxs)("div",{className:"".concat(v6,"__buttons-wrap"),children:[!R&&(0,f.jsx)(s.Fragment,{children:a&&a}),i&&(0,f.jsx)(om,{"aria-controls":"".concat(v6,"-columns"),"aria-expanded":"columns"===M,className:"".concat(v6,"__toggle-columns"),icon:(0,f.jsx)(ti,{direction:"columns"===M?"up":"down"}),onClick:()=>B("columns"!==M?"columns":void 0),pillStyle:"light",size:"small",children:T("general:columns")}),c&&(0,f.jsx)(om,{"aria-controls":"".concat(v6,"-where"),"aria-expanded":"where"===M,className:"".concat(v6,"__toggle-where"),icon:(0,f.jsx)(ti,{direction:"where"===M?"up":"down"}),onClick:()=>B("where"!==M?"where":void 0),pillStyle:"light",size:"small",children:T("general:filters")}),u&&(0,f.jsx)(om,{"aria-controls":"".concat(v6,"-sort"),"aria-expanded":"sort"===M,className:"".concat(v6,"__toggle-sort"),icon:(0,f.jsx)(ti,{}),onClick:()=>B("sort"!==M?"sort":void 0),pillStyle:"light",size:"small",children:T("general:sort")}),!r&&(0,f.jsx)(vJ,{activePreset:h,openPresetListDrawer:_,resetPreset:E}),z&&Array.isArray(z)&&z.length>0&&(0,f.jsx)(tD,{button:(0,f.jsx)(vg,{ariaLabel:T("general:moreOptions")}),className:"".concat(v6,"__popup"),horizontalAlign:"right",id:"list-menu",size:"medium",verticalAlign:"bottom",children:z.map((e,t)=>(0,f.jsx)(s.Fragment,{children:e},"list-menu-item-".concat(t)))})]})})]}),i&&(0,f.jsx)(oo,{className:"".concat(v6,"__columns"),height:"columns"===M?"auto":0,id:"".concat(v6,"-columns"),children:(0,f.jsx)(cF,{collectionSlug:l.slug})}),(0,f.jsx)(oo,{className:"".concat(v6,"__where"),height:"where"===M?"auto":0,id:"".concat(v6,"-where"),children:(0,f.jsx)(vX,{collectionPluralLabel:null==l?void 0:null===(t=l.labels)||void 0===t?void 0:t.plural,collectionSlug:l.slug,fields:null==l?void 0:l.fields,renderedFilters:g,resolvedFilterOptions:b})})]}),k,C,w,j]})};function v4(e){let{collection:t,collection:{slug:n,labels:{plural:a,singular:l}}={},drawerSlug:o,ids:r,onSuccess:i,selectAll:c}=e,{clearRouteCache:p}=pC(),{config:{routes:{api:h},serverURL:v}}=(0,u.b)(),{code:b}=aB(),x=(0,g.useRouter)(),y=(0,g.useSearchParams)(),{i18n:j,t:C}=(0,d.d)(),S=(0,s.useCallback)(()=>{e3.error(C("error:unknown"))},[C]),_=s.useMemo(()=>{var e;let n=[{_status:{not_equals:"published"}}],a=(0,N.c)({collectionConfig:t,search:y.get("search")});return a&&n.push(a),c?n.push((null===(e=cj(y))||void 0===e?void 0:e.where)||{id:{exists:!0}}):n.push({id:{in:r||[]}}),w.P({locale:b,where:(0,$.d)(n)},{addQueryPrefix:!0})},[t,y,c,r,b]),k=(0,s.useCallback)(async()=>{await ak.patch("".concat(v).concat(h,"/").concat(n).concat(_,"&draft=true"),{body:JSON.stringify({_status:"published"}),headers:{"Accept-Language":j.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,o=n>1?a:l;return e.status<400||n>0?(e3.success(C("general:updatedCountSuccessfully",{count:n,label:(0,m.i)(o,j)})),(null==t?void 0:t.errors.length)>0&&e3.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),x.replace(w.P({...cj(y),page:c?"1":void 0},{addQueryPrefix:!0})),p(),"function"==typeof i&&i(),null):(t.errors?t.errors.forEach(e=>e3.error(e.message)):S(),!1)}catch(e){return S()}})},[v,h,n,_,j,a,l,C,x,y,c,p,S,i]);return(0,f.jsx)(aw,{body:C("version:aboutToPublishSelection",{label:(0,m.i)(a,j)}),cancelLabel:C("general:cancel"),confirmingLabel:C("version:publishing"),confirmLabel:C("general:confirm"),heading:C("version:confirmPublish"),modalSlug:o,onConfirm:k})}var v8=e=>{let t=(0,h.c)(8),{count:n,selectAll:a,selected:l,toggleAll:o}=mj(),r;if(t[0]!==n||t[1]!==e||t[2]!==a||t[3]!==l||t[4]!==o){let i;t[6]!==o?(i=()=>o(!1),t[6]=o,t[7]=i):i=t[7],r=(0,f.jsx)(v7,{...e,count:n,ids:Array.from(l.keys()),onSuccess:i,selectAll:a===mx.AllAvailable}),t[0]=n,t[1]=e,t[2]=a,t[3]=l,t[4]=o,t[5]=r}else r=t[5];return r},v7=e=>{var t,n;let a;let l=(0,h.c)(11),{collection:o,collection:r,count:i,ids:c,onSuccess:u,selectAll:p}=e,{slug:m,versions:v}=void 0===r?{}:r,{permissions:g}=aD(),{t:b}=(0,d.d)(),{openModal:x}=nT(),y=null==g?void 0:null===(n=g.collections)||void 0===n?void 0:null===(t=n[m])||void 0===t?void 0:t.update,w="publish-".concat(m);if(!(null==v?void 0:v.drafts)||0===i||!y)return null;if(l[0]!==o||l[1]!==w||l[2]!==c||l[3]!==u||l[4]!==x||l[5]!==p||l[6]!==b){let e;l[8]!==w||l[9]!==x?(e=()=>{x(w)},l[8]=w,l[9]=x,l[10]=e):e=l[10],a=(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(m_,{"aria-label":b("version:publish"),onClick:e,children:b("version:publish")}),(0,f.jsx)(v4,{collection:o,drawerSlug:w,ids:c,onSuccess:u,selectAll:p})]}),l[0]=o,l[1]=w,l[2]=c,l[3]=u,l[4]=x,l[5]=p,l[6]=b,l[7]=a}else a=l[7];return a};function v9(e){let{collection:t,collection:{slug:n,labels:{plural:a,singular:l}}={},drawerSlug:o,ids:r,onSuccess:i,selectAll:c}=e,{config:{routes:{api:p},serverURL:h}}=(0,u.b)(),{code:v}=aB(),{i18n:b,t:x}=(0,d.d)(),y=(0,g.useSearchParams)(),j=(0,g.useRouter)(),{clearRouteCache:C}=pC(),S=(0,s.useCallback)(()=>{e3.error(x("error:unknown"))},[x]),_=s.useMemo(()=>{let e=[{_status:{not_equals:"draft"}}],n=(0,N.c)({collectionConfig:t,search:y.get("search")});return n&&e.push(n),c||e.push({id:{in:r||[]}}),w.P({locale:v,where:(0,$.d)(e)},{addQueryPrefix:!0})},[t,y,c,r,v]),k=(0,s.useCallback)(async()=>{await ak.patch("".concat(h).concat(p,"/").concat(n).concat(_),{body:JSON.stringify({_status:"draft"}),headers:{"Accept-Language":b.language,"Content-Type":"application/json"}}).then(async e=>{try{let t=await e.json(),n=(null==t?void 0:t.docs.length)||0,o=n>1?a:l;return e.status<400||n>0?(e3.success(x("general:updatedCountSuccessfully",{count:n,label:(0,m.i)(o,b)})),(null==t?void 0:t.errors.length)>0&&e3.error(t.message,{description:t.errors.map(e=>e.message).join("\n")}),j.replace(w.P({...cj(y),page:c?"1":void 0},{addQueryPrefix:!0})),C(),"function"==typeof i&&i(),null):(t.errors?t.errors.forEach(e=>e3.error(e.message)):S(),!1)}catch(e){return S()}})},[h,p,n,_,b,a,l,x,j,y,c,C,S,i]);return(0,f.jsx)(aw,{body:x("version:aboutToUnpublishSelection",{label:(0,m.i)(a,b)}),confirmingLabel:x("version:unpublishing"),heading:x("version:confirmUnpublish"),modalSlug:o,onConfirm:k})}var ge=e=>{let t=(0,h.c)(8),{count:n,selectAll:a,selected:l,toggleAll:o}=mj(),r;if(t[0]!==n||t[1]!==e||t[2]!==a||t[3]!==l||t[4]!==o){let i;t[6]!==o?(i=()=>o(!1),t[6]=o,t[7]=i):i=t[7],r=(0,f.jsx)(gt,{...e,count:n,ids:Array.from(l.keys()),onSuccess:i,selectAll:a===mx.AllAvailable}),t[0]=n,t[1]=e,t[2]=a,t[3]=l,t[4]=o,t[5]=r}else r=t[5];return r},gt=e=>{var t,n;let a;let l=(0,h.c)(11),{collection:o,collection:r,count:i,ids:c,onSuccess:u,selectAll:p}=e,{slug:m,versions:v}=void 0===r?{}:r,{t:g}=(0,d.d)(),{permissions:b}=aD(),{toggleModal:x}=nT(),y=null==b?void 0:null===(n=b.collections)||void 0===n?void 0:null===(t=n[m])||void 0===t?void 0:t.update,w="unpublish-".concat(m);if(!(null==v?void 0:v.drafts)||0===i||!y)return null;if(l[0]!==o||l[1]!==w||l[2]!==c||l[3]!==u||l[4]!==p||l[5]!==g||l[6]!==x){let e;l[8]!==w||l[9]!==x?(e=()=>{x(w)},l[8]=w,l[9]=x,l[10]=e):e=l[10],a=(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(m_,{"aria-label":g("version:unpublish"),onClick:e,children:g("version:unpublish")}),(0,f.jsx)(v9,{collection:o,drawerSlug:w,ids:c,onSuccess:u,selectAll:p})]}),l[0]=o,l[1]=w,l[2]=c,l[3]=u,l[4]=p,l[5]=g,l[6]=x,l[7]=a}else a=l[7];return a},gn=e=>{let t,n=(0,h.c)(14),{collectionConfig:a,disableBulkDelete:l,disableBulkEdit:o,label:r}=e,{count:i,getSelectedIds:c,selectAll:u,toggleAll:p,totalDocs:m}=mj(),{t:v}=(0,d.d)(),g;n[0]!==p?(g=()=>p(!1),n[0]=p,n[1]=g):g=n[1];let b=g;return 0===i?null:(n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==o||n[6]!==c||n[7]!==r||n[8]!==b||n[9]!==u||n[10]!==v||n[11]!==p||n[12]!==m?(t=(0,f.jsx)(mS,{count:i,ListActions:[u!==mx.AllAvailable&&i<m?(0,f.jsx)(m_,{"aria-label":v("general:selectAll",{count:"(".concat(m,")"),label:r}),id:"select-all-across-pages",onClick:()=>p(!0),children:v("general:selectAll",{count:"(".concat(m,")"),label:""})},"select-all"):null].filter(Boolean),SelectionActions:[!o&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(vd,{collection:a,count:i,ids:c(),onSuccess:b,selectAll:u===mx.AllAvailable}),(0,f.jsx)(v7,{collection:a,count:i,ids:c(),onSuccess:b,selectAll:u===mx.AllAvailable}),(0,f.jsx)(gt,{collection:a,count:i,ids:c(),onSuccess:b,selectAll:u===mx.AllAvailable})]},"bulk-actions"),!l&&(0,f.jsx)(mN,{collection:a},"bulk-delete")].filter(Boolean)}),n[2]=a,n[3]=i,n[4]=l,n[5]=o,n[6]=c,n[7]=r,n[8]=b,n[9]=u,n[10]=v,n[11]=p,n[12]=m,n[13]=t):t=n[13],t)};function ga(e){let{slug:t,className:n}=e,{closeModal:a}=nT(),{t:l}=(0,d.d)();return(0,f.jsx)("button",{"aria-label":l("general:close"),className:["close-modal-button",n].filter(Boolean).join(" "),onClick:()=>{a(t)},type:"button",children:(0,f.jsx)(d.a,{})},"close-button")}var gl="list-folder-pills";function go(e){var t,n,a;let l=(0,h.c)(16),{collectionConfig:o,folderCollectionSlug:r,viewType:i}=e,{i18n:s,t:c}=(0,d.d)(),{config:p}=(0,u.b)();if(!r)return null;let v="folders"===i&&"".concat(gl,"__button--active"),g;l[0]!==v?(g=["".concat(gl,"__button"),v].filter(Boolean),l[0]=v,l[1]=g):g=l[1];let b=g.join(" "),x="folders"===i,w="list"===i?"link":"div",j="/collections/".concat(o.slug,"/").concat(r),C;if(l[2]!==(null===(t=o.labels)||void 0===t?void 0:t.plural)||l[3]!==o.slug||l[4]!==p.routes.admin||l[5]!==p.serverURL||l[6]!==s||l[7]!==c||l[8]!==b||l[9]!==x||l[10]!==w||l[11]!==j||l[12]!==i){let e=(0,f.jsx)(tO,{buttonStyle:"tab",className:b,disabled:x,el:w,to:(0,y.$)({adminRoute:p.routes.admin,path:j,serverURL:p.serverURL}),children:c("folder:byFolder")}),t="list"===i&&"".concat(gl,"__button--active"),r;l[14]!==t?(r=["".concat(gl,"__button"),t].filter(Boolean),l[14]=t,l[15]=r):r=l[15],C=(0,f.jsxs)("div",{className:gl,children:[e,(0,f.jsxs)(tO,{buttonStyle:"tab",className:r.join(" "),disabled:"list"===i,el:"folders"===i?"link":"div",to:(0,y.$)({adminRoute:p.routes.admin,path:"/collections/".concat(o.slug),serverURL:p.serverURL}),children:[c("general:all")," ",(0,m.i)(null==o?void 0:null===(n=o.labels)||void 0===n?void 0:n.plural,s)]})]}),l[2]=null===(a=o.labels)||void 0===a?void 0:a.plural,l[3]=o.slug,l[4]=p.routes.admin,l[5]=p.serverURL,l[6]=s,l[7]=c,l[8]=b,l[9]=x,l[10]=w,l[11]=j,l[12]=i,l[13]=C}else C=l[13];return C}var gr="list-header",gi=e=>(0,f.jsxs)("header",{className:[gr,e.className].filter(Boolean).join(" "),children:[(0,f.jsxs)("div",{className:"".concat(gr,"__content"),children:[(0,f.jsxs)("div",{className:"".concat(gr,"__title-and-actions"),children:[(0,f.jsx)("h1",{className:"".concat(gr,"__title"),children:e.title}),e.TitleActions.length?(0,f.jsx)("div",{className:"".concat(gr,"__title-actions"),children:e.TitleActions}):null]}),e.Actions.length?(0,f.jsx)("div",{className:"".concat(gr,"__actions"),children:e.Actions}):null]}),e.AfterListHeaderContent?(0,f.jsx)("div",{className:"".concat(gr,"__after-header-content"),children:e.AfterListHeaderContent}):null]}),gs=()=>{let e=(0,h.c)(12),{i18n:t,t:n}=(0,d.d)(),{config:a,getEntityConfig:l}=(0,u.b)(),{collections:o}=a,{enabledCollections:r,selectedOption:i,setSelectedOption:s}=cw(),c;if(e[0]!==o||e[1]!==r||e[2]!==l||e[3]!==t||e[4]!==i||e[5]!==s||e[6]!==n){c=Symbol.for("react.early_return_sentinel");e:{let a;e[8]!==r?(a=e=>{let{slug:t}=e;return r.includes(t)},e[8]=r,e[9]=a):a=e[9];let u=o.filter(a);if(u.length>1){let a=l({collectionSlug:i.value}),o;e[10]!==t?(o=e=>({label:(0,m.i)(e.labels.singular,t),value:e.slug}),e[10]=t,e[11]=o):o=e[11],c=(0,f.jsxs)("div",{className:"".concat("list-drawer","__select-collection-wrap"),children:[(0,f.jsx)(aV,{label:n("upload:selectCollectionToBrowse")}),(0,f.jsx)(ce,{className:"".concat(gr,"__select-collection"),isClearable:!1,onChange:s,options:u.map(o),value:{label:(0,m.i)(null==a?void 0:a.labels.singular,t),value:null==a?void 0:a.slug}})]});break e}}e[0]=o,e[1]=r,e[2]=l,e[3]=t,e[4]=i,e[5]=s,e[6]=n,e[7]=c}else c=e[7];return c!==Symbol.for("react.early_return_sentinel")?c:null};function gc(e){let t,n=(0,h.c)(3),{hasCreatePermission:a}=e,{DocumentDrawerToggler:l}=cw(),{t:o}=(0,d.d)();return a?(n[0]!==l||n[1]!==o?(t=(0,f.jsx)(l,{className:"".concat("list-header","__create-new-button"),children:(0,f.jsx)(om,{size:"small",children:o("general:createNew")})},"create-new-button-toggler"),n[0]=l,n[1]=o,n[2]=t):t=n[2],t):null}function gu(e){let t,n=(0,h.c)(12),{collectionSlug:a,hasCreatePermission:l,isBulkUploadEnabled:o,onBulkUploadSuccess:r,openBulkUpload:i}=e,{drawerSlug:s,setCollectionSlug:c,setOnSuccess:u}=fz(),{t:p}=(0,d.d)(),{openModal:m}=nT(),v=(0,g.useRouter)(),b;n[0]!==s||n[1]!==a||n[2]!==r||n[3]!==i||n[4]!==m||n[5]!==v||n[6]!==c||n[7]!==u?(b=()=>{"function"==typeof i?i():(c(a),m(s),u(()=>{"function"==typeof r?r():v.refresh()}))},n[0]=s,n[1]=a,n[2]=r,n[3]=i,n[4]=m,n[5]=v,n[6]=c,n[7]=u,n[8]=b):b=n[8];let x=b;return l&&o?(n[9]!==x||n[10]!==p?(t=(0,f.jsx)(tO,{"aria-label":p("upload:bulkUpload"),buttonStyle:"pill",onClick:x,size:"small",children:p("upload:bulkUpload")},"bulk-upload-button"),n[9]=x,n[10]=p,n[11]=t):t=n[11],t):null}function gd(e){var t;let n=(0,h.c)(5),{collectionConfig:a,hasCreatePermission:l,newDocumentURL:o}=e,{i18n:r,t:i}=(0,d.d)();if(!l)return null;let s=null==a?void 0:null===(t=a.labels)||void 0===t?void 0:t.singular,c;return n[0]!==r||n[1]!==o||n[2]!==i||n[3]!==s?(c=(0,f.jsx)(tO,{"aria-label":i("general:createNewLabel",{label:(0,m.i)(s,r)}),buttonStyle:"pill",className:"".concat("list-create-new-doc","__create-new-button"),el:"link",size:"small",to:o,children:i("general:createNew")},"create-new-button"),n[0]=r,n[1]=o,n[2]=i,n[3]=s,n[4]=c):c=n[4],c}var gp="list-drawer",gf=e=>{var t,n,a,l;let{className:o,collectionConfig:r,Description:i,disableBulkDelete:s,disableBulkEdit:c,hasCreatePermission:d,i18n:p,isBulkUploadEnabled:h,newDocumentURL:v,onBulkUploadSuccess:g,openBulkUpload:b,smallBreak:x,viewType:y}=e,{config:w,getEntityConfig:j}=(0,u.b)(),{drawerSlug:C,isInDrawer:S,selectedOption:_}=cw();return S?(0,f.jsx)(gi,{Actions:[(0,f.jsx)(ga,{className:"".concat(gp,"__header-close"),slug:C},"close-button")],AfterListHeaderContent:(0,f.jsxs)(f.Fragment,{children:[i,(0,f.jsx)(gs,{})]}),className:"".concat(gp,"__header"),title:(0,m.i)(null===(n=j({collectionSlug:_.value}))||void 0===n?void 0:null===(t=n.labels)||void 0===t?void 0:t.plural,p),TitleActions:[(0,f.jsx)(gc,{hasCreatePermission:d},"list-drawer-create-new-doc")].filter(Boolean)}):(0,f.jsx)(gi,{Actions:[!x&&(0,f.jsx)(gn,{collectionConfig:r,disableBulkDelete:s,disableBulkEdit:c,label:(0,m.i)(null==r?void 0:null===(a=r.labels)||void 0===a?void 0:a.plural,p)},"list-selection"),r.folders&&w.folders&&(0,f.jsx)(go,{collectionConfig:r,folderCollectionSlug:w.folders.slug,viewType:y},"list-header-buttons")].filter(Boolean),AfterListHeaderContent:i,className:o,title:(0,m.i)(null==r?void 0:null===(l=r.labels)||void 0===l?void 0:l.plural,p),TitleActions:[d&&(0,f.jsx)(gd,{collectionConfig:r,hasCreatePermission:d,newDocumentURL:v},"list-header-create-new-doc"),d&&h&&(0,f.jsx)(gu,{collectionSlug:r.slug,hasCreatePermission:d,isBulkUploadEnabled:h,onBulkUploadSuccess:g,openBulkUpload:b},"list-header-bulk-upload")].filter(Boolean)})},gh=()=>(0,f.jsx)("svg",{className:"icon icon--logout",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M12 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12M7.33333 13.3333L4 10M4 10L7.33333 6.66667M4 10H12",strokeLinecap:"square"})}),gm=e=>{let t=(0,h.c)(5),{tabIndex:n}=e,a=void 0===n?0:n,{t:l}=(0,d.d)(),{config:o}=(0,u.b)(),{admin:r,routes:i}=o,{routes:s}=r,{logout:c}=s,{admin:p}=i,m;return t[0]!==p||t[1]!==c||t[2]!==l||t[3]!==a?(m=(0,f.jsx)(tl,{"aria-label":l("authentication:logOut"),className:"".concat("nav","__log-out"),href:(0,y.$)({adminRoute:p,path:c}),prefetch:!1,tabIndex:a,title:l("authentication:logOut"),children:(0,f.jsx)(gh,{})}),t[0]=p,t[1]=c,t[2]=l,t[3]=a,t[4]=m):m=t[4],m},gv="nav-group",gg=e=>{let t,n=(0,h.c)(21),{children:a,isOpen:l,label:o}=e,[r,i]=(0,s.useState)("u">typeof l&&!l),[c,u]=(0,s.useState)(!1),{setPreference:d}=aO(),{navOpen:p}=h9();if(o){let e;n[0]!==r||n[1]!==o||n[2]!==d?(e=()=>{u(!0);let e={};(null==e?void 0:e[o])?e[o].open=!!r:e[o]={open:!!r},d("nav",{groups:e},!0),i(!r)},n[0]=r,n[1]=o,n[2]=d,n[3]=e):e=n[3];let t=e,l="".concat(o),s=r&&"".concat(gv,"--collapsed"),h;n[4]!==l||n[5]!==s?(h=["".concat(gv),l,s].filter(Boolean),n[4]=l,n[5]=s,n[6]=h):h=n[6];let m=h.join(" "),v="nav-group-".concat(o),g="".concat(gv,"__toggle--").concat(r?"collapsed":"open"),b;n[7]!==g?(b=["".concat(gv,"__toggle"),g].filter(Boolean),n[7]=g,n[8]=b):b=n[8];let x=b.join(" "),y=p?0:-1,w;return n[9]!==c||n[10]!==a||n[11]!==r||n[12]!==o||n[13]!==y||n[14]!==m||n[15]!==v||n[16]!==x||n[17]!==t?(w=(0,f.jsxs)("div",{className:m,id:v,children:[(0,f.jsxs)("button",{className:x,onClick:t,tabIndex:y,type:"button",children:[(0,f.jsx)("div",{className:"".concat(gv,"__label"),children:o}),(0,f.jsx)("div",{className:"".concat(gv,"__indicator"),children:(0,f.jsx)(ti,{className:"".concat(gv,"__indicator"),direction:r?void 0:"up"})})]}),(0,f.jsx)(oo,{duration:c?200:0,height:r?0:"auto",children:(0,f.jsx)("div",{className:"".concat(gv,"__content"),children:a})})]}),n[9]=c,n[10]=a,n[11]=r,n[12]=o,n[13]=y,n[14]=m,n[15]=v,n[16]=x,n[17]=t,n[18]=w):w=n[18],w}return n[19]!==a?(t=(0,f.jsx)(s.Fragment,{children:a}),n[19]=a,n[20]=t):t=n[20],t},gb="per-page",gx=Z.ce.admin.pagination.limits,gy=e=>{let t=(0,h.c)(9),{defaultLimit:n,handleChange:a,limit:l,limits:o}=e,r=void 0===o?gx:o,{t:i}=(0,d.d)(),s=(0,D.h)(l)?l:void 0===n?10:n,c;if(t[0]!==a||t[1]!==s||t[2]!==r||t[3]!==i){let e;t[5]!==a||t[6]!==s||t[7]!==r?(e=e=>{let{close:t}=e;return(0,f.jsx)(tp.ButtonGroup,{children:r.map((e,n)=>(0,f.jsxs)(tp.Button,{className:["".concat(gb,"__button"),e===s&&"".concat(gb,"__button-active")].filter(Boolean).join(" "),onClick:()=>{t(),a&&a(e)},children:[e===s&&(0,f.jsx)("div",{className:"".concat(gb,"__chevron"),children:(0,f.jsx)(ti,{direction:"right",size:"small"})}),"\xa0",(0,f.jsx)("span",{children:e})]},n))})},t[5]=a,t[6]=s,t[7]=r,t[8]=e):e=t[8],c=(0,f.jsx)("div",{className:gb,children:(0,f.jsx)(tD,{button:(0,f.jsxs)("div",{className:"".concat(gb,"__base-button"),children:[(0,f.jsx)("span",{children:i("general:perPage",{limit:s})}),"\xa0",(0,f.jsx)(ti,{className:"".concat(gb,"__icon")})]}),horizontalAlign:"right",render:e,size:"small"})}),t[0]=a,t[1]=s,t[2]=r,t[3]=i,t[4]=c}else c=t[4];return c};function gw(e){let{active:t}=e,{t:n}=(0,d.d)(),{config:a}=(0,u.b)(),{admin:{routes:{browseByFolder:l}},routes:{admin:o}}=a;return(0,f.jsxs)(tl,{className:["browse-by-folder-button",t&&"active"].filter(Boolean).join(" "),href:(0,y.$)({adminRoute:o,path:l}),id:"browse-by-folder",prefetch:!1,children:[(0,f.jsx)(pA,{}),n("folder:browseByFolder")]})}var gj=()=>(0,f.jsx)("svg",{className:"icon icon--document",fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{clipRule:"evenodd",d:"M3.5 1C2.94772 1 2.5 1.44772 2.5 2V14C2.5 14.5523 2.94771 15 3.5 15H12.5C13.0523 15 13.5 14.5523 13.5 14V4.41421C13.5 4.149 13.3946 3.89464 13.2071 3.70711L10.7929 1.29289C10.6054 1.10536 10.351 1 10.0858 1H3.5ZM5 5.5C5 5.22386 5.22386 5 5.5 5H10.5C10.7761 5 11 5.22386 11 5.5C11 5.77614 10.7761 6 10.5 6H5.5C5.22386 6 5 5.77614 5 5.5ZM5 8.5C5 8.22386 5.22386 8 5.5 8H10.5C10.7761 8 11 8.22386 11 8.5C11 8.77614 10.7761 9 10.5 9H5.5C5.22386 9 5 8.77614 5 8.5ZM5 11.5C5 11.2239 5.22386 11 5.5 11H10.5C10.7761 11 11 11.2239 11 11.5C11 11.7761 10.7761 12 10.5 12H5.5C5.22386 12 5 11.7761 5 11.5Z",fill:"currentColor",fillRule:"evenodd"})});function gC(e){let{className:t=""}=e;return(0,f.jsxs)("div",{className:"icon icon--dots ".concat(t).trim(),children:[(0,f.jsx)("div",{}),(0,f.jsx)("div",{}),(0,f.jsx)("div",{})]})}var gS=e=>{let{id:t,as:n="div",children:a,className:l,onClick:o,onKeyDown:r,ref:i,thresholdPixels:c=3}=e,{attributes:u,listeners:d,setNodeRef:p}=(0,x.O1)({id:t}),h=(0,s.useRef)({x:0,y:0}),m=(0,s.useRef)(!1);return(0,f.jsx)(n||"div",{role:"button",tabIndex:0,...u,className:"".concat("draggable-with-click"," ").concat(l||"").trim(),onKeyDown:r,onPointerDown:o?e=>{h.current={x:e.clientX,y:e.clientY},m.current=!1;let t=n=>{let a=Math.abs(n.clientX-h.current.x),l=Math.abs(n.clientY-h.current.y);(a>c||l>c)&&(m.current=!0,(null==d?void 0:d.onPointerDown)&&(d.onPointerDown(e),o(n)),window.removeEventListener("pointermove",t))},n=()=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",a)},a=e=>{n(),m.current||o(e)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",a)}:void 0,ref:e=>{p(e),i&&(i.current=e)},children:a})},g_="folder-file-card";function gk(e){let{id:t,type:n,className:a="",disabled:l=!1,isDeleting:o=!1,isFocused:r=!1,isSelected:i=!1,itemKey:c,onClick:u,onKeyDown:d,PopupActions:p,previewUrl:h,selectedCount:m=0,title:v}=e,g=!t||l||"folder"!==n,{isOver:b,setNodeRef:y}=(0,x.Zj)({id:c,data:{id:t,type:n},disabled:g}),w=s.useRef(null);return s.useEffect(()=>{let e=w.current;return r&&w.current?w.current.focus():!r&&w.current&&w.current.blur(),()=>{e&&e.blur()}},[r]),(0,f.jsxs)("div",{className:[g_,a,i&&"".concat(g_,"--selected"),l&&"".concat(g_,"--disabled"),o&&"".concat(g_,"--deleting"),r&&"".concat(g_,"--focused"),b&&"".concat(g_,"--over"),"".concat(g_,"--").concat(n)].filter(Boolean).join(" "),children:[!l&&(u||d)&&(0,f.jsx)(gS,{className:"".concat(g_,"__drag-handle"),id:c,onClick:u,onKeyDown:d,ref:w},c),g?null:(0,f.jsx)("div",{className:"".concat(g_,"__drop-area"),ref:y}),"file"===n?(0,f.jsx)("div",{className:"".concat(g_,"__preview-area"),children:h?(0,f.jsx)(ur,{fileSrc:h}):(0,f.jsx)(gj,{})}):null,(0,f.jsxs)("div",{className:"".concat(g_,"__titlebar-area"),children:[(0,f.jsx)("div",{className:"".concat(g_,"__icon-wrap"),children:"file"===n?(0,f.jsx)(gj,{}):(0,f.jsx)(pA,{})}),(0,f.jsx)("p",{className:"".concat(g_,"__name"),title:v,children:(0,f.jsx)("span",{children:v})}),p?(0,f.jsx)(tD,{button:(0,f.jsx)(gC,{}),disabled:m>1||1===m&&!i,horizontalAlign:"right",size:"large",verticalAlign:"bottom",children:p}):null]})]},c)}function gN(e){let t=(0,h.c)(19),{type:n,className:a,index:l,item:o}=e,{focusedRowIndex:r,isDragging:i,itemKeysToMove:s,onItemClick:c,onItemKeyPress:u,selectedItemKeys:d}=py(),p;if(t[0]!==a||t[1]!==r||t[2]!==l||t[3]!==i||t[4]!==o||t[5]!==s||t[6]!==c||t[7]!==u||t[8]!==d||t[9]!==n){let e,h=d.has(o.itemKey),m;t[11]!==l||t[12]!==o||t[13]!==c?(m=e=>{c({event:e,index:l,item:o})},t[11]=l,t[12]=o,t[13]=c,t[14]=m):m=t[14],t[15]!==l||t[16]!==o||t[17]!==u?(e=e=>{u({event:e,index:l,item:o})},t[15]=l,t[16]=o,t[17]=u,t[18]=e):e=t[18],p=(0,f.jsx)(gk,{className:a,disabled:i&&h||s.has(o.itemKey),id:o.value.id,isFocused:r===l,isSelected:h,itemKey:o.itemKey,onClick:m,onKeyDown:e,previewUrl:o.value.url,title:o.value._folderOrDocumentTitle,type:n}),t[0]=a,t[1]=r,t[2]=l,t[3]=i,t[4]=o,t[5]=s,t[6]=c,t[7]=u,t[8]=d,t[9]=n,t[10]=p}else p=t[10];return p}var gE="item-card-grid";function gD(e){let{type:t,items:n,subfolderCount:a,title:l}=e;return(0,f.jsxs)(f.Fragment,{children:[l&&(0,f.jsx)("p",{className:"".concat(gE,"__title"),children:l}),(0,f.jsx)("div",{className:gE,children:n&&(null==n?void 0:n.length)!==0?n.map((e,n)=>{let{itemKey:l}=e;return(0,f.jsx)(gN,{index:n+(a||0),item:e,type:t},l)}):null})]})}var gP="simple-table",gT=e=>{let{appearance:t,className:n,headerCells:a,tableRows:l}=e;return(0,f.jsx)("div",{className:[n,gP,t&&"".concat(gP,"--appearance-").concat(t)].filter(Boolean).join(" "),children:(0,f.jsxs)("table",{cellPadding:0,cellSpacing:0,className:"".concat(gP,"__table"),children:[(0,f.jsx)(gR,{children:(0,f.jsx)(gL,{children:a})}),(0,f.jsx)(gO,{children:l})]})})},gR=e=>{let{children:t,className:n,...a}=e;return(0,f.jsx)("thead",{className:"".concat(gP,"__thead ").concat(n||"").trim(),...a,children:t})},gO=e=>{let{children:t,className:n,...a}=e;return(0,f.jsx)("tbody",{className:"".concat(gP,"__tbody ").concat(n||"").trim(),...a,children:t})},gL=e=>{let{children:t,className:n,...a}=e;return(0,f.jsx)("tr",{className:"".concat(gP,"__tr ").concat(n||"").trim(),...a,children:t})},gF=e=>{let{children:t,className:n,...a}=e;return(0,f.jsx)("td",{className:"".concat(gP,"__td ").concat(n||"").trim(),...a,children:t})},gI=e=>{let{children:t,className:n,...a}=e;return(0,f.jsx)("th",{className:"".concat(gP,"__th ").concat(n||"").trim(),...a,children:t})},gA=e=>{let{children:t,className:n,...a}=e;return(0,f.jsx)("td",{className:"".concat(gP,"__hidden-cell ").concat(n||"").trim(),...a,children:t})},gM="draggable-table-row";function gB(e){let{id:t,columns:n,disabled:a=!1,dragData:l,isDroppable:o,isFocused:r,isSelected:i,isSelecting:c,itemKey:u,onClick:d,onKeyDown:p}=e,h=!a&&o&&!i,{isOver:m,setNodeRef:v}=(0,x.Zj)({id:t,data:l,disabled:!h}),g=s.useRef(null);return s.useEffect(()=>{let e=g.current;return r&&g.current?g.current.focus():!r&&g.current&&g.current.blur(),()=>{e&&e.blur()}},[r]),(0,f.jsxs)(gS,{as:"tr",className:[gM,i&&"".concat(gM,"--selected"),c&&"".concat(gM,"--selecting"),a&&"".concat(gM,"--disabled"),r&&"".concat(gM,"--focused"),m&&"".concat(gM,"--over")].filter(Boolean).join(" "),id:u,onClick:d,onKeyDown:p,ref:g,children:[n.map((e,t)=>(0,f.jsx)(gF,{className:["".concat(gM,"__cell-content"),0===t&&"".concat(gM,"__first-td"),t===n.length-1&&"".concat(gM,"__last-td")].filter(Boolean).join(" "),children:e},"".concat(u,"-").concat(t))),h?(0,f.jsx)(gA,{children:(0,f.jsx)("div",{className:"".concat(gM,"__drop-area"),ref:v})}):null]},u)}var gz="folder-file-table";function gU(e){let t=(0,h.c)(39),{showRelationCell:n}=e,a=void 0===n||n,{documents:l,focusedRowIndex:o,isDragging:r,onItemClick:i,onItemKeyPress:c,selectedItemKeys:p,subfolders:v}=py(),{config:g}=(0,u.b)(),{i18n:b,t:x}=(0,d.d)(),y;t[0]!==g||t[1]!==b?(y=()=>{let e={};return g.collections.forEach(t=>{var n;e[t.slug]=(0,m.i)(null===(n=t.labels)||void 0===n?void 0:n.singular,b)}),e},t[0]=g,t[1]=b,t[2]=y):y=t[2];let[w]=s.useState(y),j;t[3]!==a||t[4]!==x?(j=()=>{let e=[{name:"name",label:x("general:name")},{name:"createdAt",label:x("general:createdAt")},{name:"updatedAt",label:x("general:updatedAt")}];return a&&e.push({name:"type",label:x("version:type")}),e},t[3]=a,t[4]=x,t[5]=j):j=t[5];let[C]=s.useState(j),S;if(t[6]!==C||t[7]!==g||t[8]!==l||t[9]!==o||t[10]!==b||t[11]!==r||t[12]!==i||t[13]!==c||t[14]!==w||t[15]!==p||t[16]!==v){let e,n;t[18]!==C||t[19]!==g||t[20]!==o||t[21]!==b||t[22]!==r||t[23]!==i||t[24]!==c||t[25]!==w||t[26]!==p?(e=(e,t)=>{let{itemKey:n,relationTo:a,value:l}=e,s=(0,V.w)(l);return(0,f.jsx)(gB,{columns:C.map((e,t)=>{let{name:o}=e,r="—";return"name"===o&&void 0!==l._folderOrDocumentTitle&&(r=l._folderOrDocumentTitle),("createdAt"===o||"updatedAt"===o)&&l[o]&&(r=lk({date:l[o],i18n:b,pattern:g.admin.dateFormat})),"type"===o&&(r=w[a]||a),0===t?(0,f.jsxs)("span",{className:"".concat(gz,"__cell-with-icon"),children:[(0,f.jsx)(pA,{}),r]},"".concat(n,"-").concat(o)):r}),disabled:r&&(null==p?void 0:p.has(n)),dragData:{id:s,type:"folder"},id:s,isDroppable:!0,isFocused:o===t,isSelected:p.has(n),isSelecting:p.size>0,itemKey:n,onClick:n=>{i({event:n,index:t,item:e})},onKeyDown:n=>{c({event:n,index:t,item:e})}},"".concat(t,"-").concat(n))},t[18]=C,t[19]=g,t[20]=o,t[21]=b,t[22]=r,t[23]=i,t[24]=c,t[25]=w,t[26]=p,t[27]=e):e=t[27],t[28]!==C||t[29]!==g||t[30]!==o||t[31]!==b||t[32]!==r||t[33]!==i||t[34]!==c||t[35]!==w||t[36]!==p||t[37]!==v.length?(n=(e,t)=>{let{itemKey:n,relationTo:a,value:l}=e,s=(0,V.w)(l),u=t+v.length;return(0,f.jsx)(gB,{columns:C.map((e,t)=>{let{name:o}=e,r="—";return"name"===o&&void 0!==l._folderOrDocumentTitle&&(r=l._folderOrDocumentTitle),("createdAt"===o||"updatedAt"===o)&&l[o]&&(r=lk({date:l[o],i18n:b,pattern:g.admin.dateFormat})),"type"===o&&(r=w[a]||a),0===t?(0,f.jsxs)("span",{className:"".concat(gz,"__cell-with-icon"),children:[(0,f.jsx)(gj,{}),r]},"".concat(n,"-").concat(o)):r}),disabled:r||(null==p?void 0:p.has(n)),dragData:{id:s,type:"document"},id:s,isFocused:o===u,isSelected:p.has(n),isSelecting:p.size>0,itemKey:n,onClick:t=>{i({event:t,index:u,item:e})},onKeyDown:t=>{c({event:t,index:u,item:e})}},"".concat(u,"-").concat(n))},t[28]=C,t[29]=g,t[30]=o,t[31]=b,t[32]=r,t[33]=i,t[34]=c,t[35]=w,t[36]=p,t[37]=v.length,t[38]=n):n=t[38],S=(0,f.jsx)(gT,{headerCells:C.map(gV),tableRows:[...v.map(e),...l.map(n)]}),t[6]=C,t[7]=g,t[8]=l,t[9]=o,t[10]=b,t[11]=r,t[12]=i,t[13]=c,t[14]=w,t[15]=p,t[16]=v,t[17]=S}else S=t[17];return S}function gV(e){let{name:t,label:n}=e;return(0,f.jsx)(gI,{children:n},t)}function gH(e){return void 0===e||"number"==typeof e?e:decodeURIComponent(e)}var gq=e=>{let t=(0,h.c)(9),{id:n,className:a,prefix:l}=e,o=void 0===l?"ID:":l,{config:r}=(0,u.b)(),{routes:i}=r,{admin:s}=i,{collectionSlug:c,globalSlug:d}=lV(),p=ax(),m="/".concat(c?"collections/".concat(c):"globals/".concat(d),"/").concat(n),v;if(t[0]!==s||t[1]!==a||t[2]!==p||t[3]!==n||t[4]!==o||t[5]!==m){let e=(0,y.$)({adminRoute:s,path:m}),l;t[7]!==a?(l=["id-label",a].filter(Boolean),t[7]=a,t[8]=l):l=t[8],v=(0,f.jsxs)("div",{className:l.join(" "),title:n,children:[o,"\xa0",p>1?(0,f.jsx)(tl,{href:e,children:gH(n)}):gH(n)]}),t[0]=s,t[1]=a,t[2]=p,t[3]=n,t[4]=o,t[5]=m,t[6]=v}else v=t[6];return v},gW="render-title",gK=e=>{let t=(0,h.c)(10),{className:n,element:a,fallback:l,title:o}=e,{id:r,isInitializing:i}=lV(),{title:c}=lO(),u=o||c||l,d=u===r,p=void 0===a?"h1":a,m;if(t[0]!==p||t[1]!==n||t[2]!==r||t[3]!==d||t[4]!==i||t[5]!==u){let e=(0,f.jsx)(s.Fragment,{children:"\xa0"}),a=d&&"".concat(gW,"--has-id"),l;t[7]!==n||t[8]!==a?(l=[n,gW,a].filter(Boolean),t[7]=n,t[8]=a,t[9]=l):l=t[9],m=(0,f.jsx)(p,{className:l.join(" "),title:u,children:i?e:(0,f.jsx)(s.Fragment,{children:d?(0,f.jsx)(gq,{className:"".concat(gW,"__id"),id:r}):u||e})}),t[0]=p,t[1]=n,t[2]=r,t[3]=d,t[4]=i,t[5]=u,t[6]=m}else m=t[6];return m},gY="sort-column",gG=e=>{let t,n,a=(0,h.c)(22),{name:l,appearance:o,disable:r,Label:i,label:s}=e,c=void 0!==r&&r,{handleSortChange:u,query:p}=cS(),{t:m}=(0,d.d)(),{sort:v}=p,g="-".concat(l),b;a[0]!==l||a[1]!==v?(b=["".concat(gY,"__asc")],v===l&&b.push("".concat(gY,"--active")),a[0]=l,a[1]=v,a[2]=b):b=a[2],a[3]!==g||a[4]!==v?(t=["".concat(gY,"__desc")],v===g&&t.push("".concat(gY,"--active")),a[3]=g,a[4]=v,a[5]=t):t=a[5];let x=o&&"".concat(gY,"--appearance-").concat(o),y;a[6]!==x?(y=[gY,x].filter(Boolean),a[6]=x,a[7]=y):y=a[7];let w=y.join(" "),j;return a[8]!==i||a[9]!==s?(j=null!=i?i:(0,f.jsx)(aV,{hideLocale:!0,label:s,unstyled:!0}),a[8]=i,a[9]=s,a[10]=j):j=a[10],a[11]!==l||a[12]!==b||a[13]!==g||a[14]!==t||a[15]!==c||a[16]!==u||a[17]!==s||a[18]!==m||a[19]!==w||a[20]!==j?(n=(0,f.jsxs)("div",{className:w,children:[(0,f.jsx)("span",{className:"".concat(gY,"__label"),children:j}),!c&&(0,f.jsxs)("div",{className:"".concat(gY,"__buttons"),children:[(0,f.jsx)("button",{"aria-label":m("general:sortByLabelDirection",{direction:m("general:ascending"),label:s}),className:[...b,"".concat(gY,"__button")].filter(Boolean).join(" "),onClick:()=>void u(l),type:"button",children:(0,f.jsx)(ti,{direction:"up"})}),(0,f.jsx)("button",{"aria-label":m("general:sortByLabelDirection",{direction:m("general:descending"),label:s}),className:[...t,"".concat(gY,"__button")].filter(Boolean).join(" "),onClick:()=>void u(g),type:"button",children:(0,f.jsx)(ti,{})})]})]}),a[11]=l,a[12]=b,a[13]=g,a[14]=t,a[15]=c,a[16]=u,a[17]=s,a[18]=m,a[19]=w,a[20]=j,a[21]=n):n=a[21],n},g$=()=>(0,f.jsx)("svg",{"aria-hidden":"true",className:"graphic code-block-icon",focusable:"false",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{className:"stroke",d:"M14 12.6667L16.6667 9.99999L14 7.33332M5.99999 7.33332L3.33333 9.99999L5.99999 12.6667M11.6667 4.66666L8.33333 15.3333",strokeLinecap:"square"})}),gX="minimize-maximize",gQ=e=>{let{className:t,isMinimized:n}=e,a=[gX,n?"".concat(gX,"--minimized"):"".concat(gX,"--maximized"),t].filter(Boolean).join(" ");return(0,f.jsx)("svg",{className:a,height:"20",stroke:"currentColor",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:n?(0,f.jsx)("path",{d:"M7.33333 4H5.33333C4.97971 4 4.64057 4.14048 4.39052 4.39052C4.14048 4.64057 4 4.97971 4 5.33333V7.33333M16 7.33333V5.33333C16 4.97971 15.8595 4.64057 15.6095 4.39052C15.3594 4.14048 15.0203 4 14.6667 4H12.6667M4 12.6667V14.6667C4 15.0203 4.14048 15.3594 4.39052 15.6095C4.64057 15.8595 4.97971 16 5.33333 16H7.33333M12.6667 16H14.6667C15.0203 16 15.3594 15.8595 15.6095 15.6095C15.8595 15.3594 16 15.0203 16 14.6667V12.6667"}):(0,f.jsx)("path",{d:"M7.33333 4V6C7.33333 6.35362 7.19286 6.69276 6.94281 6.94281C6.69276 7.19286 6.35362 7.33333 6 7.33333H4M16 7.33333H14C13.6464 7.33333 13.3072 7.19286 13.0572 6.94281C12.8071 6.69276 12.6667 6.35362 12.6667 6V4M4 12.6667H6C6.35362 12.6667 6.69276 12.8071 6.94281 13.0572C7.19286 13.3072 7.33333 13.6464 7.33333 14V16M12.6667 16V14C12.6667 13.6464 12.8071 13.3072 13.0572 13.0572C13.3072 12.8071 13.6464 12.6667 14 12.6667H16"})})};function gZ(){return(0,f.jsxs)("svg",{className:"icon icon--move-folder",fill:"none",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("g",{filter:"url(#filter0_d_278_1086)",children:(0,f.jsx)("path",{d:"M5.33334 10V7.33334C5.33334 6.97971 5.47382 6.64058 5.72387 6.39053C5.97392 6.14048 6.31305 6 6.66668 6H9.26668C9.48967 5.99782 9.70965 6.0516 9.90648 6.15642C10.1033 6.26124 10.2707 6.41375 10.3933 6.6L10.9333 7.4C11.0547 7.58436 11.22 7.73568 11.4143 7.84041C11.6087 7.94513 11.8259 7.99997 12.0467 8H17.3333C17.687 8 18.0261 8.14048 18.2762 8.39053C18.5262 8.64058 18.6667 8.97971 18.6667 9.33334V16C18.6667 16.3536 18.5262 16.6928 18.2762 16.9428C18.0261 17.1929 17.687 17.3333 17.3333 17.3333H6.66668C6.31305 17.3333 5.97392 17.1929 5.72387 16.9428C5.47382 16.6928 5.33334 16.3536 5.33334 16V15.3333M5.33334 12.6667H12M12 12.6667L10 14.6667M12 12.6667L10 10.6667",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,f.jsx)("defs",{children:(0,f.jsx)("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"26",id:"filter0_d_278_1086",width:"26",x:"-1",y:"-1",children:(0,f.jsx)("feBlend",{in:"SourceGraphic",in2:"effect1_dropShadow_278_1086",mode:"normal",result:"shape"})})})]})}var gJ=()=>(0,f.jsxs)("svg",{className:"icon icon--grid-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{d:"M8 4H4.66667C4.29848 4 4 4.29848 4 4.66667V8C4 8.36819 4.29848 8.66667 4.66667 8.66667H8C8.36819 8.66667 8.66667 8.36819 8.66667 8V4.66667C8.66667 4.29848 8.36819 4 8 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M15.3333 4H12C11.6318 4 11.3333 4.29848 11.3333 4.66667V8C11.3333 8.36819 11.6318 8.66667 12 8.66667H15.3333C15.7015 8.66667 16 8.36819 16 8V4.66667C16 4.29848 15.7015 4 15.3333 4Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M15.3333 11.3333H12C11.6318 11.3333 11.3333 11.6318 11.3333 12V15.3333C11.3333 15.7015 11.6318 16 12 16H15.3333C15.7015 16 16 15.7015 16 15.3333V12C16 11.6318 15.7015 11.3333 15.3333 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,f.jsx)("path",{d:"M8 11.3333H4.66667C4.29848 11.3333 4 11.6318 4 12V15.3333C4 15.7015 4.29848 16 4.66667 16H8C8.36819 16 8.66667 15.7015 8.66667 15.3333V12C8.66667 11.6318 8.36819 11.3333 8 11.3333Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]}),g0=()=>(0,f.jsx)("svg",{className:"icon icon--list-view",fill:"none",height:"20",viewBox:"0 0 20 20",width:"20",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)("path",{d:"M4 10H16M4 14H16M4 6H16",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})}),g1=()=>(0,f.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-error-500)"}),(0,f.jsx)("path",{d:"M15.4001 10.5996L10.6001 15.3996M10.6001 10.5996L15.4001 15.3996",stroke:"var(--theme-error-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),g3=()=>(0,f.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-elevation-500)"}),(0,f.jsx)("path",{d:"M13 16.1998V12.9998M13 9.7998H13.0077",stroke:"var(--theme-elevation-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),g2=()=>(0,f.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-success-500)"}),(0,f.jsx)("path",{d:"M10.6001 13.0004L12.2001 14.6004L15.4001 11.4004",stroke:"var(--theme-success-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),g6=()=>(0,f.jsxs)("svg",{fill:"none",height:"26",viewBox:"0 0 26 26",width:"26",xmlns:"http://www.w3.org/2000/svg",children:[(0,f.jsx)("path",{d:"M13 21C17.4183 21 21 17.4183 21 13C21 8.58172 17.4183 5 13 5C8.58172 5 5 8.58172 5 13C5 17.4183 8.58172 21 13 21Z",fill:"var(--theme-warning-500)"}),(0,f.jsx)("path",{d:"M13 10V13.2M13 16.4H13.008",stroke:"var(--theme-warning-50)",strokeLinecap:"round",strokeLinejoin:"round"})]}),g5=s.createContext({addClientFunction:()=>null,removeClientFunction:()=>null}),g4=s.createContext({}),g8=e=>{let t=(0,h.c)(6),{children:n}=e,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={},t[0]=a):a=t[0];let[l,o]=s.useState(a),r;t[1]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{o(t=>{let n={...t};return n[e.key]=e.func,n})},t[1]=r):r=t[1];let i=r,c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=e=>{o(t=>{let n={...t};return delete n[e.key],n})},t[2]=c):c=t[2];let u=c,d;return t[3]!==n||t[4]!==l?(d=(0,f.jsx)(g5,{value:{addClientFunction:i,removeClientFunction:u},children:(0,f.jsx)(g4,{value:l,children:n})}),t[3]=n,t[4]=l,t[5]=d):d=t[5],d},g7=(e,t)=>{let n=(0,h.c)(6),{addClientFunction:a,removeClientFunction:l}=s.use(g5),o,r;n[0]!==a||n[1]!==t||n[2]!==e||n[3]!==l?(o=()=>(a({func:t,key:e}),()=>{l({func:t,key:e})}),r=[t,e,a,l],n[0]=a,n[1]=t,n[2]=e,n[3]=l,n[4]=o,n[5]=r):(o=n[4],r=n[5]),s.useEffect(o,r)},g9=()=>s.use(g4),be=e=>{let t,n,a=(0,h.c)(15),{eventType:l,onMessage:o,url:r}=e,i=(0,s.useRef)(!1),[c,d]=(0,s.useState)(!1),{config:p}=(0,u.b)(),{serverURL:f}=p,m=(0,s.useRef)(null),v,g;a[0]!==l||a[1]!==c||a[2]!==o||a[3]!==f||a[4]!==r?(v=()=>{let e=async e=>{var t,n;e.origin===window.location.origin&&e.origin===r&&e.origin===f&&("function"!=typeof o||(null===(t=e.data)||void 0===t?void 0:t.type)!==l||i.current||(i.current=!0,await o(null===(n=e.data)||void 0===n?void 0:n.searchParams),i.current=!1))};return c&&m.current&&window.addEventListener("message",e,!1),()=>{window.removeEventListener("message",e)}},g=[o,l,r,f,c],a[0]=l,a[1]=c,a[2]=o,a[3]=f,a[4]=r,a[5]=v,a[6]=g):(v=a[5],g=a[6]),(0,s.useEffect)(v,g),a[7]!==r?(t=e=>{e&&e.preventDefault();let t={height:700,left:"auto",menubar:"no",popup:"yes",toolbar:"no",top:"auto",width:800},n=Object.entries(t).reduce((e,n)=>{let[a,l]=n,o=e;if("auto"===l){if("top"===a){let e=Math.round(window.innerHeight/2-t.height/2);o+="top=".concat(e,",")}else if("left"===a){let e=Math.round(window.innerWidth/2-t.width/2);o+="left=".concat(e,",")}return o}return o+"".concat(a,"=").concat(l,",")},"").slice(0,-1),a=window.open(r,"_blank",n);m.current=a,d(!0)},a[7]=r,a[8]=t):t=a[8];let b=t,x,y;return a[9]!==c?(x=()=>{let e;return c?e=setInterval(function(){m.current.closed&&(clearInterval(e),d(!1))},1e3):clearInterval(e),()=>{e&&clearInterval(e)}},y=[c,m],a[9]=c,a[10]=x,a[11]=y):(x=a[10],y=a[11]),(0,s.useEffect)(x,y),a[12]!==c||a[13]!==b?(n={isPopupOpen:c,openPopupWindow:b,popupRef:m},a[12]=c,a[13]=b,a[14]=n):n=a[14],n},bt=e=>{var t;let{collisionRect:n,droppableContainers:a,...l}=e,o=a.find(e=>{let{id:t}=e;return"live-preview-area"===t}),r=(0,x.Xo)({...l,collisionRect:n,droppableContainers:[o]});if(0===r.length)return r;let i=null==o?void 0:null===(t=o.rect)||void 0===t?void 0:t.current;if(n.top>=i.top&&n.left>=i.left&&n.bottom<=i.bottom&&n.right<=i.right)return r},bn=(e,t)=>{switch(t.type){case"height":return{...e,height:t.value};case"width":return{...e,width:t.value};default:return{...e,...(null==t?void 0:t.value)||{}}}},ba=e=>{try{return new URL(e,window.location.origin).href}catch(t){return e}},bl=e=>{let{breakpoints:t,children:n,isLivePreviewEnabled:a,isLivePreviewing:l,url:o}=e,[r,i]=(0,s.useState)("iframe"),[c,d]=(0,s.useState)(l),p=(0,s.useMemo)(()=>[...t||[],{name:"responsive",height:"100%",label:"Responsive",width:"100%"}],[t]),[h,m]=(0,s.useState)("");(0,s.useEffect)(()=>m((null==o?void 0:o.startsWith("http://"))||(null==o?void 0:o.startsWith("https://"))?o:ba(o)),[o]);let{isPopupOpen:v,openPopupWindow:g,popupRef:b}=be({eventType:"payload-live-preview",url:h}),[y,w]=(0,s.useState)(!1),[j,C]=(0,s.useState)(!1),{collectionSlug:S,globalSlug:_}=lV(),k=(0,s.useRef)(!0),{setPreference:N}=aO(),E=s.useRef(null),[D,P]=(0,s.useState)(!1),{config:T,getEntityConfig:R}=(0,u.b)(),[O,L]=(0,s.useState)(1),[F,I]=(0,s.useState)({x:0,y:0}),[A,M]=s.useReducer(bn,{height:0,width:0}),[B,z]=(0,s.useState)({height:0,width:0}),U=R({collectionSlug:S,globalSlug:_}),[V,H]=s.useState("responsive"),[q]=(0,s.useState)(()=>(0,J.a)((null==U?void 0:U.fields)||[],T)),W=(0,s.useCallback)(e=>{M({type:"width",value:e})},[M]),K=(0,s.useCallback)(e=>{M({type:"height",value:e})},[M]);(0,s.useEffect)(()=>{let e=null==p?void 0:p.find(e=>e.name===V);e&&"responsive"!==V&&"custom"!==V&&"number"==typeof(null==e?void 0:e.width)&&"number"==typeof(null==e?void 0:e.height)&&M({type:"reset",value:{height:e.height,width:e.width}})},[V,p]),(0,s.useEffect)(()=>{let e=e=>{(null==h?void 0:h.startsWith(e.origin))&&e.data&&"object"==typeof e.data&&"payload-live-preview"===e.data.type&&e.data.ready&&w(!0)};return window.addEventListener("message",e),C(!0),()=>{window.removeEventListener("message",e)}},[h,j]);let Y=(0,s.useCallback)(e=>{w(!1),i(e),"popup"===e&&g()},[g]);return(0,s.useEffect)(()=>{(v?"popup":"iframe")!==r&&Y("iframe")},[r,v,Y]),(0,s.useEffect)(()=>{if(k.current){k.current=!1;return}N(S?"collection-".concat(S):"global-".concat(_),{editViewType:c?"live-preview":"default"},!0)},[c,N,S,_]),(0,f.jsx)(mD,{value:{appIsReady:y,breakpoint:V,breakpoints:p,fieldSchemaJSON:q,iframeHasLoaded:D,iframeRef:E,isLivePreviewEnabled:a,isLivePreviewing:c,isPopupOpen:v,listeningForMessages:j,measuredDeviceSize:B,openPopupWindow:g,popupRef:b,previewWindowType:r,setAppIsReady:w,setBreakpoint:H,setHeight:K,setIframeHasLoaded:P,setIsLivePreviewing:d,setMeasuredDeviceSize:z,setPreviewWindowType:Y,setSize:M,setToolbarPosition:I,setWidth:W,setZoom:L,size:A,toolbarPosition:F,url:h,zoom:O},children:(0,f.jsx)(x.LB,{collisionDetection:bt,onDragEnd:e=>{e.over&&"live-preview-area"===e.over.id&&I({x:F.x+e.delta.x,y:F.y+e.delta.y})},children:n})})},bo="progress-bar",br=()=>{let e=(0,h.c)(9),{isTransitioning:t,transitionProgress:n}=te(),[a,l]=s.useState(null),o=(0,s.useRef)(!0),r,i;if(e[0]!==t||e[1]!==n?(r=()=>{let e,a;return t?o.current?a=setTimeout(()=>{l(n),o.current=!1},150):l(n):(o.current=!0,l(1),e=setTimeout(()=>{l(null)},400)),()=>{clearTimeout(e),clearTimeout(a)}},i=[t,n],e[0]=t,e[1]=n,e[2]=r,e[3]=i):(r=e[2],i=e[3]),(0,s.useEffect)(r,i),"number"==typeof a){let t=1===a&&"".concat(bo,"--fade-out"),n;e[4]!==t?(n=[bo,t].filter(Boolean),e[4]=t,e[5]=n):n=e[5];let l=n.join(" "),o;return e[6]!==a||e[7]!==l?(o=(0,f.jsx)("div",{className:l,style:{"--transition-duration":"".concat(200,"ms")},children:(0,f.jsx)("div",{className:"".concat(bo,"__progress"),style:{width:"".concat(100*(a||0),"%")}})}),e[6]=a,e[7]=l,e[8]=o):o=e[8],o}return null},bi=(0,s.createContext)({}),bs=e=>{let t=(0,h.c)(6),{children:n,visibleEntities:a}=e,l;t[0]!==a?(l=e=>{let{collectionSlug:t,globalSlug:n}=e;return t?a.collections.includes(t):!!n&&a.globals.includes(n)},t[0]=a,t[1]=l):l=t[1];let o=l,r;return t[2]!==n||t[3]!==o||t[4]!==a?(r=(0,f.jsx)(bi,{value:{isEntityVisible:o,visibleEntities:a},children:n}),t[2]=n,t[3]=o,t[4]=a,t[5]=r):r=t[5],r},bc=()=>(0,s.use)(bi),bu=(0,s.createContext)({}),bd=e=>{let t=(0,h.c)(3),{children:n}=e,a=(0,g.useParams)(),l;return t[0]!==n||t[1]!==a?(l=(0,f.jsx)(bu,{value:a,children:n}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l},bp=()=>(0,s.use)(bu),bf=(0,s.createContext)({}),bh=()=>(0,s.useContext)(bf),bm=(e,t)=>{let{timestamp:n,animationRef:a}=t;a.current=null;let{x:l,y:o,xDirection:r,yDirection:i,eventsFired:s,hasScrolled:c}=e,u=c||!!n,d=u?window.pageXOffset:0,p=u?window.pageYOffset:0,f=d-l,h=p-o,m=d/(document.body.scrollWidth-window.innerWidth)*100,v=p/(document.body.scrollHeight-window.innerHeight)*100;return{x:d,y:p,xDifference:f,yDifference:h,xDirection:f>0?"right":f<0?"left":r,yDirection:h>0?"down":h<0?"up":i,xPercentage:m,yPercentage:v,totalPercentage:(m+v)/2,eventsFired:u?s+1:s,hasScrolled:u}},bv=e=>{let{children:t}=e,n=(0,s.useRef)(null),[a,l]=(0,s.useReducer)(bm,{x:0,y:0,xDifference:0,yDifference:0,xDirection:void 0,yDirection:void 0,xPercentage:0,yPercentage:0,totalPercentage:0,eventsFired:0,hasScrolled:!1}),o=(0,s.useCallback)(e=>{n.current&&cancelAnimationFrame(n.current),n.current=requestAnimationFrame(t=>{l({e:e,timestamp:t,animationRef:n})})},[]);return(0,s.useEffect)(()=>(window.addEventListener("scroll",o),()=>{window.removeEventListener("scroll",o)}),[o]),s.createElement(bf.Provider,{value:Object.assign({},a)},t&&t)},{WindowInfoProvider:bg}=tb&&"WindowInfoProvider"in tb?tb:{WindowInfoProvider:void 0},{useWindowInfo:bb}=tb&&"useWindowInfo"in tb?tb:{useWindowInfo:void 0},bx=(0,s.createContext)({searchParams:{},stringifyParams:()=>""}),by=e=>{let{children:t}=e,n=(0,g.useSearchParams)().toString(),a=s.useMemo(()=>P.Q(n,{depth:10,ignoreQueryPrefix:!0}),[n]),l=s.useCallback(e=>{let{params:t,replace:n=!1}=e;return w.P({...n?{}:a,...t},{addQueryPrefix:!0})},[a]);return(0,f.jsx)(bx,{value:{searchParams:a,stringifyParams:l},children:t})},bw=()=>(0,s.use)(bx),bj=()=>(0,f.jsx)(e8,{className:"payload-toast-container",closeButton:!0,dir:"undefined",gap:8,icons:{error:(0,f.jsx)(g1,{}),info:(0,f.jsx)(g3,{}),success:(0,f.jsx)(g2,{}),warning:(0,f.jsx)(g6,{})},offset:"calc(var(--gutter-h) / 2)",toastOptions:{classNames:{closeButton:"payload-toast-close-button",content:"toast-content",error:"toast-error",icon:"toast-icon",info:"toast-info",success:"toast-success",title:"toast-title",toast:"payload-toast-item",warning:"toast-warning"},unstyled:!0},visibleToasts:5}),bC=e=>{let t=(0,h.c)(16),{children:n,config:a,dateFNSKey:l,fallbackLang:o,isNavOpen:r,languageCode:i,languageOptions:c,locale:p,permissions:m,serverFunction:v,switchLanguageServerAction:g,theme:b,translations:y,user:w}=e,j=s.useId(),C;return t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==j||t[4]!==o||t[5]!==r||t[6]!==i||t[7]!==c||t[8]!==p||t[9]!==m||t[10]!==v||t[11]!==g||t[12]!==b||t[13]!==y||t[14]!==w?(C=(0,f.jsxs)(vn,{children:[(0,f.jsx)(cD,{serverFunction:v,children:(0,f.jsx)(e7,{children:(0,f.jsx)(pj,{cachingEnabled:"true"===ee.env.NEXT_PUBLIC_ENABLE_ROUTER_CACHE_REFRESH,children:(0,f.jsx)(u.a,{config:a,children:(0,f.jsx)(g8,{children:(0,f.jsx)(d.c,{dateFNSKey:l,fallbackLang:o,language:i,languageOptions:c,switchLanguageServerAction:g,translations:y,children:(0,f.jsx)(bg,{breakpoints:{l:"(max-width: 1440px)",m:"(max-width: 1024px)",s:"(max-width: 768px)",xs:"(max-width: 400px)"},children:(0,f.jsx)(bv,{children:(0,f.jsx)(by,{children:(0,f.jsx)(ac,{classPrefix:"payload",transTime:0,zIndex:"var(--z-modal)",children:(0,f.jsxs)(aE,{permissions:m,user:w,children:[(0,f.jsx)(aR,{children:(0,f.jsx)(u.g,{theme:b,children:(0,f.jsx)(bd,{children:(0,f.jsx)(aA,{locale:p,children:(0,f.jsx)(mi,{children:(0,f.jsx)(cU,{children:(0,f.jsx)(pd,{children:(0,f.jsx)(mt,{initialIsOpen:r,children:(0,f.jsx)(dv,{children:(0,f.jsx)(x.LB,{collisionDetection:x.j2,id:j,children:n})})})})})})})})})}),(0,f.jsx)(nX,{}),(0,f.jsx)(aC,{})]})})})})})})})})})})}),(0,f.jsx)(bj,{})]}),t[0]=n,t[1]=a,t[2]=l,t[3]=j,t[4]=o,t[5]=r,t[6]=i,t[7]=c,t[8]=p,t[9]=m,t[10]=v,t[11]=g,t[12]=b,t[13]=y,t[14]=w,t[15]=C):C=t[15],C};function bS(e){let{className:t,loginWithUsername:n,operation:a,permissions:l,readOnly:o,t:r}=e;function i(e,t){return(0,S.t)({field:{name:e,type:"text"},operation:"create"===a?"create":t,parentName:"",permissions:l}).operation}let s="object"==typeof l&&"email"in l&&l.email,c="object"==typeof l&&"username"in l&&l.username,u=s?{read:i("email","read"),update:i("email","update")}:{read:!0,update:!0},d=c?{read:i("username","read"),update:i("username","update")}:{read:!0,update:!0},p=(!n||(null==n?void 0:n.requireEmail)||(null==n?void 0:n.allowEmailLogin))&&u.read,h=!!n&&d.read;if(p||h)return(0,f.jsxs)("div",{className:["login-fields",t&&t].filter(Boolean).join(" "),children:[p?(0,f.jsx)(co,{field:{name:"email",admin:{autoComplete:"off"},label:r("general:email"),required:!n||n&&n.requireEmail},path:"email",readOnly:o||!u.update,schemaPath:"email",validate:W.Do}):null,h&&(0,f.jsx)(dz,{field:{name:"username",admin:{autoComplete:"off"},label:r("authentication:username"),required:n&&n.requireUsername},path:"username",readOnly:o||!d.update,schemaPath:"username",validate:W.b6})]})}var b_="select-all",bk=()=>{let e=(0,h.c)(7),{selectAll:t,toggleAll:n}=mj(),{i18n:a}=(0,d.d)(),l;if(e[0]!==a||e[1]!==t||e[2]!==n){let o,r;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=[b_,"".concat(b_,"__checkbox")],e[4]=o):o=e[4],e[5]!==n?(r=()=>n(),e[5]=n,e[6]=r):r=e[6],l=(0,f.jsx)(l4,{"aria-label":t===mx.None?a.t("general:selectAllRows"):a.t("general:deselectAllRows"),checked:t===mx.AllInPage||t===mx.AllAvailable,className:o.join(" "),id:"select-all",name:"select-all",onToggle:r,partialChecked:t===mx.Some}),e[0]=a,e[1]=t,e[2]=n,e[3]=l}else l=e[3];return l},bN="select-row",bE=e=>{let t,n,a,l=(0,h.c)(14),{rowData:o}=e,{user:r}=aD(),{selected:i,setSelection:s}=mj(),c;l[0]!==o?(c=o||{},l[0]=o,l[1]=c):c=l[1];let{_isLocked:u,_userEditing:d}=c;if(u&&d&&d.id!==(null==r?void 0:r.id)){let e;return l[2]!==d?(e=(0,f.jsx)(mz,{user:d}),l[2]=d,l[3]=e):e=l[3],e}l[4]!==o.id||l[5]!==i?(t=i.get(o.id),l[4]=o.id,l[5]=i,l[6]=t):t=l[6];let p=!!t,m;return l[7]===Symbol.for("react.memo_cache_sentinel")?(m=[bN,"".concat(bN,"__checkbox")],l[7]=m):m=l[7],l[8]!==o.id||l[9]!==s?(n=()=>s(o.id),l[8]=o.id,l[9]=s,l[10]=n):n=l[10],l[11]!==p||l[12]!==n?(a=(0,f.jsx)(l4,{checked:p,className:m.join(" "),onToggle:n}),l[11]=p,l[12]=n,l[13]=a):a=l[13],a},bD=e=>{let{onClick:t}=e,{count:n,selected:a}=mj();return a&&n?(0,f.jsx)(om,{onClick:()=>{"function"==typeof t&&t(a)},pillStyle:"white",size:"small",children:"Select ".concat(n)}):null},bP="collection-list";function bT(e){var t,n,a;let l;let o=(0,h.c)(16),{AfterList:r,AfterListTable:i,beforeActions:c,BeforeList:p,BeforeListTable:v,collectionSlug:b,columnState:x,Description:y,disableBulkDelete:w,disableBulkEdit:j,disableQueryPresets:C,enableRowSelections:S,hasCreatePermission:_,listMenuItems:k,newDocumentURL:N,queryPreset:E,queryPresetPermissions:P,renderedFilters:T,resolvedFilterOptions:R,Table:O}=e,[L,F]=(0,s.useState)(O),{allowCreate:I,createNewDrawerSlug:A,isInDrawer:M,onBulkSelect:B}=cw(),z=void 0!==I?I&&_:_,U,V;o[0]!==O?(U=()=>{O&&F(O)},V=[O],o[0]=O,o[1]=U,o[2]=V):(U=o[1],V=o[2]),(0,s.useEffect)(U,V);let{user:H}=aD(),{getEntityConfig:q}=(0,u.b)(),W=(0,g.useRouter)(),{data:K,defaultLimit:Y,handlePageChange:G,handlePerPageChange:$,query:X}=cS(),{openModal:Q}=nT(),{drawerSlug:Z,setCollectionSlug:J,setOnSuccess:ee}=fz(),et=q({collectionSlug:b}),{labels:en,upload:ea}=et,el=!!ea,eo=el&&et.upload.bulkUpload,{i18n:er}=(0,d.d)(),{setStepNav:ei}=mo(),{breakpoints:es}=bb(),{s:ec}=es,eu;if(el){let e;o[3]!==K.docs?(e=K.docs.map(bR),o[3]=K.docs,o[4]=e):e=o[4],eu=e}else eu=K.docs;let ed=eu,ep;o[5]!==Z||o[6]!==b||o[7]!==Q||o[8]!==W||o[9]!==J||o[10]!==ee?(ep=()=>{J(b),Q(Z),ee(()=>W.refresh())},o[5]=Z,o[6]=b,o[7]=Q,o[8]=W,o[9]=J,o[10]=ee,o[11]=ep):ep=o[11];let eh=ep;return(0,s.useEffect)(()=>{M||ei([{label:null==en?void 0:en.plural}])},[ei,en,M]),o[12]!==c||o[13]!==S||o[14]!==B?(l=S&&"function"==typeof B?c?[...c,(0,f.jsx)(bD,{onClick:B},"select-many")]:[(0,f.jsx)(bD,{onClick:B},"select-many")]:c,o[12]=c,o[13]=S,o[14]=B,o[15]=l):l=o[15],(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(cR,{collectionSlug:b,columnState:x,children:(0,f.jsx)("div",{className:"".concat(bP," ").concat(bP,"--").concat(b),children:(0,f.jsxs)(mw,{docs:ed,totalDocs:K.totalDocs,user:H,children:[p,(0,f.jsxs)(ad,{className:"".concat(bP,"__wrap"),children:[(0,f.jsx)(gf,{collectionConfig:et,Description:(0,f.jsx)("div",{className:"".concat(bP,"__sub-header"),children:(0,f.jsx)(ef,{CustomComponent:y,Fallback:(0,f.jsx)(hW,{collectionSlug:b,description:null==et?void 0:null===(t=et.admin)||void 0===t?void 0:t.description})})}),disableBulkDelete:w,disableBulkEdit:j,hasCreatePermission:z,i18n:er,isBulkUploadEnabled:eo&&!ea.hideFileInputOnCreate,newDocumentURL:N,openBulkUpload:eh,smallBreak:ec,viewType:"list"}),(0,f.jsx)(v5,{beforeActions:l,collectionConfig:et,collectionSlug:b,disableQueryPresets:(null==et?void 0:et.enableQueryPresets)!==!0||C,listMenuItems:k,queryPreset:E,queryPresetPermissions:P,renderedFilters:T,resolvedFilterOptions:R}),v,ed.length>0&&(0,f.jsx)(c4,{children:L}),0===ed.length&&(0,f.jsxs)("div",{className:"".concat(bP,"__no-results"),children:[(0,f.jsx)("p",{children:er.t("general:noResults",{label:(0,m.i)(null==en?void 0:en.plural,er)})}),z&&N&&(0,f.jsx)(s.Fragment,{children:M?(0,f.jsx)(tO,{el:"button",onClick:()=>Q(A),children:er.t("general:createNewLabel",{label:(0,m.i)(null==en?void 0:en.singular,er)})}):(0,f.jsx)(tO,{el:"link",to:N,children:er.t("general:createNewLabel",{label:(0,m.i)(null==en?void 0:en.singular,er)})})})]}),i,ed.length>0&&(0,f.jsxs)("div",{className:"".concat(bP,"__page-controls"),children:[(0,f.jsx)(uS,{hasNextPage:K.hasNextPage,hasPrevPage:K.hasPrevPage,limit:K.limit,nextPage:K.nextPage,numberOfNeighbors:1,onChange:e=>void G(e),page:K.page,prevPage:K.prevPage,totalPages:K.totalPages}),K.totalDocs>0&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)("div",{className:"".concat(bP,"__page-info"),children:[K.page*K.limit-(K.limit-1),"-",K.totalPages>1&&K.totalPages!==K.page?K.limit*K.page:K.totalDocs," ",er.t("general:of")," ",K.totalDocs]}),(0,f.jsx)(gy,{handleChange:e=>void $(e),limit:(0,D.h)(null==X?void 0:X.limit)?Number(X.limit):Y,limits:null==et?void 0:null===(a=et.admin)||void 0===a?void 0:null===(n=a.pagination)||void 0===n?void 0:n.limits,resetPage:K.totalDocs<=K.pagingCounter}),ec&&(0,f.jsxs)("div",{className:"".concat(bP,"__list-selection"),children:[(0,f.jsx)(gn,{collectionConfig:et,disableBulkDelete:w,disableBulkEdit:j,label:(0,m.i)(et.labels.plural,er)}),(0,f.jsx)("div",{className:"".concat(bP,"__list-selection-actions"),children:S&&"function"==typeof B?c?[...c,(0,f.jsx)(bD,{onClick:B},"select-many")]:[(0,f.jsx)(bD,{onClick:B},"select-many")]:c})]})]})]})]}),r]})})})})}function bR(e){return{...e,filesize:(0,q.D)(e.filesize)}}var bO="move-to-folder--current-folder",bL="confirm-many-delete";function bF(e){let{className:t}=e,n=(0,g.useRouter)(),{startRouteTransition:a}=te(),{breadcrumbs:l,currentFolder:o,folderCollectionConfig:r,folderCollectionSlug:i,folderFieldName:c,folderID:p,getFolderRoute:h,moveToFolder:v}=py(),[b,,{closeDrawer:x,openDrawer:y}]=c2({id:p,collectionSlug:i}),{clearRouteCache:w}=pC(),{config:j}=(0,u.b)(),{routes:C,serverURL:S}=j,{closeModal:_,openModal:k}=nT(),{i18n:N,t:E}=(0,d.d)(),D=s.useCallback(async()=>{await fetch("".concat(S).concat(C.api,"/").concat(i,"/").concat(p,"?depth=0"),{credentials:"include",method:"DELETE"}),a(()=>{var e;n.push(h((null===(e=l[l.length-2])||void 0===e?void 0:e.id)||null))})},[l,i,p,h,n,S,C.api,a]);return p?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tD,{button:(0,f.jsx)(vg,{}),className:["current-folder-actions",t].filter(Boolean).join(" "),render:()=>(0,f.jsxs)(tp.ButtonGroup,{children:[(0,f.jsx)(tp.Button,{onClick:()=>{y()},children:E("general:editLabel",{label:(0,m.i)(r.labels.singular,N)})}),(0,f.jsx)(tp.Button,{onClick:()=>{k(bO)},children:E("folder:moveFolder")}),(0,f.jsx)(tp.Button,{onClick:()=>{k(bL)},children:E("folder:deleteFolder")})]})}),(0,f.jsx)(pz,{action:"moveItemToFolder",drawerSlug:bO,folderCollectionSlug:i,folderFieldName:c,fromFolderID:null==o?void 0:o.value.id,fromFolderName:null==o?void 0:o.value._folderOrDocumentTitle,itemsToMove:[o],onConfirm:async e=>{let{id:t,name:n}=e;await v({itemsToMove:[o],toFolderID:t}),t?e3.success(E("folder:itemHasBeenMoved",{folderName:'"'.concat(n,'"'),title:o.value._folderOrDocumentTitle})):e3.success(E("folder:itemHasBeenMovedToRoot",{title:o.value._folderOrDocumentTitle})),_(bO)},title:o.value._folderOrDocumentTitle}),(0,f.jsx)(aw,{body:(0,f.jsx)(pO,{elements:{1:e=>{let{children:t}=e;return(0,f.jsx)("strong",{children:t})}},i18nKey:"general:aboutToDelete",t:E,variables:{label:(0,m.i)(r.labels.singular,N),title:o.value._folderOrDocumentTitle}}),confirmingLabel:E("general:deleting"),heading:E("general:confirmDeletion"),modalSlug:bL,onConfirm:D}),(0,f.jsx)(b,{onSave:()=>{x(),w()}})]}):null}var bI="drag-overlay-selection";function bA(e){let{allItems:t,lastSelected:n,selectedCount:a}=e,l=null==t?void 0:t[n||0];return a&&l?(0,f.jsx)(x.y9,{dropAnimation:null,modifiers:[bM],style:{height:"unset",maxWidth:"220px"},children:(0,f.jsxs)("div",{className:"".concat(bI,"__cards"),children:[Array.from({length:a>1?2:1}).map((e,t)=>(0,f.jsx)("div",{className:"".concat(bI,"__card"),style:{right:"".concat(3*t,"px"),top:"-".concat(3*t,"px")},children:(0,f.jsx)(gk,{id:null,isSelected:!0,itemKey:"overlay-card",title:l.value._folderOrDocumentTitle,type:"folder"})},t)),a>1?(0,f.jsx)("span",{className:"".concat(bI,"__card-count"),children:a}):null]})}):null}var bM=e=>{let{activatorEvent:t,draggingNodeRect:n,transform:a}=e;if(n&&t){let e=function(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=tq(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}(t);if(!e)return a;let l=e.x-n.left,o=e.y-n.top;return{...a,x:a.x+l+5,y:a.y+o+5}}return a},bB="sort-by-pill",bz=[{label:e=>e("general:name"),value:"_folderOrDocumentTitle"},{label:e=>e("general:createdAt"),value:"createdAt"},{label:e=>e("general:updatedAt"),value:"updatedAt"}],bU=[{label:e=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(hv,{}),e("general:ascending")]}),value:"asc"},{label:e=>(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(hm,{}),e("general:descending")]}),value:"desc"}];function bV(){let{refineFolderData:e,sort:t}=py(),{t:n}=(0,d.d)(),a=t.startsWith("-")?"desc":"asc",[l]=bz.filter(e=>{let{value:n}=e;return n===(t.startsWith("-")?t.slice(1):t)}),[o]=bU.filter(e=>{let{value:t}=e;return t===a});return(0,f.jsx)(tD,{button:(0,f.jsxs)(om,{className:"".concat(bB,"__trigger"),icon:(0,f.jsx)(ti,{}),size:"small",children:["asc"===a?(0,f.jsx)(hv,{className:"".concat(bB,"__sort-icon")}):(0,f.jsx)(hm,{className:"".concat(bB,"__sort-icon")}),l.label(n)]}),className:bB,horizontalAlign:"right",render:a=>{let{close:r}=a;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tp.GroupLabel,{label:"Sort by"}),(0,f.jsx)(tp.ButtonGroup,{children:bz.map(t=>{let{label:a,value:o}=t;return(0,f.jsx)(tp.Button,{active:l.value===o,onClick:()=>{e({query:{sort:o},updateURL:!0}),r()},children:a(n)},o)})}),(0,f.jsx)(tp.Divider,{}),(0,f.jsx)(tp.GroupLabel,{label:"Order"}),(0,f.jsx)(tp.ButtonGroup,{children:bU.map(a=>{let{label:l,value:i}=a;return(0,f.jsx)(tp.Button,{active:o.value===i,className:"".concat(bB,"__order-option"),onClick:()=>{"asc"===i&&e({query:{sort:"asc"===i?"-".concat(t):t},updateURL:!0}),r()},children:l(n)},i)})})]})},showScrollbar:!0,verticalAlign:"bottom"})}var bH="folder-view-toggle-button";function bq(e){let{activeView:t,setActiveView:n}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(tO,{buttonStyle:"pill",className:[bH,"grid"===t&&"".concat(bH,"--active")].filter(Boolean).join(" "),icon:(0,f.jsx)(gJ,{}),margin:!1,onClick:()=>{n("grid")}}),(0,f.jsx)(tO,{buttonStyle:"pill",className:[bH,"list"===t&&"".concat(bH,"--active")].filter(Boolean).join(" "),icon:(0,f.jsx)(g0,{}),margin:!1,onClick:()=>{n("list")}})]})}var bW="search-bar";function bK(e){let{Actions:t,className:n,filterKey:a,label:l,onSearchChange:o,searchQueryParam:r}=e;return(0,f.jsxs)("div",{className:[bW,n].filter(Boolean).join(" "),children:[(0,f.jsx)(ok,{}),(0,f.jsx)(vx,{handleChange:o,label:l,searchQueryParam:r},a||"search"),t&&t.length>0?(0,f.jsx)("div",{className:"".concat(bW,"__actions"),children:t}):null]})}var bY=e=>{let{id:t,folderCollectionSlug:n}=e,{clearRouteCache:a}=pC(),{t:l}=(0,d.d)(),[o,,{closeDrawer:r,openDrawer:i}]=c2({id:t,collectionSlug:n});return t?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(m_,{onClick:i,type:"button",children:l("general:edit")}),(0,f.jsx)(o,{onSave:()=>{r(),a()}})]}):null},bG="move-to-folder--list",b$=e=>{var t,n,a,l;let o=(0,h.c)(16),{disableBulkDelete:r,disableBulkEdit:i}=e,{clearSelections:c,currentFolder:p,folderCollectionSlug:m,folderFieldName:v,folderID:g,getSelectedItems:b,moveToFolder:x}=py(),{clearRouteCache:y}=pC(),{config:w}=(0,u.b)(),{t:j}=(0,d.d)(),{closeModal:C,openModal:S}=nT(),_,k;if(o[0]!==y||o[1]!==c||o[2]!==C||o[3]!==w||o[4]!==(null==p?void 0:null===(t=p.value)||void 0===t?void 0:t._folderOrDocumentTitle)||o[5]!==r||o[6]!==i||o[7]!==m||o[8]!==v||o[9]!==g||o[10]!==b||o[11]!==x||o[12]!==S||o[13]!==j){k=Symbol.for("react.early_return_sentinel");e:{let e=b(),t=e.reduce(bX,{}),n=e.length,o=1===Object.keys(t).length&&Object.keys(t)[0]!==m,u=o?w.collections.find(e=>e.slug===Object.keys(t)[0]):null;if(0===n){k=null;break e}let d=o&&(null===(a=t[Object.keys(t)[0]])||void 0===a?void 0:a.ids)||[];_=(0,f.jsx)(mS,{count:n,ListActions:[n>0&&(0,f.jsx)(m_,{onClick:()=>c(),children:j("general:clearAll")},"clear-all")].filter(Boolean),SelectionActions:[!i&&d.length&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(vd,{collection:u,count:n,ids:d,selectAll:!1}),(0,f.jsx)(v7,{collection:u,count:n,ids:d,selectAll:!1}),(0,f.jsx)(gt,{collection:u,count:n,ids:d,selectAll:!1})]},"bulk-actions"),1===n&&!o&&(0,f.jsx)(bY,{folderCollectionSlug:m,id:t[m].ids[0]},"edit-folder-action"),n>0?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(m_,{onClick:()=>{S(bG)},type:"button",children:j("general:move")}),(0,f.jsx)(pz,{action:"moveItemsToFolder",drawerSlug:bG,folderCollectionSlug:m,folderFieldName:v,fromFolderID:g,fromFolderName:null==p?void 0:null===(l=p.value)||void 0===l?void 0:l._folderOrDocumentTitle,itemsToMove:b(),onConfirm:async e=>{let{id:t,name:a}=e;await x({itemsToMove:b(),toFolderID:t}),t?e3.success(j("folder:itemsMovedToFolder",{folderName:'"'.concat(a,'"'),title:"".concat(n," ").concat(n>1?j("general:items"):j("general:item"))})):e3.success(j("folder:itemsMovedToRoot",{title:"".concat(n," ").concat(n>1?j("general:items"):j("general:item"))})),C(bG)}})]},bG):null,!r&&(0,f.jsx)(mE,{afterDelete:()=>{y(),c()},selections:t},"bulk-delete")].filter(Boolean)})}o[0]=y,o[1]=c,o[2]=C,o[3]=w,o[4]=null==p?void 0:null===(n=p.value)||void 0===n?void 0:n._folderOrDocumentTitle,o[5]=r,o[6]=i,o[7]=m,o[8]=v,o[9]=g,o[10]=b,o[11]=x,o[12]=S,o[13]=j,o[14]=_,o[15]=k}else _=o[14],k=o[15];return k!==Symbol.for("react.early_return_sentinel")?k:_};function bX(e,t){return t&&(e[t.relationTo]?(e[t.relationTo].ids.push((0,V.w)(t.value)),e[t.relationTo].totalCount=e[t.relationTo].totalCount+1):e[t.relationTo]={ids:[(0,V.w)(t.value)],totalCount:1}),e}var bQ="collection-folder-list";function bZ(e){let{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:n,baseFolderPath:a,breadcrumbs:l,documents:o,folderFieldName:r,folderID:i,FolderResultsComponent:s,search:c,sort:u,subfolders:d,...p}=e;return(0,f.jsx)(px,{allCollectionFolderSlugs:t,allowCreateCollectionSlugs:n,baseFolderPath:a,breadcrumbs:l,documents:o,folderFieldName:r,folderID:i,FolderResultsComponent:s,search:c,sort:u,subfolders:d,children:(0,f.jsx)(bJ,{...p})})}function bJ(e){var t,n,a;let l=(0,h.c)(17),{AfterFolderList:o,AfterFolderListTable:r,BeforeFolderList:i,BeforeFolderListTable:c,collectionSlug:p,Description:v,disableBulkDelete:b,disableBulkEdit:x,search:w,viewPreference:j}=e,{config:C,getEntityConfig:S}=(0,u.b)(),{i18n:_,t:k}=(0,d.d)(),N=nd(),{setStepNav:E}=mo(),{setPreference:D}=aO(),{allowCreateCollectionSlugs:P,breadcrumbs:T,documents:R,folderCollectionConfig:O,folderCollectionSlug:L,FolderResultsComponent:F,getSelectedItems:I,lastSelectedIndex:A,moveToFolder:M,refineFolderData:B,selectedItemKeys:z,setIsDragging:U,subfolders:V}=py(),H=(0,g.useRouter)(),{startRouteTransition:q}=te(),{clearRouteCache:W}=pC(),K=S({collectionSlug:p}),{labels:Y,upload:G}=K,$=!!G&&K.upload.bulkUpload,{breakpoints:X}=bb(),{s:Q}=X,Z;l[0]!==W||l[1]!==I||l[2]!==M?(Z=async e=>{if(e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current){try{await M({itemsToMove:I(),toFolderID:e.over.data.current.id})}catch(e){console.error("Error moving items:",e)}W()}},l[0]=W,l[1]=I,l[2]=M,l[3]=Z):Z=l[3];let J=Z,ee=async e=>{await D("".concat(p,"-collection-folder"),{viewPreference:e}),W()},et=null==Y?void 0:Y.plural,en;l[4]!==T||l[5]!==p||l[6]!==C.folders||l[7]!==C.routes.admin||l[8]!==N||l[9]!==_||l[10]!==H||l[11]!==E||l[12]!==q||l[13]!==et?(en=[T,p,C.folders,C.routes.admin,N,_,et,H,E,q],l[4]=T,l[5]=p,l[6]=C.folders,l[7]=C.routes.admin,l[8]=N,l[9]=_,l[10]=H,l[11]=E,l[12]=q,l[13]=et,l[14]=en):en=l[14],s.useEffect(()=>{N||E([T.length?{label:(0,f.jsxs)(pI,{className:["".concat(bQ,"__step-nav-droppable"),"".concat(bQ,"__step-nav-icon-label")].filter(Boolean).join(" "),id:null,onClick:()=>{q(()=>{C.folders&&H.push((0,y.$)({adminRoute:C.routes.admin,path:"/collections/".concat(p,"/").concat(C.folders.slug)}))})},children:[(0,f.jsx)(pA,{}),(0,m.i)(null==Y?void 0:Y.plural,_)]},"root")}:{label:(0,f.jsxs)("div",{className:"".concat(bQ,"__step-nav-icon-label"),children:[(0,f.jsx)(pA,{}),(0,m.i)(null==Y?void 0:Y.plural,_)]},"root")},...T.map((e,t)=>({label:t===T.length-1?e.name:(0,f.jsx)(pI,{className:"".concat(bQ,"__step-nav-droppable"),id:e.id,onClick:()=>{q(()=>{C.folders&&H.push((0,y.$)({adminRoute:C.routes.admin,path:"/collections/".concat(p,"/").concat(C.folders.slug,"/").concat(e.id)}))})},children:e.name},e.id)}))])},en);let ea=R.length+V.length,el;return l[15]!==B?(el=e=>B({query:{search:e},updateURL:!0}),l[15]=B,l[16]=el):el=l[16],(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(b0,{onDragEnd:J,setIsDragging:U}),(0,f.jsxs)("div",{className:"".concat(bQ," ").concat(bQ,"--").concat(p),children:[i,(0,f.jsxs)(ad,{className:"".concat(bQ,"__wrap"),children:[(0,f.jsx)(gi,{Actions:[!Q&&(0,f.jsx)(b$,{disableBulkDelete:b,disableBulkEdit:null!==(a=K.disableBulkEdit)&&void 0!==a?a:x},"list-selection"),C.folders&&K.folders&&(0,f.jsx)(go,{collectionConfig:K,folderCollectionSlug:L,viewType:"folders"},"list-header-buttons")].filter(Boolean),AfterListHeaderContent:v,title:(0,m.i)(null==Y?void 0:Y.plural,_),TitleActions:[P.length&&(0,f.jsx)(pD,{buttonLabel:k("general:createNew"),collectionSlugs:P,onCreateSuccess:W,slugPrefix:"create-document--header-pill"},"create-new-button"),(0,f.jsx)(gu,{collectionSlug:p,hasCreatePermission:P.includes(p),isBulkUploadEnabled:$},"bulk-upload-button")].filter(Boolean)}),(0,f.jsx)(bK,{Actions:[(0,f.jsx)(bV,{},"sort-by-pill"),(0,f.jsx)(bq,{activeView:j,setActiveView:ee},"toggle-view-buttons"),(0,f.jsx)(bF,{},"current-folder-actions")].filter(Boolean),label:k("general:searchBy",{label:k("general:name")}),onSearchChange:el,searchQueryParam:w}),c,ea>0&&F,0===ea&&(0,f.jsx)(pT,{Actions:[P.includes(L)&&(0,f.jsx)(pD,{buttonLabel:"".concat(k("general:create")," ").concat((0,m.i)(null===(t=O.labels)||void 0===t?void 0:t.singular,_).toLowerCase()),collectionSlugs:[O.slug],onCreateSuccess:W,slugPrefix:"create-folder--no-results"},"create-folder"),P.includes(p)&&(0,f.jsx)(pD,{buttonLabel:"".concat(k("general:create")," ").concat(k("general:document").toLowerCase()),collectionSlugs:[p],onCreateSuccess:W,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,f.jsx)("p",{children:_.t("general:noResults",{label:"".concat((0,m.i)(null==Y?void 0:Y.plural,_)," ").concat(k("general:or").toLowerCase()," ").concat((0,m.i)(null===(n=O.labels)||void 0===n?void 0:n.plural,_))})})}),r]}),o]}),(0,f.jsx)(bA,{allItems:[...V,...R],lastSelected:A,selectedCount:z.size})]})}function b0(e){let t=(0,h.c)(3),{onDragEnd:n,setIsDragging:a}=e,l;return t[0]!==n||t[1]!==a?(l={onDragCancel(){a(!1)},onDragEnd(e){a(!1),n(e)},onDragStart(){a(!0)}},t[0]=n,t[1]=a,t[2]=l):l=t[2],(0,x.IJ)(l),null}var b1="checkbox-popup";function b3(e){let{Button:t,className:n,onChange:a,options:l,selectedValues:o,...r}=e;return(0,f.jsx)(tD,{button:t,className:[b1,n].filter(Boolean).join(" "),horizontalAlign:"right",render:e=>{let{close:t}=e;return(0,f.jsx)("div",{className:"".concat(b1,"__options"),children:l.map(e=>{let{label:n,value:l}=e;return(0,f.jsx)(l4,{checked:null==o?void 0:o.includes(l),label:n,onToggle:()=>{a({close:t,selectedValues:(null==o?void 0:o.includes(l))?o.filter(e=>e!==l):[...o,l]})}},l)})})},showScrollbar:!0,verticalAlign:"bottom",...r})}function b2(){let e=(0,h.c)(13),{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,folderCollectionSlug:a,refineFolderData:l}=py(),{i18n:o,t:r}=(0,d.d)(),{config:i,getEntityConfig:c}=(0,u.b)(),p;e[0]!==i||e[1]!==a||e[2]!==n||e[3]!==c||e[4]!==o?(p=()=>{var e;return i.collections.reduce((e,t)=>{var a;return t.folders&&n.includes(t.slug)&&e.push({label:(0,m.i)(null===(a=t.labels)||void 0===a?void 0:a.plural,o),value:t.slug}),e},[{label:(0,m.i)(null===(e=c({collectionSlug:a}).labels)||void 0===e?void 0:e.plural,o),value:a}])},e[0]=i,e[1]=a,e[2]=n,e[3]=c,e[4]=o,e[5]=p):p=e[5];let[v]=s.useState(p),g;if(e[6]!==v||e[7]!==l||e[8]!==r||e[9]!==t){let n;e[11]!==l?(n=e=>{let{selectedValues:t}=e;l({query:{relationTo:t},updateURL:!0})},e[11]=l,e[12]=n):n=e[12],g=(0,f.jsx)(b3,{Button:(0,f.jsxs)(tO,{buttonStyle:"pill",el:"div",icon:"chevron",margin:!1,size:"small",children:[t.length?(0,f.jsx)("span",{className:"".concat("collection-type","__count"),children:t.length}):null,r("version:type")]}),onChange:n,options:v,selectedValues:t},"relation-to-selection-popup"),e[6]=v,e[7]=l,e[8]=r,e[9]=t,e[10]=g}else g=e[10];return g}var b6="folder-list";function b5(e){let{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,allowCreateCollectionSlugs:a,baseFolderPath:l,breadcrumbs:o,documents:r,folderFieldName:i,folderID:s,FolderResultsComponent:c,search:u,subfolders:d,...p}=e;return(0,f.jsx)(px,{activeCollectionFolderSlugs:t,allCollectionFolderSlugs:n,allowCreateCollectionSlugs:a,baseFolderPath:l,breadcrumbs:o,documents:r,folderFieldName:i,folderID:s,FolderResultsComponent:c,search:u,subfolders:d,children:(0,f.jsx)(b4,{...p})})}function b4(e){var t;let n;let a=(0,h.c)(27),{AfterFolderList:l,AfterFolderListTable:o,BeforeFolderList:r,BeforeFolderListTable:i,Description:c,disableBulkDelete:p,disableBulkEdit:v,viewPreference:b}=e,x=(0,g.useRouter)(),{getEntityConfig:y}=(0,u.b)(),{i18n:w,t:j}=(0,d.d)(),C=nd(),{setStepNav:S}=mo(),{startRouteTransition:_}=te(),{clearRouteCache:k}=pC(),{breakpoints:N}=bb(),{s:E}=N,{setPreference:D}=aO(),{activeCollectionFolderSlugs:P,allowCreateCollectionSlugs:T,breadcrumbs:R,documents:O,folderCollectionConfig:L,folderID:F,getFolderRoute:I,getSelectedItems:A,lastSelectedIndex:M,moveToFolder:B,refineFolderData:z,search:U,selectedItemKeys:V,setIsDragging:H,subfolders:q}=py(),[W,K]=s.useState(b||"grid"),Y;a[0]!==R||a[1]!==L||a[2]!==w||a[3]!==j?(Y=()=>{var e;return j("folder:searchByNameInFolder",{folderName:0===R.length?(0,m.i)(null===(e=L.labels)||void 0===e?void 0:e.plural,w):R[R.length-1].name})},a[0]=R,a[1]=L,a[2]=w,a[3]=j,a[4]=Y):Y=a[4];let[G]=s.useState(Y),$;a[5]!==k||a[6]!==A||a[7]!==B?($=async e=>{e.over&&"folder"===e.over.data.current.type&&"id"in e.over.data.current&&(await B({itemsToMove:A(),toFolderID:e.over.data.current.id||null}),k())},a[5]=k,a[6]=A,a[7]=B,a[8]=$):$=a[8];let X=$,Q=O.length+q.length,Z;a[9]!==R||a[10]!==j?(Z=R.length?R[R.length-1].name:j("folder:browseByFolder"),a[9]=R,a[10]=j,a[11]=Z):Z=a[11];let J=Z,ee;a[12]!==y||a[13]!==w||a[14]!==j?(ee=(e,t,n,a)=>{var l,o,r;let i=y({collectionSlug:t});return 0===n?(0,m.i)(null===(l=i.labels)||void 0===l?void 0:l.plural,w):n===a.length-1?"".concat(e," ").concat(j("general:or").toLowerCase()," ").concat((0,m.i)(null===(o=i.labels)||void 0===o?void 0:o.plural,w)):"".concat(e,", ").concat((0,m.i)(null===(r=i.labels)||void 0===r?void 0:r.plural,w))},a[12]=y,a[13]=w,a[14]=j,a[15]=ee):ee=a[15];let et=P.reduce(ee,""),en,ea;return a[16]!==R||a[17]!==C||a[18]!==I||a[19]!==x||a[20]!==S||a[21]!==_||a[22]!==j?(en=()=>{C||S([R.length?{label:(0,f.jsxs)(pI,{className:["".concat(b6,"__step-nav-droppable"),"".concat(b6,"__step-nav-icon-label")].filter(Boolean).join(" "),id:null,onClick:()=>{_(()=>{x.push(I(null))})},children:[(0,f.jsx)(pA,{}),j("folder:browseByFolder")]},"root")}:{label:(0,f.jsxs)("div",{className:"".concat(b6,"__step-nav-icon-label"),children:[(0,f.jsx)(pA,{}),j("folder:browseByFolder")]},"root")},...R.map((e,t)=>({label:t===R.length-1?e.name:(0,f.jsx)(pI,{className:"".concat(b6,"__step-nav-droppable"),id:e.id,onClick:()=>{_(()=>{x.push(I(e.id))})},children:e.name},e.id)}))])},ea=[R,C,I,x,S,_,j],a[16]=R,a[17]=C,a[18]=I,a[19]=x,a[20]=S,a[21]=_,a[22]=j,a[23]=en,a[24]=ea):(en=a[23],ea=a[24]),s.useEffect(en,ea),a[25]!==z?(n=e=>z({query:{search:e},updateURL:!0}),a[25]=z,a[26]=n):n=a[26],(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(b8,{onDragEnd:X,setIsDragging:H}),(0,f.jsxs)("div",{className:"".concat(b6," ").concat(b6,"--folders"),children:[r,(0,f.jsxs)(ad,{className:"".concat(b6,"__wrap"),children:[(0,f.jsx)(gi,{Actions:[!E&&(0,f.jsx)(b$,{disableBulkDelete:p,disableBulkEdit:v},"list-selection")].filter(Boolean),AfterListHeaderContent:c,title:J,TitleActions:[T.length&&(0,f.jsx)(pD,{buttonLabel:j("general:createNew"),collectionSlugs:T,onCreateSuccess:k,slugPrefix:"create-document--header-pill"},"create-new-button")].filter(Boolean)}),(0,f.jsx)(bK,{Actions:[(0,f.jsx)(bV,{},"sort-by-pill"),F&&(0,f.jsx)(b2,{},"collection-type"),(0,f.jsx)(bq,{activeView:W,setActiveView:e=>{D("browse-by-folder",{viewPreference:e}),K(e)}},"toggle-view-buttons"),(0,f.jsx)(bF,{},"current-folder-actions")].filter(Boolean),label:G,onSearchChange:n,searchQueryParam:U}),i,Q>0&&(0,f.jsx)(f.Fragment,{children:"grid"===W?(0,f.jsxs)("div",{children:[q.length?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(gD,{items:q,title:"Folders",type:"folder"})}):null,O.length?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(gD,{items:O,subfolderCount:q.length,title:"Documents",type:"file"})}):null]}):(0,f.jsx)(gU,{})}),0===Q&&(0,f.jsx)(pT,{Actions:[T.includes(L.slug)&&(0,f.jsx)(pD,{buttonLabel:"".concat(j("general:create")," ").concat((0,m.i)(null===(t=L.labels)||void 0===t?void 0:t.singular,w).toLowerCase()),collectionSlugs:[L.slug],onCreateSuccess:k,slugPrefix:"create-folder--no-results"},"create-folder"),F&&T.filter(e=>e!==L.slug).length>0&&(0,f.jsx)(pD,{buttonLabel:"".concat(j("general:create")," ").concat(j("general:document").toLowerCase()),collectionSlugs:T.filter(e=>e!==L.slug),onCreateSuccess:k,slugPrefix:"create-document--no-results"},"create-document")].filter(Boolean),Message:(0,f.jsx)("p",{children:w.t("general:noResults",{label:et})})}),o]}),l]}),(0,f.jsx)(bA,{allItems:[...q,...O],lastSelected:M,selectedCount:V.size})]})}function b8(e){let t=(0,h.c)(3),{onDragEnd:n,setIsDragging:a}=e,l;return t[0]!==n||t[1]!==a?(l={onDragCancel(){a(!1)},onDragEnd(e){a(!1),n(e)},onDragStart(){a(!0)}},t[0]=n,t[1]=a,t[2]=l):l=t[2],(0,x.IJ)(l),null}var b7=e=>{let t=(0,h.c)(10),{drawerSlug:n,showDocumentID:a}=e,l=void 0===a||a,{closeModal:o}=nT(),{t:r}=(0,d.d)(),i;if(t[0]!==o||t[1]!==n||t[2]!==l||t[3]!==r){let e,a;t[5]!==o||t[6]!==n?(e=()=>o(n),t[5]=o,t[6]=n,t[7]=e):e=t[7],t[8]!==l?(a=l&&(0,f.jsx)(b9,{}),t[8]=l,t[9]=a):a=t[9],i=(0,f.jsxs)(ad,{className:"".concat(cJ,"__header"),children:[(0,f.jsxs)("div",{className:"".concat(cJ,"__header-content"),children:[(0,f.jsx)("h2",{className:"".concat(cJ,"__header-text"),children:(0,f.jsx)(gK,{element:"span"})}),(0,f.jsx)("button",{"aria-label":r("general:close"),className:"".concat(cJ,"__header-close"),onClick:e,type:"button",children:(0,f.jsx)(d.a,{})})]}),a]}),t[0]=o,t[1]=n,t[2]=l,t[3]=r,t[4]=i}else i=t[4];return i},b9=()=>{let e=(0,h.c)(3),{id:t}=lV(),{title:n}=lO(),a;return e[0]!==t||e[1]!==n?(a=t&&t!==n?(0,f.jsx)(gq,{id:t.toString()}):null,e[0]=t,e[1]=n,e[2]=a):a=e[2],a},xe=e=>{let{children:t}=e,n=s.useRef(null),a=s.useRef(null),{breakpoint:l,setMeasuredDeviceSize:o,size:r,zoom:i}=mP(),{size:c}=hf(n.current),{size:u}=hf(a.current);(0,s.useEffect)(()=>{c&&o(c)},[c,o]);let d="0",p="0";if(l&&"responsive"!==l&&(d="-50%",r&&c&&"number"==typeof i&&"number"==typeof r.width&&"number"==typeof r.height&&"number"==typeof c.width&&"number"==typeof c.height)){p="0 auto";let e=r.width/i,t=c.width*i,n=e-r.width;if(t>u.width){if(i>1){let e=c.width-u.width;d=e<0?"".concat(e/2,"px"):"0"}else d="0"}else i>=1?d="".concat(n/2,"px"):(d="".concat((u.width-t)/2,"px"),p="0")}let h=i?"".concat(100/i,"%"):"100%",m=i?"".concat(100/i,"%"):"100%";return"responsive"!==l&&(h="".concat((null==r?void 0:r.width)/("number"==typeof i?i:1),"px"),m="".concat((null==r?void 0:r.height)/("number"==typeof i?i:1),"px")),(0,f.jsx)("div",{ref:a,style:{height:"100%",width:"100%"},children:(0,f.jsx)("div",{ref:n,style:{height:m,margin:p,transform:"translate3d(".concat(d,", 0, 0)"),width:h},children:t})})},xt=e=>{let{ref:t,setIframeHasLoaded:n,url:a}=e,{zoom:l}=mP();return(0,f.jsx)("iframe",{className:"live-preview-iframe",onLoad:()=>{n(!0)},ref:t,src:a,style:{transform:"number"==typeof l?"scale(".concat(l,") "):void 0},title:a})},xn=e=>{let t=(0,h.c)(18),{axis:n}=e,{breakpoint:a,measuredDeviceSize:l,setBreakpoint:o,setSize:r,size:i,zoom:c}=mP(),[u,d]=s.useState(("x"===n?null==l?void 0:l.width:null==l?void 0:l.height)||0),p;t[0]!==n||t[1]!==(null==l?void 0:l.height)||t[2]!==(null==l?void 0:l.width)||t[3]!==o||t[4]!==r||t[5]!==c?(p=e=>{let t=Number(e.target.value);t<0&&(t=0),d(t),o("custom"),r({type:"reset",value:{height:"y"===n?t:Number(null==l?void 0:l.height.toFixed(0))*c,width:"x"===n?t:Number(null==l?void 0:l.width.toFixed(0))*c}})},t[0]=n,t[1]=null==l?void 0:l.height,t[2]=null==l?void 0:l.width,t[3]=o,t[4]=r,t[5]=c,t[6]=p):p=t[6];let m=p,v,g;t[7]!==n||t[8]!==a||t[9]!==l||t[10]!==i||t[11]!==c?(v=()=>{"responsive"===a&&l&&d("x"===n?Number(l.width.toFixed(0))*c:Number(l.height.toFixed(0))*c),"responsive"!==a&&i&&d("x"===n?i.width:i.height)},g=[a,n,l,i,c],t[7]=n,t[8]=a,t[9]=l,t[10]=i,t[11]=c,t[12]=v,t[13]=g):(v=t[12],g=t[13]),(0,s.useEffect)(v,g);let b="x"===n?"live-preview-width":"live-preview-height",x=u||0,y;return t[14]!==m||t[15]!==b||t[16]!==x?(y=(0,f.jsx)("input",{className:"toolbar-input",min:0,name:b,onChange:m,step:1,type:"number",value:x}),t[14]=m,t[15]=b,t[16]=x,t[17]=y):y=t[17],y},xa="live-preview-toolbar-controls",xl=[50,75,100,125,150,200],xo=()=>{let e=(0,h.c)(14),{breakpoint:t,breakpoints:n,setBreakpoint:a,setPreviewWindowType:l,setZoom:o,url:r,zoom:i}=mP(),{t:c}=(0,d.d)(),u;if(e[0]!==t||e[1]!==n||e[2]!==a||e[3]!==l||e[4]!==o||e[5]!==c||e[6]!==r||e[7]!==i){var p,m;let h;let v={label:c("general:custom"),value:"custom"},g;e[9]!==o||e[10]!==i?(g=e=>{let{close:t}=e;return(0,f.jsx)(tp.ButtonGroup,{children:(0,f.jsx)(s.Fragment,{children:xl.map(e=>(0,f.jsxs)(tp.Button,{active:100*i==e,onClick:()=>{o(e/100),t()},children:[e,"%"]},e))})})},e[9]=o,e[10]=i,e[11]=g):g=e[11],e[12]!==l?(h=e=>{e.preventDefault(),l("popup")},e[12]=l,e[13]=h):h=e[13],u=(0,f.jsxs)("div",{className:xa,children:[(null==n?void 0:n.length)>0&&(0,f.jsx)(tD,{button:(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)("span",{children:null!==(m=null===(p=n.find(e=>e.name==t))||void 0===p?void 0:p.label)&&void 0!==m?m:v.label}),(0,f.jsx)(ti,{className:"".concat(xa,"__chevron")})]}),className:"".concat(xa,"__breakpoint"),horizontalAlign:"right",render:e=>{let{close:l}=e;return(0,f.jsx)(tp.ButtonGroup,{children:(0,f.jsxs)(s.Fragment,{children:[n.map(e=>(0,f.jsx)(tp.Button,{active:e.name==t,onClick:()=>{a(e.name),l()},children:e.label},e.name)),"custom"===t&&(0,f.jsx)(tp.Button,{active:t==v.value,onClick:()=>{a(v.value),l()},children:v.label})]})})},showScrollbar:!0,verticalAlign:"bottom"}),(0,f.jsxs)("div",{className:"".concat(xa,"__device-size"),children:[(0,f.jsx)(xn,{axis:"x"}),(0,f.jsx)("span",{className:"".concat(xa,"__size-divider"),children:(0,f.jsx)(d.a,{})}),(0,f.jsx)(xn,{axis:"y"})]}),(0,f.jsx)(tD,{button:(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)("span",{children:[100*i,"%"]}),(0,f.jsx)(ti,{className:"".concat(xa,"__chevron")})]}),className:"".concat(xa,"__zoom"),horizontalAlign:"right",render:g,showScrollbar:!0,verticalAlign:"bottom"}),(0,f.jsx)("a",{className:"".concat(xa,"__external"),href:r,onClick:h,target:"_blank",title:"Open in new window",type:"button",children:(0,f.jsx)(mU,{})})]}),e[0]=t,e[1]=n,e[2]=a,e[3]=l,e[4]=o,e[5]=c,e[6]=r,e[7]=i,e[8]=u}else u=e[8];return u},xr="live-preview-toolbar",xi=e=>{let t=(0,h.c)(10),{toolbarPosition:n}=mP(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={id:"live-preview-toolbar"},t[0]=a):a=t[0];let{attributes:l,listeners:o,setNodeRef:r,transform:i}=(0,x.O1)(a),s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=[xr,"".concat(xr,"--draggable")],t[1]=s):s=t[1];let c="".concat(n.x,"px"),u="".concat(n.y,"px"),d;return t[2]!==l||t[3]!==o||t[4]!==e||t[5]!==r||t[6]!==c||t[7]!==u||t[8]!==i?(d=(0,f.jsxs)("div",{className:s.join(" "),style:{left:c,top:u,...i?{transform:i?"translate3d(".concat((null==i?void 0:i.x)||0,"px, ").concat((null==i?void 0:i.y)||0,"px, 0)"):void 0}:{}},children:[(0,f.jsx)("button",{...o,...l,className:"".concat(xr,"__drag-handle"),ref:r,type:"button",children:(0,f.jsx)(oa,{})}),(0,f.jsx)(xo,{...e})]}),t[2]=l,t[3]=o,t[4]=e,t[5]=r,t[6]=c,t[7]=u,t[8]=i,t[9]=d):d=t[9],d},xs=e=>(0,f.jsx)("div",{className:[xr,"".concat(xr,"--static")].join(" "),children:(0,f.jsx)(xo,{...e})}),xc=e=>{let{draggable:t}=e;return t?(0,f.jsx)(xi,{...e}):(0,f.jsx)(xs,{...e})},xu="live-preview-window",xd=e=>{let t,n,a,l=(0,h.c)(46),{appIsReady:o,breakpoint:r,fieldSchemaJSON:i,iframeHasLoaded:c,iframeRef:d,isLivePreviewing:p,popupRef:m,previewWindowType:v,setIframeHasLoaded:g,url:b}=mP(),x=aB(),{mostRecentUpdate:y}=pp(),w=s.useRef(void 0),[j]=eB(),C;if(l[0]!==o||l[1]!==i||l[2]!==j||l[3]!==d||l[4]!==p||l[5]!==x||l[6]!==y||l[7]!==m||l[8]!==v||l[9]!==b?(C=()=>{if(p&&j&&window&&"postMessage"in window&&o){var e;let t=(0,A.Q)(j,!0),n=!w.current||w.current!==v;w.current=v;let a={type:"payload-live-preview",data:t,externallyUpdatedRelationship:y,fieldSchemaJSON:n?i:void 0,locale:x.code};"popup"===v&&m.current&&m.current.postMessage(a,b),"iframe"===v&&d.current&&(null===(e=d.current.contentWindow)||void 0===e||e.postMessage(a,b))}},l[0]=o,l[1]=i,l[2]=j,l[3]=d,l[4]=p,l[5]=x,l[6]=y,l[7]=m,l[8]=v,l[9]=b,l[10]=C):C=l[10],l[11]!==o||l[12]!==i||l[13]!==j||l[14]!==c||l[15]!==d||l[16]!==p||l[17]!==x||l[18]!==y||l[19]!==m||l[20]!==v||l[21]!==g||l[22]!==b?(t=[j,b,c,v,m,o,d,g,i,y,x,p],l[11]=o,l[12]=i,l[13]=j,l[14]=c,l[15]=d,l[16]=p,l[17]=x,l[18]=y,l[19]=m,l[20]=v,l[21]=g,l[22]=b,l[23]=t):t=l[23],(0,s.useEffect)(C,t),l[24]!==d||l[25]!==p||l[26]!==m||l[27]!==v||l[28]!==b?(n=()=>{var e;if(!p)return;let t={type:"payload-document-event"};"popup"===v&&m.current&&m.current.postMessage(t,b),"iframe"===v&&d.current&&(null===(e=d.current.contentWindow)||void 0===e||e.postMessage(t,b))},l[24]=d,l[25]=p,l[26]=m,l[27]=v,l[28]=b,l[29]=n):n=l[29],l[30]!==d||l[31]!==p||l[32]!==y||l[33]!==m||l[34]!==v||l[35]!==b?(a=[y,d,m,v,b,p],l[30]=d,l[31]=p,l[32]=y,l[33]=m,l[34]=v,l[35]=b,l[36]=a):a=l[36],(0,s.useEffect)(n,a),"iframe"===v){let t=p&&"".concat(xu,"--is-live-previewing"),n=r&&"responsive"!==r&&"".concat(xu,"--has-breakpoint"),a;l[37]!==t||l[38]!==n?(a=[xu,t,n].filter(Boolean),l[37]=t,l[38]=n,l[39]=a):a=l[39];let o=a.join(" "),i;return l[40]!==d||l[41]!==e||l[42]!==g||l[43]!==o||l[44]!==b?(i=(0,f.jsx)("div",{className:o,children:(0,f.jsxs)("div",{className:"".concat(xu,"__wrapper"),children:[(0,f.jsx)(xc,{...e}),(0,f.jsx)("div",{className:"".concat(xu,"__main"),children:(0,f.jsx)(xe,{children:b?(0,f.jsx)(xt,{ref:d,setIframeHasLoaded:g,url:b}):(0,f.jsx)(u.d,{height:"100%"})})})]})}),l[40]=d,l[41]=e,l[42]=g,l[43]=o,l[44]=b,l[45]=i):i=l[45],i}},xp=e=>{let{adminRoute:t,router:n}=e,a=(0,y.$)({adminRoute:t,path:"/"});n.push(a)},xf=e=>{let{adminRoute:t,collectionSlug:n,router:a}=e,l=(0,y.$)({adminRoute:t,path:n?"/collections/".concat(n):"/"});a.push(l)},xh=(e,t,n,a,l,o,r,i,s,c)=>{if(s)try{var u;o(e,null!=t?t:n,a),l||(i.current.hasShownLockedModal=!0),i.current={hasShownLockedModal:null===(u=i.current)||void 0===u?void 0:u.hasShownLockedModal,isLocked:!0,user:a},r(a),l&&c&&c(!1)}catch(e){console.error("Error during document takeover:",e)}},xm="api-key",xv=e=>{var t,n;let{enabled:a,readOnly:l}=e,[o]=(0,s.useState)(oS()),[r,i]=(0,s.useState)(!1),[c,p]=(0,s.useState)(!1),{i18n:h,t:v}=(0,d.d)(),{config:g,getEntityConfig:b}=(0,u.b)(),{collectionSlug:x}=lV(),y=eM(e=>{let[t]=e;return t&&t.apiKey||null}),w=null===(n=b({collectionSlug:x}))||void 0===n?void 0:null===(t=n.fields)||void 0===t?void 0:t.find(e=>"name"in e&&"apiKey"===e.name),j=null==y?void 0:y.value,C=(0,s.useMemo)(()=>{let e="API Key";return(null==w?void 0:w.label)&&(e=w.label),(0,m.i)(e,h)},[w,h]),S=(0,s.useMemo)(()=>(0,f.jsxs)("label",{className:"".concat(xm,"__label field-label"),htmlFor:"apiKey",children:[(0,f.jsx)("span",{children:C}),(0,f.jsx)(fr,{value:j})]}),[C,j]),{setValue:_,value:k}=lX({path:"apiKey",validate:e=>(0,W.fL)(e,{name:"apiKey",type:"text",blockData:{},data:{},event:"onChange",maxLength:48,minLength:24,path:["apiKey"],preferences:{fields:{}},req:{payload:{config:g},t:v},siblingData:{}})});return(0,s.useEffect)(()=>{!j&&a&&_(o),!a&&j&&_(null)},[j,a,_,o]),(0,s.useEffect)(()=>{r&&setTimeout(()=>{i(!1)},1e4)},[r]),a?(0,f.jsxs)(s.Fragment,{children:[(0,f.jsxs)("div",{className:["field-type","api-key","read-only"].filter(Boolean).join(" "),children:[S,(0,f.jsxs)("div",{className:"".concat(xm,"__input-wrap"),children:[(0,f.jsx)("input",{"aria-label":C,className:r?"highlight":void 0,disabled:!0,id:"apiKey",name:"apiKey",type:c?"text":"password",value:k||""}),(0,f.jsx)("div",{className:"".concat(xm,"__toggle-button-wrap"),children:(0,f.jsx)(tO,{buttonStyle:"none",className:"".concat(xm,"__toggle-button"),icon:(0,f.jsx)(mF,{active:c}),onClick:()=>p(e=>!e)})})]})]}),!l&&(0,f.jsx)(vf,{highlightField:()=>{r&&i(!1),setTimeout(()=>{i(!0)},1)},setKey:()=>_(oS())})]}):null},xg="auth-fields",xb=e=>{var t,n;let a,l,o;let r=(0,h.c)(34),{className:i,collectionSlug:c,disableLocalStrategy:p,email:m,loginWithUsername:v,operation:g,readOnly:b,requirePassword:x,setValidateBeforeSubmit:y,useAPIKey:w,username:j,verify:C}=e,{permissions:_}=aD(),[k,N]=(0,s.useState)(x),E=eM(xx),D=eM(xy),P=eI(),{i18n:T,t:R}=(0,d.d)(),{docPermissions:O,isEditing:L,isInitializing:F}=lV(),{config:I}=(0,u.b)(),{routes:A,serverURL:M}=I,{api:B}=A,z=!0,U=!0,V="object"==typeof O.fields&&"password"in O.fields,H="object"==typeof O.fields&&("username"in O.fields||"email"in O.fields);if(V){let{permissions:e}=(0,S.t)({field:{name:"password",type:"text"},operation:g,parentName:"",permissions:null==O?void 0:O.fields});z="create"===g?!0===e||"object"==typeof e&&e.create:!0===e||"object"==typeof e&&e.update}if(H){let e=v&&(v.requireEmail||v.allowEmailLogin),{operation:t}=(0,S.t)({field:{name:"email",type:"text"},operation:"read",parentName:"",permissions:null==O?void 0:O.fields}),{operation:n}=(0,S.t)({field:{name:"username",type:"text"},operation:"read",parentName:"",permissions:null==O?void 0:O.fields});U=e?n||t:v&&!e?n:t}let q=(!p||"object"==typeof p&&!0===p.enableFields)&&(U||z),W=b||F,K=(null==O?void 0:O.fields)===!0||(null==O?void 0:null===(t=O.fields)||void 0===t?void 0:t.enableAPIKey),Y=b||!0===K||K&&"object"==typeof K&&!(null==K?void 0:K.update),G=b||!0!==K&&!(null==K?void 0:K.update),$=!0===K||(null==K?void 0:K.read),X;e:{let e=null==_?void 0:null===(n=_.collections)||void 0===n?void 0:n[c];if(e){X=!!("unlock"in e&&e.unlock);break e}X=!1}let Q=X,Z;r[0]!==D||r[1]!==y||r[2]!==R?(Z=e=>{e?(y(!0),D({type:"UPDATE",errorMessage:R("validation:required"),path:"password",valid:!1}),D({type:"UPDATE",errorMessage:R("validation:required"),path:"confirm-password",valid:!1})):(y(!1),D({type:"REMOVE",path:"password"}),D({type:"REMOVE",path:"confirm-password"})),N(e)},r[0]=D,r[1]=y,r[2]=R,r[3]=Z):Z=r[3];let J=Z,ee;r[4]!==B||r[5]!==c||r[6]!==m||r[7]!==T||r[8]!==v||r[9]!==M||r[10]!==R||r[11]!==j?(ee=async()=>{let e="".concat(M).concat(B,"/").concat(c,"/unlock");200===(await fetch(e,{body:JSON.stringify(v&&j?{username:j}:{email:m}),credentials:"include",headers:{"Accept-Language":T.language,"Content-Type":"application/json"},method:"post"})).status?e3.success(R("authentication:successfullyUnlocked")):e3.error(R("authentication:failedToUnlock"))},r[4]=B,r[5]=c,r[6]=m,r[7]=T,r[8]=v,r[9]=M,r[10]=R,r[11]=j,r[12]=ee):ee=r[12];let et=ee,en,ea;return(r[13]!==P?(en=()=>{P||N(!1)},ea=[P],r[13]=P,r[14]=en,r[15]=ea):(en=r[14],ea=r[15]),(0,s.useEffect)(en,ea),!p||q||w)?(r[16]!==i?(a=[xg,i].filter(Boolean),r[16]=i,r[17]=a):a=r[17],r[18]!==Y||r[19]!==$||r[20]!==c||r[21]!==W||r[22]!==(null==E?void 0:E.value)||r[23]!==G||r[24]!==R||r[25]!==w?(l=w&&(0,f.jsx)("div",{className:"".concat(xg,"__api-key"),children:$&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(l7,{field:{name:"enableAPIKey",admin:{disabled:W,readOnly:G},label:R("authentication:enableAPIKey")},path:"enableAPIKey",schemaPath:"".concat(c,".enableAPIKey")}),(0,f.jsx)(xv,{enabled:!!(null==E?void 0:E.value),readOnly:Y})]})}),r[18]=Y,r[19]=$,r[20]=c,r[21]=W,r[22]=null==E?void 0:E.value,r[23]=G,r[24]=R,r[25]=w,r[26]=l):l=r[26],r[27]!==c||r[28]!==W||r[29]!==L||r[30]!==b||r[31]!==R||r[32]!==C?(o=C&&L&&(0,f.jsx)(l7,{field:{name:"_verified",admin:{disabled:W,readOnly:b},label:R("authentication:verified")},path:"_verified",schemaPath:"".concat(c,"._verified")}),r[27]=c,r[28]=W,r[29]=L,r[30]=b,r[31]=R,r[32]=C,r[33]=o):o=r[33],(0,f.jsxs)("div",{className:a.join(" "),children:[q&&(0,f.jsxs)(s.Fragment,{children:[(0,f.jsx)(bS,{loginWithUsername:v,operation:g,permissions:null==O?void 0:O.fields,readOnly:b,t:R}),(k||x)&&(!p||!q)&&(0,f.jsxs)("div",{className:"".concat(xg,"__changing-password"),children:[(0,f.jsx)(he,{autoComplete:"new-password",field:{name:"password",label:R("authentication:newPassword"),required:!0},indexPath:"",parentPath:"",parentSchemaPath:"",path:"password",schemaPath:"password"}),(0,f.jsx)(f8,{disabled:b})]}),(0,f.jsxs)("div",{className:"".concat(xg,"__controls"),children:[k&&!x&&(0,f.jsx)(tO,{buttonStyle:"secondary",disabled:W,onClick:()=>J(!1),size:"medium",children:R("general:cancel")}),!k&&!x&&!p&&z&&(0,f.jsx)(tO,{buttonStyle:"secondary",disabled:W,id:"change-password",onClick:()=>J(!0),size:"medium",children:R("authentication:changePassword")}),"update"===g&&Q&&(0,f.jsx)(tO,{buttonStyle:"secondary",disabled:W||!U,onClick:()=>void et(),size:"medium",children:R("authentication:forceUnlock")})]})]}),l,o]})):null};function xx(e){let[t]=e;return t&&(null==t?void 0:t.enableAPIKey)||null}function xy(e){return e[1]}var xw=e=>{let t=(0,h.c)(20),{id:n,collectionSlug:a,globalSlug:l,pluralLabel:o,useAsTitle:r}=e,i=(null==e?void 0:e.view)||void 0,{isEditing:c,isInitializing:p}=lV(),{title:f}=lO(),{isEntityVisible:v}=bc(),g;t[0]!==a||t[1]!==l||t[2]!==v?(g=v({collectionSlug:a,globalSlug:l}),t[0]=a,t[1]=l,t[2]=v,t[3]=g):g=t[3];let b=g,{setStepNav:x}=mo(),{i18n:w,t:j}=(0,d.d)(),{config:C}=(0,u.b)(),{routes:S}=C,{admin:_}=S,k,N;return t[4]!==_||t[5]!==a||t[6]!==l||t[7]!==w||t[8]!==n||t[9]!==c||t[10]!==p||t[11]!==b||t[12]!==o||t[13]!==x||t[14]!==j||t[15]!==f||t[16]!==r||t[17]!==i?(k=()=>{let e=[];p||(a?(e.push({label:(0,m.i)(o,w),url:b?(0,y.$)({adminRoute:_,path:"/collections/".concat(a)}):void 0}),c?e.push({label:r&&"id"!==r&&f||"".concat(n),url:b?(0,y.$)({adminRoute:_,path:"/collections/".concat(a,"/").concat(n)}):void 0}):e.push({label:j("general:createNew")})):l&&e.push({label:f,url:b?(0,y.$)({adminRoute:_,path:"/globals/".concat(l)}):void 0}),i&&e.push({label:i}),x(e))},N=[x,p,c,o,n,r,_,j,w,f,a,l,i,b],t[4]=_,t[5]=a,t[6]=l,t[7]=w,t[8]=n,t[9]=c,t[10]=p,t[11]=b,t[12]=o,t[13]=x,t[14]=j,t[15]=f,t[16]=r,t[17]=i,t[18]=k,t[19]=N):(k=t[18],N=t[19]),(0,s.useEffect)(k,N),null},xj=e=>{var t,n;let a=(0,h.c)(14),{collectionConfig:l,config:o,fallback:r,globalConfig:i}=e,c=null==l?void 0:null===(t=l.admin)||void 0===t?void 0:t.useAsTitle,u;a[0]!==c?(u=e=>{let[t]=e;return c&&t&&(null==t?void 0:t[c])||null},a[0]=c,a[1]=u):u=a[1];let p=eM(u),f=(0,s.useRef)(!1),{i18n:m}=(0,d.d)(),{setDocumentTitle:v}=lO(),g=null==o?void 0:null===(n=o.admin)||void 0===n?void 0:n.dateFormat,b=(null==p?void 0:p.value)||"",x;a[2]!==l||a[3]!==g||a[4]!==r||a[5]!==i||a[6]!==m||a[7]!==b||a[8]!==c?(x=lT({collectionConfig:l,data:{id:"",[c]:b},dateFormat:g,fallback:r,globalConfig:i,i18n:m}),a[2]=l,a[3]=g,a[4]=r,a[5]=i,a[6]=m,a[7]=b,a[8]=c,a[9]=x):x=a[9];let y=x,w,j;return a[10]!==v||a[11]!==y?(w=()=>{if(!f.current){f.current=!0;return}v(y)},j=[v,y],a[10]=v,a[11]=y,a[12]=w,a[13]=j):(w=a[12],j=a[13]),(0,s.useEffect)(w,j),null},xC="collection-edit";function xS(e){var t,n,a,l,o,r,i,c,d,p,h;let{BeforeDocumentControls:m,Description:v,EditMenuItems:b,PreviewButton:x,PublishButton:w,SaveButton:j,SaveDraftButton:C,Upload:S,UploadControls:_}=e,{id:k,action:N,AfterDocument:E,AfterFields:D,apiURL:P,BeforeFields:T,collectionSlug:R,currentEditor:O,disableActions:L,disableCreate:F,disableLeaveWithoutSaving:I,docPermissions:A,documentIsLocked:M,getDocPermissions:B,getDocPreferences:z,globalSlug:U,hasPublishPermission:V,hasSavePermission:H,incrementVersionCount:q,initialState:W,isEditing:K,isInitializing:Y,lastUpdateTime:G,redirectAfterCreate:$,redirectAfterDelete:X,redirectAfterDuplicate:Q,savedDocumentData:Z,setCurrentEditor:J,setDocumentIsLocked:ee,unlockDocument:et,updateDocumentEditor:en,updateSavedDocumentData:ea}=lV(),{clearDoc:el,drawerSlug:eo,onDelete:er,onDuplicate:ei,onSave:es}=cQ(),ec=!!eo,{refreshCookieAsync:eu,user:ed}=aD(),{config:ep,config:{admin:{user:ef},routes:{admin:eh}},getEntityConfig:em}=(0,u.b)(),ev=em({collectionSlug:R}),eg=em({globalSlug:U}),eb=nd(),ex=(0,g.useRouter)(),ey=(0,g.useSearchParams)(),{reportUpdate:ew}=pp(),{resetUploadEdits:ej}=lA(),{getFormState:eC}=cE(),{startRouteTransition:eS}=te(),{isLivePreviewEnabled:e_,isLivePreviewing:ek,previewWindowType:eN}=mP(),eE=(0,s.useRef)(null),eD=(0,s.useRef)(null),eP=ey.get("locale"),eT=(null==ev?void 0:ev.slug)||(null==eg?void 0:eg.slug),eR=R&&!k?"create":"update",eO=ev?ev.auth:void 0,eL=ev?ev.upload:void 0,eF=ev||eg,eI=(null==eF?void 0:eF.lockDocuments)===void 0||(null==eF?void 0:eF.lockDocuments),eA=!1!==eI,eM=("object"==typeof eI?eI.duration:300)*1e3,eB=!!((null==ev?void 0:null===(t=ev.versions)||void 0===t?void 0:t.drafts)&&(null==ev?void 0:null===(a=ev.versions)||void 0===a?void 0:null===(n=a.drafts)||void 0===n?void 0:n.autosave)||(null==eg?void 0:null===(l=eg.versions)||void 0===l?void 0:l.drafts)&&(null==eg?void 0:null===(r=eg.versions)||void 0===r?void 0:null===(o=r.drafts)||void 0===o?void 0:o.autosave)),ez="u">typeof I?!I:!eB,[eU,eV]=(0,s.useState)(!1),[eH,eq]=(0,s.useState)(!1),[eW,eK]=(0,s.useState)(Date.now()),eY=G+eM,eG=Date.now()>eY,e$=(0,s.useRef)({hasShownLockedModal:!1,isLocked:!1,user:null}),eX=(0,s.useMemo)(()=>[eT],[eT]),[eQ,eZ]=(0,s.useState)(()=>!!("create"===eR&&eO&&!eO.disableLocalStrategy)),eJ=(0,s.useCallback)(e=>{var t,n,a,l,o;ee(!0);let r="object"==typeof(null===(t=e$.current)||void 0===t?void 0:t.user)?null===(a=e$.current)||void 0===a?void 0:null===(n=a.user)||void 0===n?void 0:n.id:null===(l=e$.current)||void 0===l?void 0:l.user;if(e){let t="string"==typeof e.user||"number"==typeof e.user?e.user:e.user.id;e$.current&&t===r||(r===ed.id&&t!==ed.id&&(eq(!0),e$.current.hasShownLockedModal=!0),e$.current={hasShownLockedModal:(null===(o=e$.current)||void 0===o?void 0:o.hasShownLockedModal)||!1,isLocked:!0,user:e.user},J(e.user))}},[J,ee,null==ed?void 0:ed.id]),e0=(0,s.useCallback)(async e=>{let t=cG(eD),n=(null==e?void 0:e.doc)||(null==e?void 0:e.result);if(ew({id:k,entitySlug:eT,updatedAt:(null==n?void 0:n.updatedAt)||new Date().toISOString()}),ed&&R===ef&&k===ed.id&&eu(),q(),"function"==typeof ea&&ea(n||{}),"function"==typeof es){let t=k?"update":"create";es({...e,operation:t,updatedAt:"update"===t?new Date().toISOString():(null==n?void 0:n.updatedAt)||new Date().toISOString()})}if(!K&&eb<2&&!1!==$){let e=(0,y.$)({adminRoute:eh,path:"/collections/".concat(R,"/").concat(null==n?void 0:n.id).concat(eP?"?locale=".concat(eP):"")});eS(()=>ex.push(e))}else ej();if(await B(e),(k||U)&&!eB){let e=await z(),{state:a}=await eC({id:k,collectionSlug:R,data:n,docPermissions:A,docPreferences:e,globalSlug:U,operation:eR,renderAllFields:!0,returnLockStatus:!1,schemaPath:eX.join("."),signal:t.signal,skipValidation:!0});return eA&&ee(!1),eD.current=null,a}},[ew,k,eT,ed,R,ef,q,ea,es,$,K,eb,B,U,eB,eu,eh,eP,ex,ej,z,eC,A,eR,eX,eA,ee,eS]),e1=(0,s.useCallback)(async e=>{let{formState:t,submitted:n}=e,a=cG(eE),l=Date.now(),o=l-eW,r=eA&&o>=1e4;r&&eK(l);let i=await z(),{lockedState:s,state:c}=await eC({id:k,collectionSlug:R,docPermissions:A,docPreferences:i,formState:t,globalSlug:U,operation:eR,skipValidation:!n,renderAllFields:!1,returnLockStatus:eA,schemaPath:eX.join("."),signal:a.signal,updateLastEdited:r});return eA&&eJ(s),eE.current=null,c},[k,R,z,eC,U,eJ,eA,eR,eX,A,eW]);(0,s.useEffect)(()=>()=>{var e,t,n,a;eA&&M&&(k||U)&&!["preview","api","versions"].some(e=>window.location.pathname.includes(e))&&("object"==typeof(null===(e=e$.current)||void 0===e?void 0:e.user)?(null===(n=e$.current)||void 0===n?void 0:null===(t=n.user)||void 0===t?void 0:t.id)===(null==ed?void 0:ed.id):(null===(a=e$.current)||void 0===a?void 0:a.user)===(null==ed?void 0:ed.id))&&(et(k,null!=R?R:U),ee(!1),J(null)),eq(!1)},[R,U,k,et,ed,J,eA,M,ee]),(0,s.useEffect)(()=>{let e=eE.current,t=eD.current;return()=>{cY(e),cY(t)}},[]);let e3=M&&O&&("object"==typeof O?O.id!==(null==ed?void 0:ed.id):O!==(null==ed?void 0:ed.id))&&!eU&&!eH&&!(null===(i=e$.current)||void 0===i?void 0:i.hasShownLockedModal)&&!eG,e2=ep.folders&&R===(null===(c=ep.folders)||void 0===c?void 0:c.slug);return(0,f.jsx)("main",{className:[xC,(k||U)&&"".concat(xC,"--is-editing"),U&&"global-edit--".concat(U),R&&"collection-edit--".concat(R),ek&&"iframe"===eN&&"".concat(xC,"--is-live-previewing")].filter(Boolean).join(" "),children:(0,f.jsx)(lK,{operation:eR,children:(0,f.jsxs)(dN,{action:N,className:"".concat(xC,"__form"),disabled:eU||Y||!H,disableValidationOnSubmit:!eQ,initialState:!Y&&W,isDocumentForm:!0,isInitializing:Y,method:k?"PATCH":"POST",onChange:[e1],onSuccess:e0,children:[ec&&(0,f.jsx)(b7,{drawerSlug:eo,showDocumentID:!e2}),eA&&e3&&(0,f.jsx)(hq,{handleGoBack:()=>xf({adminRoute:eh,collectionSlug:R,router:ex}),isActive:e3,onReadOnly:()=>{eV(!0),eq(!1)},onTakeOver:()=>xh(k,R,U,ed,!1,en,J,e$,eA),updatedAt:G,user:O}),eA&&eH&&(0,f.jsx)(hB,{handleBackToDashboard:()=>xp({adminRoute:eh,router:ex}),isActive:eH,onReadOnly:()=>{eV(!0),eq(!1)}}),!eU&&ez&&(0,f.jsx)(hI,{}),!ec&&(0,f.jsx)(xw,{collectionSlug:null==ev?void 0:ev.slug,globalSlug:null==eg?void 0:eg.slug,id:k,pluralLabel:null==ev?void 0:null===(d=ev.labels)||void 0===d?void 0:d.plural,useAsTitle:null==ev?void 0:null===(p=ev.admin)||void 0===p?void 0:p.useAsTitle}),(0,f.jsx)(xj,{collectionConfig:ev,config:ep,fallback:eb<=1?null==k?void 0:k.toString():void 0,globalConfig:eg}),(0,f.jsx)(m3,{apiURL:P,BeforeDocumentControls:m,customComponents:{PreviewButton:x,PublishButton:w,SaveButton:j,SaveDraftButton:C},data:Z,disableActions:L||e2,disableCreate:F,EditMenuItems:b,hasPublishPermission:V,hasSavePermission:H,id:k,isEditing:K,isInDrawer:ec,onDelete:er,onDrawerCreateNew:el,onDuplicate:ei,onSave:e0,onTakeOver:()=>xh(k,R,U,ed,!0,en,J,e$,eA,eV),permissions:A,readOnlyForIncomingUser:eU,redirectAfterDelete:X,redirectAfterDuplicate:Q,slug:(null==ev?void 0:ev.slug)||(null==eg?void 0:eg.slug),user:O}),(0,f.jsxs)("div",{className:["".concat(xC,"__main-wrapper"),"popup"===eN&&"".concat(xC,"--detached")].filter(Boolean).join(" "),children:[(0,f.jsxs)("div",{className:["".concat(xC,"__main"),"popup"===eN&&"".concat(xC,"__main--popup-open")].filter(Boolean).join(" "),children:[(0,f.jsx)(ph,{AfterFields:D,BeforeFields:T||(0,f.jsxs)(s.Fragment,{children:[eO&&(0,f.jsx)(xb,{className:"".concat(xC,"__auth"),collectionSlug:ev.slug,disableLocalStrategy:null===(h=ev.auth)||void 0===h?void 0:h.disableLocalStrategy,email:null==Z?void 0:Z.email,loginWithUsername:null==eO?void 0:eO.loginWithUsername,operation:eR,readOnly:!H,requirePassword:!k,setValidateBeforeSubmit:eZ,useAPIKey:eO.useAPIKey,username:null==Z?void 0:Z.username,verify:eO.verify}),eL&&(0,f.jsx)(s.Fragment,{children:(0,f.jsx)(dW,{children:S||(0,f.jsx)(fw,{collectionSlug:ev.slug,initialState:W,uploadConfig:eL,UploadControls:_})})})]}),Description:v,docPermissions:A,fields:eF.fields,forceSidebarWrap:ek,readOnly:eU||!H,schemaPathSegments:eX}),E]}),e_&&!ec&&(0,f.jsx)(xd,{collectionSlug:R,globalSlug:U})]})]})})})}var x_=e=>{let{children:t}=e;return(0,f.jsx)("div",{className:"field-diff-label",children:t})},xk="field-diff",xN=e=>{let{className:t,From:n,i18n:a,label:{label:l,locale:o},nestingLevel:r=0,To:i}=e;return(0,f.jsxs)("div",{className:"".concat(xk,"-container").concat(t?" ".concat(t):""," nested-level-").concat(r),style:r?{"--left-offset":"calc(50%  - (".concat(r," * calc( calc(var(--base)* 0.5) - 2.5px  )))")}:{"--left-offset":"50%"},children:[(0,f.jsxs)(x_,{children:[o&&(0,f.jsx)("span",{className:"".concat(xk,"__locale-label"),children:o}),"function"!=typeof l&&(0,m.i)(l||"",a)]}),(0,f.jsxs)("div",{className:"".concat(xk,"-content"),style:r?{gridTemplateColumns:"calc(var(--left-offset) - calc(var(--base)*0.5) )     calc(50% - calc(var(--base)*0.5) + calc(50% - var(--left-offset)))"}:void 0,children:[n,i]})]})};/*! Bundled license information:

scheduler/cjs/scheduler.production.js:
  (**
   * @license React
   * scheduler.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

focus-trap/dist/focus-trap.esm.js:
  (*!
  * focus-trap 7.5.4
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  *)
*/}}]);