exports.id=4242,exports.ids=[4242],exports.modules={85159:()=>{},14242:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RichText:()=>ek});var n=r(93936),i=r(74730),o=r(10326),l=r(2608),a=r(69395),s=r(17577);let u=(0,s.createContext)(null),d={didCatch:!1,error:null};class c extends s.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=d}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,r,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];null===(t=(r=this.props).onReset)||void 0===t||t.call(r,{args:i,reason:"imperative-api"}),this.setState(d)}}componentDidCatch(e,t){var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}componentDidUpdate(e,t){let{didCatch:r}=this.state,{resetKeys:n}=this.props;if(r&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,r)=>!Object.is(e,t[r]))}(e.resetKeys,n)){var i,o;null===(i=(o=this.props).onReset)||void 0===i||i.call(o,{next:n,prev:e.resetKeys,reason:"keys"}),this.setState(d)}}render(){let{children:e,fallbackRender:t,FallbackComponent:r,fallback:n}=this.props,{didCatch:i,error:o}=this.state,l=e;if(i){let e={error:o,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)l=t(e);else if(r)l=(0,s.createElement)(r,e);else if(void 0!==n)l=n;else throw o}return(0,s.createElement)(u.Provider,{value:{didCatch:i,error:o,resetErrorBoundary:this.resetErrorBoundary}},l)}}r(85159);var f=r(42337),m=r(54511);let p="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,g=p?s.useLayoutEffect:s.useEffect,h={tag:"history-merge"};function y({initialConfig:e,children:t}){let r=(0,s.useMemo)(()=>{let{theme:t,namespace:r,nodes:n,onError:i,editorState:o,html:l}=e,a=(0,f.LI)(null,t),s=(0,m.JhQ)({editable:e.editable,html:l,namespace:r,nodes:n,onError:e=>i(e,s),theme:t});return function(e,t){if(null!==t){if(void 0===t)e.update(()=>{let t=(0,m.GvG)();if(t.isEmpty()){let r=(0,m.BEw)();t.append(r);let n=p?document.activeElement:null;(null!==(0,m.dL7)()||null!==n&&n===e.getRootElement())&&r.select()}},h);else if(null!==t)switch(typeof t){case"string":{let r=e.parseEditorState(t);e.setEditorState(r,h);break}case"object":e.setEditorState(t,h);break;case"function":e.update(()=>{(0,m.GvG)().isEmpty()&&t(e)},h)}}}(s,o),[s,a]},[]);return g(()=>{let t=e.editable,[n]=r;n.setEditable(void 0===t||t)},[]),(0,o.jsx)(f.YK.Provider,{value:r,children:t})}var v=r(16766);function x(e,t){return(x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var b={error:null},E=function(e){function t(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).state=b,t.resetErrorBoundary=function(){for(var e,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];null==t.props.onReset||(e=t.props).onReset.apply(e,n),t.reset()},t}t.prototype=Object.create(e.prototype),t.prototype.constructor=t,x(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var r=t.prototype;return r.reset=function(){this.setState(b)},r.componentDidCatch=function(e,t){var r,n;null==(r=(n=this.props).onError)||r.call(n,e,t)},r.componentDidUpdate=function(e,t){var r,n,i,o,l=this.state.error,a=this.props.resetKeys;null!==l&&null!==t.error&&(void 0===(i=e.resetKeys)&&(i=[]),void 0===(o=a)&&(o=[]),i.length!==o.length||i.some(function(e,t){return!Object.is(e,o[t])}))&&(null==(r=(n=this.props).onResetKeysChange)||r.call(n,e.resetKeys,a),this.reset())},r.render=function(){var e=this.state.error,t=this.props,r=t.fallbackRender,n=t.FallbackComponent,i=t.fallback;if(null!==e){var o={error:e,resetErrorBoundary:this.resetErrorBoundary};if(s.isValidElement(i))return i;if("function"==typeof r)return r(o);if(n)return s.createElement(n,o);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(s.Component);function C({children:e,onError:t}){return(0,o.jsx)(E,{fallback:(0,o.jsx)("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:e})}var j=r(20822);function S(e){e.undoStack=[],e.redoStack=[],e.current=null}function k({delay:e,externalHistoryState:t}){let[r]=(0,f.g)();return function(e,t,r=1e3){let n=(0,s.useMemo)(()=>t||{current:null,redoStack:[],undoStack:[]},[t]);(0,s.useEffect)(()=>(function(e,t,r){let n,i;let o=(n=Date.now(),i=0,(t,o,l,a,s,u)=>{let d=Date.now();if(u.has("historic"))return i=0,n=d,2;let c=function(e,t,r,n,i){if(null===e||0===r.size&&0===n.size&&!i)return 0;let o=t._selection,l=e._selection;if(i)return 1;if(!((0,m.OPZ)(o)&&(0,m.OPZ)(l)&&l.isCollapsed()&&o.isCollapsed()))return 0;let a=function(e,t,r){let n=e._nodeMap,i=[];for(let e of t){let t=n.get(e);void 0!==t&&i.push(t)}for(let[e,t]of r){if(!t)continue;let r=n.get(e);void 0===r||(0,m.wdB)(r)||i.push(r)}return i}(t,r,n);if(0===a.length)return 0;if(a.length>1){let r=t._nodeMap,n=r.get(o.anchor.key),i=r.get(l.anchor.key);return n&&i&&!e._nodeMap.has(n.__key)&&(0,m.Gg4)(n)&&1===n.__text.length&&1===o.anchor.offset?2:0}let s=a[0],u=e._nodeMap.get(s.__key);if(!(0,m.Gg4)(u)||!(0,m.Gg4)(s)||u.__mode!==s.__mode)return 0;let d=u.__text,c=s.__text;if(d===c)return 0;let f=o.anchor,p=l.anchor;if(f.key!==p.key||"text"!==f.type)return 0;let g=f.offset,h=p.offset,y=c.length-d.length;return 1===y&&h===g-1?2:-1===y&&h===g+1?3:-1===y&&h===g?4:0}(t,o,a,s,e.isComposing()),f=(()=>{let f=null===l||l.editor===e,p=u.has("history-push");if(!p&&f&&u.has("history-merge"))return 0;if(null===t)return 1;let g=o._selection;return a.size>0||s.size>0?!1===p&&0!==c&&c===i&&d<n+r&&f||1===a.size&&function(e,t,r){let n=t._nodeMap.get(e),i=r._nodeMap.get(e),o=t._selection,l=r._selection;return!((0,m.OPZ)(o)&&(0,m.OPZ)(l)&&"element"===o.anchor.type&&"element"===o.focus.type&&"text"===l.anchor.type&&"text"===l.focus.type||!(0,m.Gg4)(n)||!(0,m.Gg4)(i)||n.__parent!==i.__parent)&&JSON.stringify(t.read(()=>n.exportJSON()))===JSON.stringify(r.read(()=>i.exportJSON()))}(Array.from(a)[0],t,o)?0:1:null!==g?0:2})();return n=d,i=c,f});return(0,j.qV)(e.registerCommand(m.$le,()=>((function(e,t){let r=t.redoStack,n=t.undoStack;if(0!==n.length){let i=t.current,o=n.pop();null!==i&&(r.push(i),e.dispatchCommand(m.r04,!0)),0===n.length&&e.dispatchCommand(m.ynn,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:"historic"})}})(e,t),!0),m.VNZ),e.registerCommand(m.zqW,()=>((function(e,t){let r=t.redoStack,n=t.undoStack;if(0!==r.length){let i=t.current;null!==i&&(n.push(i),e.dispatchCommand(m.ynn,!0));let o=r.pop();0===r.length&&e.dispatchCommand(m.r04,!1),t.current=o||null,o&&o.editor.setEditorState(o.editorState,{tag:"historic"})}})(e,t),!0),m.VNZ),e.registerCommand(m.BM6,()=>(S(t),!1),m.VNZ),e.registerCommand(m.Nrv,()=>(S(t),e.dispatchCommand(m.r04,!1),e.dispatchCommand(m.ynn,!1),!0),m.VNZ),e.registerUpdateListener(({editorState:r,prevEditorState:n,dirtyLeaves:i,dirtyElements:l,tags:a})=>{let s=t.current,u=t.redoStack,d=t.undoStack,c=null===s?null:s.editorState;if(null!==s&&r===c)return;let f=o(n,r,s,i,l,a);if(1===f)0!==u.length&&(t.redoStack=[],e.dispatchCommand(m.r04,!1)),null!==s&&(d.push({...s}),e.dispatchCommand(m.ynn,!0));else if(2===f)return;t.current={editor:e,editorState:r}}))})(e,n,r),[r,e,n])}(r,t,e),null}let w="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?s.useLayoutEffect:s.useEffect;function _({ignoreHistoryMergeTagChange:e=!0,ignoreSelectionChange:t=!1,onChange:r}){let[n]=(0,f.g)();return w(()=>{if(r)return n.registerUpdateListener(({editorState:i,dirtyElements:o,dirtyLeaves:l,prevEditorState:a,tags:s})=>{t&&0===o.size&&0===l.size||e&&s.has("history-merge")||a.isEmpty()||r(i,n,s)})},[n,e,t,r]),null}var N=r(6021);function P(e){return()=>(function(e){if(!function(e,t=!0){if(e)return!1;let r=(0,m.GvG)().getTextContent();return t&&(r=r.trim()),""===r}(e,!1))return!1;let t=(0,m.GvG)().getChildren(),r=t.length;if(r>1)return!1;for(let e=0;e<r;e++){let r=t[e];if((0,m.k$I)(r))return!1;if((0,m.F7b)(r)){if(!(0,m.Rlh)(r)||0!==r.__indent)return!1;let t=r.getChildren(),n=t.length;for(let r=0;r<n;r++){let r=t[e];if(!(0,m.Gg4)(r))return!1}}}return!0})(e)}var L=r(60962),B=r(69947);let R="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?s.useLayoutEffect:s.useEffect;function O(e){return e.getEditorState().read(P(e.isComposing()))}function K({contentEditable:e,placeholder:t=null,ErrorBoundary:r}){var n;let[i]=(0,f.g)(),l=function(e,t){let[r,n]=(0,s.useState)(()=>e.getDecorators());return R(()=>e.registerDecoratorListener(e=>{(0,L.flushSync)(()=>{n(e)})}),[e]),(0,s.useEffect)(()=>{n(e.getDecorators())},[e]),(0,s.useMemo)(()=>{let n=[],i=Object.keys(r);for(let l=0;l<i.length;l++){let a=i[l],u=(0,o.jsx)(t,{onError:t=>e._onError(t),children:(0,o.jsx)(s.Suspense,{fallback:null,children:r[a]})}),d=e.getElementByKey(a);null!==d&&n.push((0,L.createPortal)(u,d,a))}return n},[t,r,e])}(i,r);return R(()=>(0,j.qV)((0,B.ML)(n),function(e){let t=window.location.origin,r=r=>{if(r.origin!==t)return;let n=e.getRootElement();if(document.activeElement!==n)return;let i=r.data;if("string"==typeof i){let t;try{t=JSON.parse(i)}catch(e){return}if(t&&"nuanria_messaging"===t.protocol&&"request"===t.type){let n=t.payload;if(n&&"makeChanges"===n.functionId){let t=n.args;if(t){let[n,i,o,l,a,s]=t;e.update(()=>{let e=(0,m.dL7)();if((0,m.OPZ)(e)){let t=e.anchor,s=t.getNode(),u=0,d=0;if((0,m.Gg4)(s)&&n>=0&&i>=0&&(u=n,d=n+i,e.setTextNodeRange(s,u,s,d)),u===d&&""===o||(e.insertRawText(o),s=t.getNode()),(0,m.Gg4)(s)){u=l,d=l+a;let t=s.getTextContentSize();u=u>t?t:u,d=d>t?t:d,e.setTextNodeRange(s,u,s,d)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",r,!0),()=>{window.removeEventListener("message",r,!0)}}(n)),[n=i]),(0,o.jsxs)(o.Fragment,{children:[e,(0,o.jsx)(M,{content:t}),l]})}function M({content:e}){let[t]=(0,f.g)(),r=function(e){let[t,r]=(0,s.useState)(()=>O(e));return R(()=>{function t(){r(O(e))}return t(),(0,j.qV)(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(t),n=(0,N.P)();return r?"function"==typeof e?e(n):e:null}var D=r(12536);let F="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?s.useLayoutEffect:s.useEffect,$=(0,s.forwardRef)(function({editor:e,ariaActiveDescendant:t,ariaAutoComplete:r,ariaControls:n,ariaDescribedBy:i,ariaErrorMessage:l,ariaExpanded:a,ariaInvalid:u,ariaLabel:d,ariaLabelledBy:c,ariaMultiline:f,ariaOwns:m,ariaRequired:p,autoCapitalize:g,className:h,id:y,role:v="textbox",spellCheck:x=!0,style:b,tabIndex:E,"data-testid":C,...j},S){let[k,w]=(0,s.useState)(e.isEditable()),_=(0,s.useCallback)(t=>{t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null)},[e]),N=(0,s.useMemo)(()=>(function(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}})(S,_),[_,S]);return F(()=>(w(e.isEditable()),e.registerEditableListener(e=>{w(e)})),[e]),(0,o.jsx)("div",{"aria-activedescendant":k?t:void 0,"aria-autocomplete":k?r:"none","aria-controls":k?n:void 0,"aria-describedby":i,...null!=l?{"aria-errormessage":l}:{},"aria-expanded":k&&"combobox"===v?!!a:void 0,...null!=u?{"aria-invalid":u}:{},"aria-label":d,"aria-labelledby":c,"aria-multiline":f,"aria-owns":k?m:void 0,"aria-readonly":!k||void 0,"aria-required":p,autoCapitalize:g,className:h,contentEditable:k,"data-testid":C,id:y,ref:N,role:k?v:void 0,spellCheck:x,style:b,tabIndex:E,...j})});function I(e){return e.getEditorState().read(P(e.isComposing()))}let T=(0,s.forwardRef)(function(e,t){let{placeholder:r,...n}=e,[i]=(0,f.g)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)($,{editor:i,...n,ref:t}),null!=r&&(0,o.jsx)(G,{editor:i,content:r})]})});function G({content:e,editor:t}){let r=function(e){let[t,r]=(0,s.useState)(()=>I(e));return F(()=>{function t(){r(I(e))}return t(),(0,j.qV)(e.registerUpdateListener(()=>{t()}),e.registerEditableListener(()=>{t()}))},[e]),t}(t),[n,i]=(0,s.useState)(t.isEditable());if((0,s.useLayoutEffect)(()=>(i(t.isEditable()),t.registerEditableListener(e=>{i(e)})),[t]),!r)return null;let l=null;return"function"==typeof e?l=e(n):null!==e&&(l=e),null===l?null:(0,o.jsx)("div",{"aria-hidden":!0,children:l})}var V=({anchorElem:e,clientProps:t,plugin:r})=>"floatingAnchorElem"===r.position&&e?r.Component&&(0,o.jsx)(r.Component,{anchorElem:e,clientProps:t}):r.Component&&(0,o.jsx)(r.Component,{clientProps:t});function q(){let e=(0,v.c)(3),[t]=(0,f.g)(),r,n;return e[0]!==t?(r=()=>(0,j.qV)(t.registerCommand(m.Kr$,W,m.KB),t.registerCommand(m.MKI,H,m.KB),t.registerCommand(m.aRb,H,m.KB),t.registerCommand(m.ojF,U,m.KB),t.registerCommand(m._0$,J,m.KB),t.registerCommand(m.Zbz,A,m.KB)),n=[t],e[0]=t,e[1]=r,e[2]=n):(r=e[1],n=e[2]),null}function A(e){let t=(0,m.dL7)();if((0,m.iOo)(t)){e.preventDefault();let r=t.getNodes()[0]?.getNextSibling();if((0,m.k$I)(r)){let e=(0,m.mJV)().getElementByKey(r.getKey());return e&&Y({element:e,node:r}),!0}if(!(0,m.F7b)(r))return!0;let n=r.getFirstDescendant()??r;return n&&(j.$s(n,X)?.selectEnd(),e.preventDefault()),!0}if(!(0,m.OPZ)(t))return!1;let r=(t.isBackward()?t.anchor:t.focus).getNode(),n=(0,j.$s)(r,z),i=n?.getNextSibling();if(!n||i!==ee(n))return!1;if((0,m.k$I)(i)){let t=(0,m.mJV)().getElementByKey(i.getKey());if(t)return Y({element:t,node:i}),e.preventDefault(),!0}return!1}function z(e){return null!==ee(e)}function J(e){let t=(0,m.dL7)();if((0,m.iOo)(t)){let r=t.getNodes()[0]?.getPreviousSibling();if((0,m.k$I)(r)){let t=(0,m.mJV)().getElementByKey(r.getKey());return!!t&&(Y({element:t,node:r}),e.preventDefault(),!0)}if(!(0,m.F7b)(r))return!1;let n=r.getLastDescendant()??r;return!!n&&(j.$s(n,X)?.selectStart(),e.preventDefault(),!0)}if(!(0,m.OPZ)(t))return!1;let r=(t.isBackward()?t.anchor:t.focus).getNode(),n=(0,j.$s)(r,Z),i=n?.getPreviousSibling();if(!n||i!==et(n))return!1;if((0,m.k$I)(i)){let t=(0,m.mJV)().getElementByKey(i.getKey());if(t)return Y({element:t,node:i}),e.preventDefault(),!0}return!1}function Z(e){return null!==et(e)}function U(){let e=function(){let e=(0,m.dL7)();if(!(0,m.iOo)(e))return;let t=e.getNodes();if(1!==t.length)return;let r=t[0];return(0,m.k$I)(r)?{decorator:r,element:(0,m.mJV)().getElementByKey(r.getKey())}:void 0}();return document.querySelector(".decorator-selected")?.classList.remove("decorator-selected"),!!e&&(e.element?.classList.add("decorator-selected"),!0)}function W(e){document.querySelector(".decorator-selected")?.classList.remove("decorator-selected");let t=function(e){if(!(e.target instanceof HTMLElement))return;let t=e.target.closest('[data-lexical-decorator="true"]');if(!(t instanceof HTMLElement))return;let r=(0,m.Xod)(t);return(0,m.k$I)(r)?{element:t,node:r}:void 0}(e);if(!t)return!0;let{target:r}=e;return!(r instanceof HTMLElement)||r.isContentEditable||r.closest('button, textarea, input, .react-select, .code-editor, .no-select-decorator, [role="button"]')?(0,m.oqs)(null):Y(t),!0}function H(e){let t=(0,m.dL7)();return!!(0,m.iOo)(t)&&(e.preventDefault(),t.getNodes().forEach(Q),!0)}function Q(e){e.remove()}function Y({element:e,node:t}){document.querySelector(".decorator-selected")?.classList.remove("decorator-selected");let r=(0,m.h5h)();r.add(t.getKey()),(0,m.oqs)(r),e.scrollIntoView({behavior:"smooth",block:"nearest"}),e.classList.add("decorator-selected")}function X(e){if((0,m.k$I)(e)&&!e.isInline())return!0;if(!(0,m.F7b)(e)||(0,m._vQ)(e))return!1;let t=e.getFirstChild(),r=null===t||(0,m.A3A)(t)||(0,m.Gg4)(t)||t.isInline();return!e.isInline()&&!1!==e.canBeEmpty()&&r}function ee(e){let t=e.getNextSibling();for(;null!==t;){if(X(t))return t;t=t.getNextSibling()}return null}function et(e){let t=e.getPreviousSibling();for(;null!==t;){if(X(t))return t;t=t.getPreviousSibling()}return null}function er(e){let{anchorElem:t}=e,r=void 0===t?document.body:t,[l]=(0,f.g)();return function(e,t,r){t.parentElement;let{editorConfig:l}=(0,i.b)(),a=(l?.admin?.hideGutter,(0,s.useRef)(null)),[u,d]=(0,s.useState)(null),c=(0,s.useCallback)(t=>{let r=u;r?.node&&(e.update(()=>{let t=!0;if((r?.node.getType()!=="paragraph"||""!==r.node.getTextContent())&&(t=!1),!t){let t=(0,m.BEw)();r?.node.insertAfter(t),setTimeout(()=>{d(r={elem:e.getElementByKey(t.getKey()),node:t})},0)}}),setTimeout(()=>{e.update(()=>{e.focus(),r?.node&&"select"in r.node&&"function"==typeof r.node.select&&r.node.select()})},1),setTimeout(()=>{e.dispatchCommand(n.i,{node:r?.node})},2),t.stopPropagation(),t.preventDefault())},[e,u]);return(0,L.createPortal)((0,o.jsx)(s.Fragment,{children:(0,o.jsx)("button",{"aria-label":"Add block",className:"icon add-block-menu",onClick:e=>{c(e)},ref:a,type:"button",children:(0,o.jsx)("div",{className:r?"icon":""})})}),t)}(l,r,l._editable)}function en(e){let{anchorElem:t}=e,r=void 0===t?document.body:t,[n]=(0,f.g)();return function(e,t,r){t.parentElement;let n=(0,s.useRef)(null),l=(0,s.useRef)(null),a=(0,s.useRef)(null),u=(0,s.useRef)(!1),[d,c]=(0,s.useState)(null),[f,p]=(0,s.useState)(null),{editorConfig:g}=(0,i.b)();return g?.admin?.hideGutter,(0,L.createPortal)((0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)("div",{className:"icon draggable-block-menu",draggable:!0,onDragEnd:function(){var e,t;u.current=!1,f?.elem&&(e=l.current,t=f?.elem,e&&(e.style.opacity="0"),t&&(t.style.opacity="",t.style.marginBottom="",t.style.marginTop=""))},onDragStart:function(t){let r=t.dataTransfer;if(!r||!d)return;!function(e,t){let{transform:r}=t.style;e.setDragImage(t,0,0),setTimeout(()=>{t.style.transform=r})}(r,d);let n="";e.update(()=>{let e=(0,m.Xod)(d);e&&(n=e.getKey())}),u.current=!0,r.setData("application/x-lexical-drag-block",n)},ref:n,children:(0,o.jsx)("div",{className:r?"icon":""})}),(0,o.jsx)("div",{className:"draggable-block-target-line",ref:l}),(0,o.jsx)("div",{className:"debug-highlight",ref:a})]}),t)}(n,r,n._editable)}var ei="insert-paragraph-at-end",eo=()=>{let e,t=(0,v.c)(4),[r]=(0,f.g)(),{editorConfig:n}=(0,i.b)();if(n?.admin?.hideInsertParagraphAtEnd)return null;t[0]!==r?(e=()=>{r.update(el)},t[0]=r,t[1]=e):e=t[1];let l=e,a;return t[2]!==l?(a=(0,o.jsx)("div",{"aria-label":"Insert Paragraph",className:ei,onClick:l,role:"button",tabIndex:0,children:(0,o.jsx)("div",{className:`${ei}-inside`,children:(0,o.jsx)("span",{children:"+"})})}),t[2]=l,t[3]=a):a=t[3],a};function el(){let e=(0,m.BEw)();(0,m.GvG)().append(e),e.select()}var ea=()=>{let e=(0,v.c)(4),{editorConfig:t}=(0,i.b)(),[r]=(0,f.g)(),o,l;return e[0]!==r||e[1]!==t.features.markdownTransformers?(o=()=>(0,n.c)(r,t.features.markdownTransformers??[]),l=[r,t.features.markdownTransformers],e[0]=r,e[1]=t.features.markdownTransformers,e[2]=o,e[3]=l):(o=e[2],l=e[3]),s.useEffect(o,l),null};function es(){let[e]=(0,f.g)();return null}function eu(){let[e]=(0,f.g)();return null}var ed="slash-menu-popup";function ec({isSelected:e,item:t,onClick:r,onMouseEnter:n,ref:l}){let{fieldProps:{featureClientSchemaMap:a,schemaPath:s}}=(0,i.b)(),{i18n:u}=(0,D.d)(),d=`${ed}__item ${ed}__item-${t.key}`;e&&(d+=` ${ed}__item--selected`);let c=t.key;return t.label&&(c="function"==typeof t.label?t.label({featureClientSchemaMap:a,i18n:u,schemaPath:s}):t.label),c.length>25&&(c=c.substring(0,25)+"..."),(0,o.jsxs)("button",{"aria-selected":e,className:d,id:ed+"__item-"+t.key,onClick:r,onMouseEnter:n,ref:l,role:"option",tabIndex:-1,type:"button",children:[t?.Icon&&(0,o.jsx)(t.Icon,{}),(0,o.jsx)("span",{className:`${ed}__item-text`,children:c})]},t.key)}function ef({anchorElem:e=document.body}){let[t]=(0,f.g)(),[r,l]=(0,s.useState)(null),{editorConfig:a}=(0,i.b)(),{i18n:u}=(0,D.d)(),{fieldProps:{featureClientSchemaMap:d,schemaPath:c}}=(0,i.b)(),m=function(e,t){let r=(0,v.c)(4),{maxLength:i,minLength:o}=t,l=void 0===i?75:i,a=void 0===o?1:o,s;return r[0]!==l||r[1]!==a||"/"!==r[2]?(s=e=>{let{query:t}=e,r=RegExp("(^|\\s|\\()([/]((?:"+("[^/"+n.h+"\\s]")+"){0,"+l+"}))$").exec(t);if(null!==r){let e=r[1],t=r[3];if(t.length>=a)return{leadOffset:r.index+e.length,matchingString:t,replaceableString:r[2]}}return null},r[0]=l,r[1]=a,r[2]=e,r[3]=s):s=r[3],s}("/",{minLength:0}),p=(0,s.useCallback)(()=>{let e=[];for(let n of a.features.slashMenu.dynamicGroups)if(r){let i=n({editor:t,queryString:r});e=e.concat(i)}return e},[t,r,a?.features]),g=(0,s.useMemo)(()=>{let e=[];for(let t of a?.features.slashMenu.groups??[])e.push(t);if(r)for(let t of(e=(e=e.map(e=>{let t=e.items.filter(e=>{let t=e.key;return e.label&&(t="function"==typeof e.label?e.label({featureClientSchemaMap:d,i18n:u,schemaPath:c}):e.label),!!RegExp(r,"gi").exec(t)||null!=e.keywords&&e.keywords.some(e=>RegExp(r,"gi").exec(e))});return t.length?{...e,items:t}:null})).filter(e=>null!=e),p())){let r=e.find(e=>e.key===t.key);r?e=e.filter(e=>e.key!==t.key):r={...t,items:[]},r?.items?.length&&(r.items=r.items.concat(r.items)),e.push(r)}return e},[r,a?.features.slashMenu.groups,p,d,u,c]);return(0,o.jsx)(n.j,{anchorElem:e,groups:g,menuRenderFn:(e,{selectedItemKey:t,selectItemAndCleanUp:r,setSelectedItemKey:n})=>e.current&&g.length?L.createPortal((0,o.jsx)("div",{className:ed,children:g.map(e=>{let i=e.key;return e.label&&d&&(i="function"==typeof e.label?e.label({featureClientSchemaMap:d,i18n:u,schemaPath:c}):e.label),(0,o.jsxs)("div",{className:`${ed}__group ${ed}__group-${e.key}`,children:[(0,o.jsx)("div",{className:`${ed}__group-title`,children:i}),e.items.map((e,i)=>(0,o.jsx)(ec,{index:i,isSelected:t===e.key,item:e,onClick:()=>{n(e.key),r(e)},onMouseEnter:()=>{n(e.key)},ref:t=>{e.ref={current:t}}},e.key))]},e.key)})}),e.current):null,onQueryChange:l,triggerFn:m})}function em(e){let t,r=(0,v.c)(6),{features:n}=e,[i]=(0,f.g)(),o;return r[0]!==i||r[1]!==n.enabledFormats?(o=()=>{var e;let t,r;let o=(e=n.enabledFormats,t=Object.keys(m.ebn),r=new Set(e),t.filter(e=>!r.has(e)));if(0!==o.length)return i.registerNodeTransform(m.R2r,e=>{o.forEach(t=>{e.hasFormat(t)&&e.toggleFormat(t)})})},r[0]=i,r[1]=n.enabledFormats,r[2]=o):o=r[2],r[3]!==i||r[4]!==n?(t=[i,n],r[3]=i,r[4]=n,r[5]=t):t=r[5],null}function ep(e){let t=(0,v.c)(7),{className:r,editorConfig:n}=e,{t:i}=(0,D.d)(),l;if(t[0]!==r||t[1]!==n?.admin?.placeholder||t[2]!==i){let e;t[4]!==n?.admin?.placeholder||t[5]!==i?(e=n?.admin?.placeholder??i("lexical:general:placeholder"),t[4]=n?.admin?.placeholder,t[5]=i,t[6]=e):e=t[6],l=(0,o.jsx)(T,{"aria-placeholder":i("lexical:general:placeholder"),className:r??"ContentEditable__root",placeholder:(0,o.jsx)("p",{className:"editor-placeholder",children:e})}),t[0]=r,t[1]=n?.admin?.placeholder,t[2]=i,t[3]=l}else l=t[3];return l}var eg=e=>{let t,r=(0,v.c)(19),{editorConfig:n,editorContainerRef:l,isSmallWidthViewport:a,onChange:u}=e,d=(0,i.b)(),[c]=(0,f.g)(),[p,g]=(0,s.useState)(null),h;r[0]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{null!==e&&g(e)},r[0]=h):h=r[0];let y=h,x,b;if(r[1]!==c||r[2]!==d?(x=()=>{if(!d?.uuid){console.error("Lexical Editor must be used within an EditorConfigProvider");return}d?.parentEditor?.uuid&&d.parentEditor?.registerChild(d.uuid,d);let e=()=>{d.focusEditor(d)},t=()=>{d.blurEditor(d)},r=c.registerCommand(m.m$w,()=>(e(),!0),m.KB),n=c.registerCommand(m.GqL,()=>(t(),!0),m.KB);return()=>{r(),n(),d.parentEditor?.unregisterChild?.(d.uuid)}},b=[c,d],r[1]=c,r[2]=d,r[3]=x,r[4]=b):(x=r[3],b=r[4]),(0,s.useEffect)(x,b),r[5]!==c||r[6]!==n||r[7]!==l||r[8]!==p||r[9]!==a||r[10]!==u){let e,i;r[12]!==u?(e=(e,t,r)=>{(!r.has("focus")||r.size>1)&&u?.(e,t,r)},r[12]=u,r[13]=e):e=r[13],r[14]!==c||r[15]!==n.features.plugins||r[16]!==p||r[17]!==a?(i=p&&(0,o.jsxs)(s.Fragment,{children:[!a&&c.isEditable()&&(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(en,{anchorElem:p}),(0,o.jsx)(er,{anchorElem:p})]}),n.features.plugins?.map(e=>{if("floatingAnchorElem"===e.position&&!(!0===e.desktopOnly&&a))return o.jsx(V,{anchorElem:p,clientProps:e.clientProps,plugin:e},e.key)}),c.isEditable()&&(0,o.jsx)(s.Fragment,{children:(0,o.jsx)(ef,{anchorElem:p})})]}),r[14]=c,r[15]=n.features.plugins,r[16]=p,r[17]=a,r[18]=i):i=r[18],t=(0,o.jsxs)(s.Fragment,{children:[n.features.plugins?.map(eh),(0,o.jsxs)("div",{className:"editor-container",ref:l,children:[n.features.plugins?.map(ey),(0,o.jsx)(K,{contentEditable:(0,o.jsx)("div",{className:"editor-scroller",children:(0,o.jsx)("div",{className:"editor",ref:y,children:(0,o.jsx)(ep,{editorConfig:n})})}),ErrorBoundary:C}),(0,o.jsx)(es,{}),(0,o.jsx)(eo,{}),(0,o.jsx)(q,{}),(0,o.jsx)(em,{features:n.features}),(0,o.jsx)(eu,{}),(0,o.jsx)(_,{ignoreSelectionChange:!0,onChange:e}),i,c.isEditable()&&(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(k,{}),n?.features?.markdownTransformers?.length>0&&(0,o.jsx)(ea,{})]}),n.features.plugins?.map(ev),n.features.plugins?.map(ex)]}),n.features.plugins?.map(eb)]}),r[5]=c,r[6]=n,r[7]=l,r[8]=p,r[9]=a,r[10]=u,r[11]=t}else t=r[11];return t};function eh(e){if("aboveContainer"===e.position)return(0,o.jsx)(V,{clientProps:e.clientProps,plugin:e},e.key)}function ey(e){if("top"===e.position)return(0,o.jsx)(V,{clientProps:e.clientProps,plugin:e},e.key)}function ev(e){if("normal"===e.position)return(0,o.jsx)(V,{clientProps:e.clientProps,plugin:e},e.key)}function ex(e){if("bottom"===e.position)return(0,o.jsx)(V,{clientProps:e.clientProps,plugin:e},e.key)}function eb(e){if("belowContainer"===e.position)return(0,o.jsx)(V,{clientProps:e.clientProps,plugin:e},e.key)}var eE=({children:e,providers:t})=>{if(!t?.length)return e;let r=t[0];return t.length>1?(0,o.jsx)(r,{children:(0,o.jsx)(eE,{providers:t.slice(1),children:e})}):(0,o.jsx)(r,{children:e})},eC=e=>{let{composerKey:t,editorConfig:r,fieldProps:a,isSmallWidthViewport:u,onChange:d,readOnly:c,value:f}=e,m=(0,i.b)(),p=(0,l.useEditDepth)(),g=s.useRef(null),h=(0,s.useMemo)(()=>{if(f&&"object"!=typeof f)throw Error("The value passed to the Lexical editor is not an object. This is not supported. Please remove the data from the field and start again. This is the value that was passed in: "+JSON.stringify(f));if(f&&Array.isArray(f)&&!("root"in f))throw Error("You have tried to pass in data from the old Slate editor to the new Lexical editor. The data structure is different, thus you will have to migrate your data. We offer a one-line migration script which migrates all your rich text fields: https://payloadcms.com/docs/lexical/migration#migration-via-migration-script-recommended");if(f&&"jsonContent"in f)throw Error("You have tried to pass in data from payload-plugin-lexical. The data structure is different, thus you will have to migrate your data. Migration guide: https://payloadcms.com/docs/lexical/migration#migrating-from-payload-plugin-lexical");return{editable:!0!==c,editorState:null!=f?JSON.stringify(f):void 0,namespace:r.lexical.namespace,nodes:(0,n.l)({editorConfig:r}),onError:e=>{throw e},theme:r.lexical.theme}},[r]);return h?(0,o.jsx)(y,{initialConfig:h,children:(0,o.jsx)(i.a,{editorConfig:r,editorContainerRef:g,fieldProps:a,parentContext:m?.editDepth===p?m:void 0,children:(0,o.jsx)(eE,{providers:r.features.providers,children:(0,o.jsx)(eg,{editorConfig:r,editorContainerRef:g,isSmallWidthViewport:u,onChange:d})})})},t+h.editable):(0,o.jsx)("p",{children:"Loading..."})},ej="rich-text-lexical";function eS({error:e}){return(0,o.jsxs)("div",{className:"errorBoundary",role:"alert",children:[(0,o.jsx)("p",{children:"Something went wrong:"}),(0,o.jsx)("pre",{style:{color:"red"},children:e.message})]})}var ek=e=>{let{editorConfig:t,field:r,field:{admin:{className:i,description:u,readOnly:d}={},label:f,localized:m,required:p},path:g,readOnly:h,validate:y}=e,v=(0,l.useEditDepth)(),x=(0,s.useCallback)((e,t)=>"function"!=typeof y||y(e,{...t,required:p}),[y,p]),{customComponents:{AfterInput:b,BeforeInput:E,Description:C,Error:j,Label:S}={},disabled:k,initialValue:w,path:_,setValue:N,showError:P,value:L}=(0,l.useField)({potentiallyStalePath:g,validate:x}),B=h||d||k,[R,O]=(0,s.useState)(!1),[K,M]=(0,s.useState)(),D=s.useRef(w),F=s.useRef(L);(0,s.useEffect)(()=>{let e=()=>{let e=window.matchMedia("(max-width: 768px)").matches;e!==R&&O(e)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[R]);let $=[ej,"field-type",i,P&&"error",B&&`${ej}--read-only`,t?.admin?.hideGutter===!0||R?null:`${ej}--show-gutter`].filter(Boolean).join(" "),I=`${_}.${v}`,T=(0,n.b)(),G=(0,s.useCallback)(e=>{T(()=>{let t=e.toJSON();F.current=t,N(t)})},[N,T]),V=(0,s.useMemo)(()=>(0,a.Mb)(r),[r]),q=(0,l.useEffectEvent)(e=>{F.current!==L&&JSON.stringify(F.current)!==JSON.stringify(L)&&(D.current=e,F.current=L,M(new Date))});return(0,s.useEffect)(()=>{Object.is(w,D.current)||q(w)},[w]),(0,o.jsxs)("div",{className:$,style:V,children:[(0,o.jsx)(l.RenderCustomComponent,{CustomComponent:j,Fallback:(0,o.jsx)(l.FieldError,{path:_,showError:P})}),S||(0,o.jsx)(l.FieldLabel,{label:f,localized:m,path:_,required:p}),(0,o.jsxs)("div",{className:`${ej}__wrap`,children:[(0,o.jsxs)(c,{fallbackRender:eS,onReset:()=>{},children:[E,(0,o.jsx)(eC,{composerKey:I,editorConfig:t,fieldProps:e,isSmallWidthViewport:R,onChange:G,readOnly:B,value:L},JSON.stringify({path:_,rerenderProviderKey:K})),b]}),C,(0,o.jsx)(l.RenderCustomComponent,{CustomComponent:C,Fallback:(0,o.jsx)(l.FieldDescription,{description:u,path:_})})]})]},I)}}};