"use strict";exports.id=5656,exports.ids=[5656],exports.modules={95656:(e,l,a)=>{a.r(l),a.d(l,{RelationshipComponent:()=>x});var s=a(83984),t=a(97673),o=a(74730),i=a(10326),n=a(42337),r=a(36814),c=a(85768),d=a(12536),u=a(2608),p=a(54511),m=a(17577),b="lexical-relationship",h={depth:0},g=e=>{let{data:{relationTo:l,value:a},nodeKey:g}=e;if("object"==typeof a)throw Error("Relationship value should be a string or number. The Lexical Relationship component should not receive the populated value object.");let x=(0,m.useRef)(null),[v]=(0,n.g)(),{fieldProps:{readOnly:_}}=(0,o.b)(),{config:{routes:{api:j},serverURL:f},getEntityConfig:$}=(0,c.b)(),[w]=(0,m.useState)(()=>$({collectionSlug:l})),{i18n:R,t:y}=(0,d.d)(),[D,N]=(0,m.useReducer)(e=>e+1,0),[{data:C},{setParams:S}]=(0,u.usePayloadAPI)(`${f}${j}/${w.slug}/${a}`,{initialParams:h}),{closeDocumentDrawer:B,DocumentDrawer:P,DocumentDrawerToggler:k}=(0,t.a)({id:a,collectionSlug:w.slug}),E=(0,m.useCallback)(()=>{v.update(()=>{p.gID(g)?.remove()})},[v,g]),T=m.useCallback(()=>{S({...h,cacheBust:D}),B(),N()},[D,S,B]);return(0,i.jsxs)("div",{className:b,contentEditable:!1,ref:x,children:[(0,i.jsxs)("div",{className:`${b}__wrap`,children:[(0,i.jsx)("p",{className:`${b}__label`,children:y("fields:labelRelationship",{label:w.labels?.singular?(0,r.i)(w.labels?.singular,R):w.slug})}),(0,i.jsx)(k,{className:`${b}__doc-drawer-toggler`,children:(0,i.jsx)("p",{className:`${b}__title`,children:C?C[w?.admin?.useAsTitle||"id"]:a})})]}),v.isEditable()&&(0,i.jsxs)("div",{className:`${b}__actions`,children:[(0,i.jsx)(u.Button,{buttonStyle:"icon-label",className:`${b}__swapButton`,disabled:_,el:"button",icon:"swap",onClick:()=>{g&&v.dispatchCommand(s.a,{replace:{nodeKey:g}})},round:!0,tooltip:y("fields:swapRelationship")}),(0,i.jsx)(u.Button,{buttonStyle:"icon-label",className:`${b}__removeButton`,disabled:_,icon:"x",onClick:e=>{e.preventDefault(),E()},round:!0,tooltip:y("fields:removeRelationship")})]}),!!a&&(0,i.jsx)(P,{onSave:T})]})},x=e=>(0,i.jsx)(g,{...e})}};